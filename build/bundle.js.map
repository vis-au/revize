{"version":3,"file":"bundle.js","sources":["../dist/ViewModel/View.js","../node_modules/vega-lite/node_modules/vega-util/src/accessor.js","../node_modules/vega-lite/node_modules/vega-util/src/error.js","../node_modules/vega-lite/node_modules/vega-util/src/splitAccessPath.js","../node_modules/vega-lite/node_modules/vega-util/src/isArray.js","../node_modules/vega-lite/node_modules/vega-util/src/isObject.js","../node_modules/vega-lite/node_modules/vega-util/src/isString.js","../node_modules/vega-lite/node_modules/vega-util/src/stringValue.js","../node_modules/vega-lite/node_modules/vega-util/src/field.js","../node_modules/vega-lite/node_modules/vega-util/src/accessors.js","../node_modules/vega-lite/node_modules/vega-util/src/logger.js","../node_modules/vega-lite/node_modules/vega-util/src/isBoolean.js","../node_modules/vega-lite/node_modules/vega-util/src/isNumber.js","../node_modules/vega-lite/node_modules/vega-util/src/toSet.js","../node_modules/clone/clone.js","../node_modules/fast-json-stable-stringify/index.js","../node_modules/vega-lite/src/util.ts","../node_modules/vega-lite/src/mark.ts","../dist/ViewModel/PlotView.js","../dist/ViewModel/CompositionView.js","../dist/ViewModel/ConcatView.js","../dist/ViewModel/FacetView.js","../dist/ViewModel/LayerView.js","../dist/ViewModel/RepeatView.js","../node_modules/vega-lite/src/data.ts","../node_modules/vega-lite/src/spec/concat.ts","../node_modules/vega-lite/src/spec/facet.ts","../node_modules/vega-lite/src/spec/layer.ts","../node_modules/vega-lite/src/spec/repeat.ts","../node_modules/vega-lite/src/spec/unit.ts","../node_modules/vega-lite/src/spec/index.ts","../dist/ViewModel/MarkEncoding.js","../dist/ViewModel/SpecUtils.js","../dist/DataModel/GraphNode.js","../dist/DataModel/Datasets/DatasetNode.js","../dist/DataModel/Transforms/TranformNode.js","../dist/DataModel/Transforms/TransformTypes.js","../dist/DataModel/Datasets/InlineDatasetNode.js","../dist/DataModel/Datasets/NamedDataSourceNode.js","../dist/DataModel/Datasets/URLDatasetNode.js","../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/tsv.js","../node_modules/d3-dsv/src/autoType.js","../dist/DataModel/DataImporter.js","../dist/DataModel/index.js","../dist/ViewModel/SpecCompiler.js","../node_modules/tslib/tslib.es6.js","../node_modules/vega-lite/src/aggregate.ts","../node_modules/vega-lite/src/channel.ts","../node_modules/vega-lite/src/bin.ts","../node_modules/vega-lite/src/log/message.ts","../node_modules/vega-lite/src/log/index.ts","../node_modules/vega-lite/src/datetime.ts","../node_modules/vega-lite/src/timeunit.ts","../node_modules/vega-lite/src/type.ts","../node_modules/vega-lite/src/channeldef.ts","../dist/ViewModel/SpecParser.js","../dist/ViewModel/LayoutType.js","../dist/ViewModel/MarkType.js","../dist/ViewModel/index.js","../node_modules/parseuri/index.js","../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../node_modules/socket.io-client/build/url.js","../node_modules/has-cors/index.js","../node_modules/engine.io-client/lib/globalThis.browser.js","../node_modules/engine.io-client/lib/xmlhttprequest.js","../node_modules/engine.io-parser/lib/commons.js","../node_modules/engine.io-parser/lib/encodePacket.browser.js","../node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","../node_modules/engine.io-parser/lib/decodePacket.browser.js","../node_modules/engine.io-parser/lib/index.js","../node_modules/component-emitter/index.js","../node_modules/engine.io-client/lib/transport.js","../node_modules/parseqs/index.js","../node_modules/yeast/index.js","../node_modules/engine.io-client/lib/transports/polling.js","../node_modules/engine.io-client/lib/util.js","../node_modules/engine.io-client/lib/transports/polling-xhr.js","../node_modules/engine.io-client/lib/transports/polling-jsonp.js","../node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js","../node_modules/engine.io-client/lib/transports/websocket.js","../node_modules/engine.io-client/lib/transports/index.js","../node_modules/engine.io-client/lib/socket.js","../node_modules/engine.io-client/lib/index.js","../node_modules/socket.io-parser/dist/is-binary.js","../node_modules/socket.io-parser/dist/binary.js","../node_modules/socket.io-parser/dist/index.js","../node_modules/socket.io-client/build/on.js","../node_modules/socket.io-client/build/socket.js","../node_modules/backo2/index.js","../node_modules/socket.io-client/build/manager.js","../node_modules/socket.io-client/build/index.js","../dist/WebsocketBridge/index.js","../dist/index.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.View = void 0;\r\nclass View {\r\n    constructor(visualElements, layout, parent) {\r\n        this.visualElements = visualElements;\r\n        this.layout = layout;\r\n        this.parent = parent;\r\n        this.id = `view${Math.round(Math.random() * 10000)}`;\r\n        this.hierarchyLevel = -1;\r\n        this.dataNode = null;\r\n        this.encodings = new Map();\r\n        this.overwrittenEncodings = new Map();\r\n    }\r\n    /**\r\n     * Returns the flattened hierarchy of views succeeding this one.\r\n     */\r\n    getFlatHierarchy() {\r\n        const successors = [];\r\n        successors.push(this);\r\n        this.visualElements.forEach(successor => {\r\n            successors.push(...successor.getFlatHierarchy());\r\n        });\r\n        return successors;\r\n    }\r\n    /**\r\n     * Returns the hierarchy level of this view, starting at 0.\r\n     */\r\n    getHierarchyLevel() {\r\n        if (this.hierarchyLevel > -1) {\r\n            return this.hierarchyLevel;\r\n        }\r\n        // since the view may have visual elements from different leves, output the highest value\r\n        // between all sub-hierarchies\r\n        if (this.visualElements.length === 0) {\r\n            return 0;\r\n        }\r\n        const subHierarchies = this.visualElements.map(v => v.getHierarchyLevel());\r\n        this.hierarchyLevel = Math.max(...subHierarchies) + 1;\r\n        return this.hierarchyLevel;\r\n    }\r\n    setEncodedValue(encoding, value) {\r\n        this.encodings.set(encoding, value);\r\n    }\r\n    getEncodedValue(encoding) {\r\n        return this.encodings.get(encoding);\r\n    }\r\n    deleteEncodedValue(encoding) {\r\n        this.encodings.delete(encoding);\r\n    }\r\n    set dataTransformationNode(transformNode) {\r\n        this.dataNode = transformNode;\r\n    }\r\n    get dataTransformationNode() {\r\n        return this.dataNode;\r\n    }\r\n    get data() {\r\n        if (this.dataNode === null) {\r\n            return null;\r\n        }\r\n        const data = this.dataNode.getSchema();\r\n        return data;\r\n    }\r\n    get transform() {\r\n        if (this.dataNode === null) {\r\n            return [];\r\n        }\r\n        const transform = this.dataNode.getTransform();\r\n        return transform;\r\n    }\r\n}\r\nexports.View = View;\r\n","export default function(fn, fields, name) {\n  fn.fields = fields || [];\n  fn.fname = name;\n  return fn;\n}\n\nexport function accessorName(fn) {\n  return fn == null ? null : fn.fname;\n}\n\nexport function accessorFields(fn) {\n  return fn == null ? null : fn.fields;\n}\n","export default function(message) {\n  throw Error(message);\n}\n","import error from './error';\n\nexport default function(p) {\n  var path = [],\n      q = null,\n      b = 0,\n      n = p.length,\n      s = '',\n      i, j, c;\n\n  p = p + '';\n\n  function push() {\n    path.push(s + p.substring(i, j));\n    s = '';\n    i = j + 1;\n  }\n\n  for (i=j=0; j<n; ++j) {\n    c = p[j];\n    if (c === '\\\\') {\n      s += p.substring(i, j);\n      i = ++j;\n    } else if (c === q) {\n      push();\n      q = null;\n      b = -1;\n    } else if (q) {\n      continue;\n    } else if (i === b && c === '\"') {\n      i = j + 1;\n      q = c;\n    } else if (i === b && c === \"'\") {\n      i = j + 1;\n      q = c;\n    } else if (c === '.' && !b) {\n      if (j > i) {\n        push();\n      } else {\n        i = j + 1;\n      }\n    } else if (c === '[') {\n      if (j > i) push();\n      b = i = j + 1;\n    } else if (c === ']') {\n      if (!b) error('Access path missing open bracket: ' + p);\n      if (b > 0) push();\n      b = 0;\n      i = j + 1;\n    }\n  }\n\n  if (b) error('Access path missing closing bracket: ' + p);\n  if (q) error('Access path missing closing quote: ' + p);\n\n  if (j > i) {\n    j++;\n    push();\n  }\n\n  return path;\n}\n","export default Array.isArray;\n","export default function(_) {\n  return _ === Object(_);\n}\n","export default function(_) {\n  return typeof _ === 'string';\n}\n","import isArray from './isArray';\nimport isObject from './isObject';\nimport isString from './isString';\n\nexport default function $(x) {\n  return isArray(x) ? '[' + x.map($) + ']'\n    : isObject(x) || isString(x) ?\n      // Output valid JSON and JS source strings.\n      // See http://timelessrepo.com/json-isnt-a-javascript-subset\n      JSON.stringify(x).replace('\\u2028','\\\\u2028').replace('\\u2029', '\\\\u2029')\n    : x;\n}\n","import accessor from './accessor';\nimport splitAccessPath from './splitAccessPath';\nimport stringValue from './stringValue';\n\nexport default function(field, name) {\n  var path = splitAccessPath(field),\n      code = 'return _[' + path.map(stringValue).join('][') + '];';\n\n  return accessor(\n    Function('_', code),\n    [(field = path.length===1 ? path[0] : field)],\n    name || field\n  );\n}\n","import accessor from './accessor';\nimport field from './field';\n\nvar empty = [];\n\nexport var id = field('id');\n\nexport var identity = accessor(function(_) { return _; }, empty, 'identity');\n\nexport var zero = accessor(function() { return 0; }, empty, 'zero');\n\nexport var one = accessor(function() { return 1; }, empty, 'one');\n\nexport var truthy = accessor(function() { return true; }, empty, 'true');\n\nexport var falsy = accessor(function() { return false; }, empty, 'false');\n","function log(method, level, input) {\n  var msg = [level].concat([].slice.call(input));\n  console[method](...msg); // eslint-disable-line no-console\n}\n\nexport var None  = 0;\nexport var Error = 1;\nexport var Warn  = 2;\nexport var Info  = 3;\nexport var Debug = 4;\n\nexport default function(_, method) {\n  var level = _ || None;\n  return {\n    level: function(_) {\n      if (arguments.length) {\n        level = +_;\n        return this;\n      } else {\n        return level;\n      }\n    },\n    error: function() {\n      if (level >= Error) log(method || 'error', 'ERROR', arguments);\n      return this;\n    },\n    warn: function() {\n      if (level >= Warn) log(method || 'warn', 'WARN', arguments);\n      return this;\n    },\n    info: function() {\n      if (level >= Info) log(method || 'log', 'INFO', arguments);\n      return this;\n    },\n    debug: function() {\n      if (level >= Debug) log(method || 'log', 'DEBUG', arguments);\n      return this;\n    }\n  }\n}\n","export default function(_) {\n  return typeof _ === 'boolean';\n}\n","export default function(_) {\n  return typeof _ === 'number';\n}\n","export default function(_) {\n  for (var s={}, i=0, n=_.length; i<n; ++i) s[_[i]] = true;\n  return s;\n}\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","import {default as clone_} from 'clone';\nimport deepEqual_ from 'fast-deep-equal';\nimport stableStringify from 'fast-json-stable-stringify';\nimport {isArray, isNumber, isString, splitAccessPath, stringValue} from 'vega-util';\nimport {isLogicalAnd, isLogicalNot, isLogicalOr, LogicalOperand} from './logical';\n\nexport const deepEqual = deepEqual_;\nexport const duplicate = clone_;\n\n/**\n * Creates an object composed of the picked object properties.\n *\n * var object = {'a': 1, 'b': '2', 'c': 3};\n * pick(object, ['a', 'c']);\n * // → {'a': 1, 'c': 3}\n *\n */\nexport function pick<T extends object, K extends keyof T>(obj: T, props: K[]): Pick<T, K> {\n  const copy: any = {};\n  for (const prop of props) {\n    if (obj.hasOwnProperty(prop)) {\n      copy[prop] = obj[prop];\n    }\n  }\n  return copy;\n}\n\n/**\n * The opposite of _.pick; this method creates an object composed of the own\n * and inherited enumerable string keyed properties of object that are not omitted.\n */\nexport function omit<T extends object, K extends keyof T>(obj: T, props: K[]): Omit<T, K> {\n  const copy = {...(obj as any)};\n  for (const prop of props) {\n    delete copy[prop];\n  }\n  return copy;\n}\n\n/**\n * Monkey patch Set so that `stringify` produces a string representation of sets.\n */\nSet.prototype['toJSON'] = function() {\n  return `Set(${[...this].map(x => stableStringify(x)).join(',')})`;\n};\n\n/**\n * Converts any object to a string representation that can be consumed by humans.\n */\nexport const stringify = stableStringify;\n\n/**\n * Converts any object to a string of limited size, or a number.\n */\nexport function hash(a: any): string | number {\n  if (isNumber(a)) {\n    return a;\n  }\n\n  const str = isString(a) ? a : stableStringify(a);\n\n  // short strings can be used as hash directly, longer strings are hashed to reduce memory usage\n  if (str.length < 250) {\n    return str;\n  }\n\n  // from http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/\n  let h = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    h = (h << 5) - h + char;\n    h = h & h; // Convert to 32bit integer\n  }\n  return h;\n}\n\nexport function isNullOrFalse(x: any): x is false | null {\n  return x === false || x === null;\n}\n\nexport function contains<T>(array: T[], item: T) {\n  return array.indexOf(item) > -1;\n}\n\n/** Returns the array without the elements in item */\nexport function without<T>(array: T[], excludedItems: T[]) {\n  return array.filter(item => !contains(excludedItems, item));\n}\n\nexport function union<T>(array: T[], other: T[]) {\n  return array.concat(without(other, array));\n}\n\n/**\n * Returns true if any item returns true.\n */\nexport function some<T>(arr: T[], f: (d: T, k?: any, i?: any) => boolean) {\n  let i = 0;\n  for (const [k, a] of arr.entries()) {\n    if (f(a, k, i++)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Returns true if all items return true.\n */\nexport function every<T>(arr: T[], f: (d: T, k?: any, i?: any) => boolean) {\n  let i = 0;\n  for (const [k, a] of arr.entries()) {\n    if (!f(a, k, i++)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function flatten<T>(arrays: T[][]): T[] {\n  return ([] as T[]).concat(...arrays);\n}\n\nexport function fill<T>(val: T, len: number) {\n  const arr = new Array<T>(len);\n  for (let i = 0; i < len; ++i) {\n    arr[i] = val;\n  }\n  return arr;\n}\n\n/**\n * Like TS Partial but applies recursively to all properties.\n */\nexport type DeepPartial<T> = {[P in keyof T]?: DeepPartial<T[P]>};\n\n/**\n * recursively merges src into dest\n */\nexport function mergeDeep<T>(dest: T, ...src: DeepPartial<T>[]): T {\n  for (const s of src) {\n    dest = deepMerge_(dest, s);\n  }\n  return dest;\n}\n\n// recursively merges src into dest\nfunction deepMerge_(dest: any, src: any) {\n  if (typeof src !== 'object' || src === null) {\n    return dest;\n  }\n\n  for (const p in src) {\n    if (!src.hasOwnProperty(p)) {\n      continue;\n    }\n    if (src[p] === undefined) {\n      continue;\n    }\n    if (typeof src[p] !== 'object' || isArray(src[p]) || src[p] === null) {\n      dest[p] = src[p];\n    } else if (typeof dest[p] !== 'object' || dest[p] === null) {\n      dest[p] = mergeDeep(isArray(src[p].constructor) ? [] : {}, src[p]);\n    } else {\n      mergeDeep(dest[p], src[p]);\n    }\n  }\n  return dest;\n}\n\nexport function unique<T>(values: T[], f: (item: T) => string | number): T[] {\n  const results: T[] = [];\n  const u = {};\n  let v: string | number;\n  for (const val of values) {\n    v = f(val);\n    if (v in u) {\n      continue;\n    }\n    u[v] = 1;\n    results.push(val);\n  }\n  return results;\n}\n\nexport interface Dict<T> {\n  [key: string]: T;\n}\n\n/**\n * Returns true if the two dictionaries disagree. Applies only to defined values.\n */\nexport function isEqual<T>(dict: Dict<T>, other: Dict<T>) {\n  const dictKeys = keys(dict);\n  const otherKeys = keys(other);\n  if (dictKeys.length !== otherKeys.length) {\n    return false;\n  }\n  for (const key of dictKeys) {\n    if (dict[key] !== other[key]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function setEqual<T>(a: Set<T>, b: Set<T>) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const e of a) {\n    if (!b.has(e)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function hasIntersection<T>(a: Set<T>, b: Set<T>) {\n  for (const key of a) {\n    if (b.has(key)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function prefixGenerator(a: Set<string>): Set<string> {\n  const prefixes = new Set<string>();\n  for (const x of a) {\n    const splitField = splitAccessPath(x);\n    // Wrap every element other than the first in `[]`\n    const wrappedWithAccessors = splitField.map((y, i) => (i === 0 ? y : `[${y}]`));\n    const computedPrefixes = wrappedWithAccessors.map((_, i) => wrappedWithAccessors.slice(0, i + 1).join(''));\n    computedPrefixes.forEach(y => prefixes.add(y));\n  }\n  return prefixes;\n}\n\nexport function fieldIntersection(a: Set<string>, b: Set<string>): boolean {\n  return hasIntersection(prefixGenerator(a), prefixGenerator(b));\n}\n\nexport function isNumeric(num: string | number) {\n  return !isNaN(num as any);\n}\n\nexport function differArray<T>(array: T[], other: T[]) {\n  if (array.length !== other.length) {\n    return true;\n  }\n\n  array.sort();\n  other.sort();\n\n  for (let i = 0; i < array.length; i++) {\n    if (other[i] !== array[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// This is a stricter version of Object.keys but with better types. See https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\nexport const keys = Object.keys as <T>(o: T) => (Extract<keyof T, string>)[];\n\nexport function vals<T>(x: {[key: string]: T}): T[] {\n  const _vals: T[] = [];\n  for (const k in x) {\n    if (x.hasOwnProperty(k)) {\n      _vals.push(x[k]);\n    }\n  }\n  return _vals;\n}\n\nexport function entries<T>(x: {[key: string]: T}): {key: string; value: T}[] {\n  const _entries: {key: string; value: T}[] = [];\n  for (const k in x) {\n    if (x.hasOwnProperty(k)) {\n      _entries.push({\n        key: k,\n        value: x[k]\n      });\n    }\n  }\n  return _entries;\n}\n\n// Using mapped type to declare a collect of flags for a string literal type S\n// https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\nexport type Flag<S extends string> = {[K in S]: 1};\n\nexport function isBoolean(b: any): b is boolean {\n  return b === true || b === false;\n}\n\n/**\n * Convert a string into a valid variable name\n */\nexport function varName(s: string): string {\n  // Replace non-alphanumeric characters (anything besides a-zA-Z0-9_) with _\n  const alphanumericS = s.replace(/\\W/g, '_');\n\n  // Add _ if the string has leading numbers.\n  return (s.match(/^\\d+/) ? '_' : '') + alphanumericS;\n}\n\nexport function logicalExpr<T>(op: LogicalOperand<T>, cb: (...args: any[]) => string): string {\n  if (isLogicalNot(op)) {\n    return '!(' + logicalExpr(op.not, cb) + ')';\n  } else if (isLogicalAnd(op)) {\n    return '(' + op.and.map((and: LogicalOperand<T>) => logicalExpr(and, cb)).join(') && (') + ')';\n  } else if (isLogicalOr(op)) {\n    return '(' + op.or.map((or: LogicalOperand<T>) => logicalExpr(or, cb)).join(') || (') + ')';\n  } else {\n    return cb(op);\n  }\n}\n\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n\n/**\n * Delete nested property of an object, and delete the ancestors of the property if they become empty.\n */\nexport function deleteNestedProperty(obj: any, orderedProps: string[]) {\n  if (orderedProps.length === 0) {\n    return true;\n  }\n  const prop = orderedProps.shift();\n  if (deleteNestedProperty(obj[prop], orderedProps)) {\n    delete obj[prop];\n  }\n  return keys(obj).length === 0;\n}\n\nexport function titlecase(s: string) {\n  return s.charAt(0).toUpperCase() + s.substr(1);\n}\n\n/**\n * Converts a path to an access path with datum.\n * @param path The field name.\n * @param datum The string to use for `datum`.\n */\nexport function accessPathWithDatum(path: string, datum = 'datum') {\n  const pieces = splitAccessPath(path);\n  const prefixes = [];\n  for (let i = 1; i <= pieces.length; i++) {\n    const prefix = `[${pieces\n      .slice(0, i)\n      .map(stringValue)\n      .join('][')}]`;\n    prefixes.push(`${datum}${prefix}`);\n  }\n  return prefixes.join(' && ');\n}\n\n/**\n * Return access with datum to the flattened field.\n *\n * @param path The field name.\n * @param datum The string to use for `datum`.\n */\nexport function flatAccessWithDatum(path: string, datum: 'datum' | 'parent' | 'datum.datum' = 'datum') {\n  return `${datum}[${stringValue(splitAccessPath(path).join('.'))}]`;\n}\n\n/**\n * Replaces path accesses with access to non-nested field.\n * For example, `foo[\"bar\"].baz` becomes `foo\\\\.bar\\\\.baz`.\n */\nexport function replacePathInField(path: string) {\n  return `${splitAccessPath(path)\n    .map(p => p.replace('.', '\\\\.'))\n    .join('\\\\.')}`;\n}\n\n/**\n * Remove path accesses with access from field.\n * For example, `foo[\"bar\"].baz` becomes `foo.bar.baz`.\n */\nexport function removePathFromField(path: string) {\n  return `${splitAccessPath(path).join('.')}`;\n}\n\n/**\n * Count the depth of the path. Returns 1 for fields that are not nested.\n */\nexport function accessPathDepth(path: string) {\n  if (!path) {\n    return 0;\n  }\n  return splitAccessPath(path).length;\n}\n\n/**\n * This is a replacement for chained || for numeric properties or properties that respect null so that 0 will be included.\n */\nexport function getFirstDefined<T>(...args: T[]): T {\n  for (const arg of args) {\n    if (arg !== undefined) {\n      return arg;\n    }\n  }\n  return undefined;\n}\n\n// variable used to generate id\nlet idCounter = 42;\n\n/**\n * Returns a new random id every time it gets called.\n *\n * Has side effect!\n */\nexport function uniqueId(prefix?: string) {\n  const id = ++idCounter;\n  return prefix ? String(prefix) + id : id;\n}\n\n/**\n * Resets the id counter used in uniqueId. This can be useful for testing.\n */\nexport function resetIdCounter() {\n  idCounter = 42;\n}\n\nexport function internalField(name: string) {\n  return isInternalField(name) ? name : `__${name}`;\n}\n\nexport function isInternalField(name: string) {\n  return name.indexOf('__') === 0;\n}\n\n/**\n * Normalize angle to be within [0,360).\n */\nexport function normalizeAngle(angle: number) {\n  return ((angle % 360) + 360) % 360;\n}\n","import {Color} from 'vega';\nimport {toSet} from 'vega-util';\nimport {Value} from './channeldef';\nimport {CompositeMark, CompositeMarkDef} from './compositemark/index';\nimport {contains, keys} from './util';\nimport {BaseMarkConfig} from './vega.schema';\n\nexport const AREA: 'area' = 'area';\nexport const BAR: 'bar' = 'bar';\nexport const LINE: 'line' = 'line';\nexport const POINT: 'point' = 'point';\nexport const RECT: 'rect' = 'rect';\nexport const RULE: 'rule' = 'rule';\nexport const TEXT: 'text' = 'text';\nexport const TICK: 'tick' = 'tick';\nexport const TRAIL: 'trail' = 'trail';\nexport const CIRCLE: 'circle' = 'circle';\nexport const SQUARE: 'square' = 'square';\nexport const GEOSHAPE: 'geoshape' = 'geoshape';\n\n/**\n * All types of primitive marks.\n */\nexport type Mark =\n  | typeof AREA\n  | typeof BAR\n  | typeof LINE\n  | typeof TRAIL\n  | typeof POINT\n  | typeof TEXT\n  | typeof TICK\n  | typeof RECT\n  | typeof RULE\n  | typeof CIRCLE\n  | typeof SQUARE\n  | typeof GEOSHAPE;\n\n// Using mapped type to declare index, ensuring we always have all marks when we add more.\nconst MARK_INDEX: {[M in Mark]: 1} = {\n  area: 1,\n  bar: 1,\n  line: 1,\n  point: 1,\n  text: 1,\n  tick: 1,\n  trail: 1,\n  rect: 1,\n  geoshape: 1,\n  rule: 1,\n  circle: 1,\n  square: 1\n};\n\nexport function isMark(m: string): m is Mark {\n  return !!MARK_INDEX[m];\n}\n\nexport function isPathMark(m: Mark | CompositeMark): m is 'line' | 'area' | 'trail' {\n  return contains(['line', 'area', 'trail'], m);\n}\n\nexport const PRIMITIVE_MARKS = keys(MARK_INDEX);\n\nexport interface ColorMixins {\n  /**\n   * Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n   *\n   * __Default value:__ <span style=\"color: #4682b4;\">&#9632;</span> `\"#4682b4\"`\n   *\n   * __Note:__ This property cannot be used in a [style config](https://vega.github.io/vega-lite/docs/mark.html#style-config).\n   */\n  color?: Color;\n}\n\nexport interface TooltipContent {\n  content: 'encoding' | 'data';\n}\n\nexport interface MarkConfig extends ColorMixins, BaseMarkConfig {\n  // ========== VL-Specific ==========\n\n  /**\n   * Whether the mark's color should be used as fill color instead of stroke color.\n   *\n   * __Default value:__ `false` for `point`, `line` and `rule`; otherwise, `true`.\n   *\n   * __Note:__ This property cannot be used in a [style config](https://vega.github.io/vega-lite/docs/mark.html#style-config).\n   *\n   */\n  filled?: boolean;\n\n  // ========== Overriding Vega ==========\n\n  /**\n   * The tooltip text string to show upon mouse hover or an object defining which fields should the tooltip be derived from.\n   *\n   * - If `tooltip` is `{\"content\": \"encoding\"}`, then all fields from `encoding` will be used.\n   * - If `tooltip` is `{\"content\": \"data\"}`, then all fields that appear in the highlighted data point will be used.\n   * - If set to `null`, then no tooltip will be used.\n   */\n  tooltip?: Value | TooltipContent | null;\n\n  /**\n   * Default size for marks.\n   * - For `point`/`circle`/`square`, this represents the pixel area of the marks. For example: in the case of circles, the radius is determined in part by the square root of the size value.\n   * - For `bar`, this represents the band size of the bar, in pixels.\n   * - For `text`, this represents the font size, in pixels.\n   *\n   * __Default value:__ `30` for point, circle, square marks; `rangeStep` - 1 for bar marks with discrete dimensions; `5` for bar marks with continuous dimensions; `11` for text marks.\n   *\n   * @minimum 0\n   */\n  size?: number;\n\n  /**\n   * For line and trail marks, this `order` property can be set to `null` or `false` to make the lines use the original order in the data sources.\n   */\n  order?: null | boolean;\n}\n\nexport interface RectBinSpacingMixins {\n  /**\n   * Offset between bars for binned field.  Ideal value for this is either 0 (Preferred by statisticians) or 1 (Vega-Lite Default, D3 example style).\n   *\n   * __Default value:__ `1`\n   *\n   * @minimum 0\n   */\n  binSpacing?: number;\n}\n\nexport type AnyMark = CompositeMark | CompositeMarkDef | Mark | MarkDef;\n\nexport function isMarkDef(mark: string | GenericMarkDef<any>): mark is GenericMarkDef<any> {\n  return mark['type'];\n}\n\nconst PRIMITIVE_MARK_INDEX = toSet(PRIMITIVE_MARKS);\n\nexport function isPrimitiveMark(mark: AnyMark): mark is Mark {\n  const markType = isMarkDef(mark) ? mark.type : mark;\n  return markType in PRIMITIVE_MARK_INDEX;\n}\n\nexport const STROKE_CONFIG = [\n  'stroke',\n  'strokeWidth',\n  'strokeDash',\n  'strokeDashOffset',\n  'strokeOpacity',\n  'strokeJoin',\n  'strokeMiterLimit'\n];\n\nexport const FILL_CONFIG = ['fill', 'fillOpacity'];\n\nexport const FILL_STROKE_CONFIG = [].concat(STROKE_CONFIG, FILL_CONFIG);\n\nexport const VL_ONLY_MARK_CONFIG_PROPERTIES: (keyof MarkConfig)[] = ['filled', 'color', 'tooltip'];\n\nexport const VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX: {\n  [k in typeof PRIMITIVE_MARKS[0]]?: (keyof MarkConfigMixins[k])[];\n} = {\n  area: ['line', 'point'],\n  bar: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n  rect: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n  line: ['point'],\n  text: ['shortTimeLabels'],\n  tick: ['bandSize', 'thickness']\n};\n\nexport const defaultMarkConfig: MarkConfig = {\n  color: '#4c78a8',\n  tooltip: {content: 'encoding'}\n};\n\nexport interface MarkConfigMixins {\n  /** Mark Config */\n  mark?: MarkConfig;\n\n  // MARK-SPECIFIC CONFIGS\n  /** Area-Specific Config */\n  area?: AreaConfig;\n\n  /** Bar-Specific Config */\n  bar?: RectConfig;\n\n  /** Circle-Specific Config */\n  circle?: MarkConfig;\n\n  /** Line-Specific Config */\n  line?: LineConfig;\n\n  /** Point-Specific Config */\n  point?: MarkConfig;\n\n  /** Rect-Specific Config */\n  rect?: RectConfig;\n\n  /** Rule-Specific Config */\n  rule?: MarkConfig;\n\n  /** Square-Specific Config */\n  square?: MarkConfig;\n\n  /** Text-Specific Config */\n  text?: TextConfig;\n\n  /** Tick-Specific Config */\n  tick?: TickConfig;\n\n  /** Trail-Specific Config */\n  trail?: LineConfig;\n\n  /** Geoshape-Specific Config */\n  geoshape?: MarkConfig;\n}\n\nexport interface RectConfig extends RectBinSpacingMixins, MarkConfig {\n  /**\n   * The default size of the bars on continuous scales.\n   *\n   * __Default value:__ `5`\n   *\n   * @minimum 0\n   */\n  continuousBandSize?: number;\n\n  /**\n   * The default size of the bars with discrete dimensions.  If unspecified, the default size is  `bandSize-1`,\n   * which provides 1 pixel offset between bars.\n   * @minimum 0\n   */\n  discreteBandSize?: number;\n}\n\nexport type OverlayMarkDef = MarkConfig & MarkDefMixins;\n\nexport interface PointOverlayMixins {\n  /**\n   * A flag for overlaying points on top of line or area marks, or an object defining the properties of the overlayed points.\n   *\n   * - If this property is `\"transparent\"`, transparent points will be used (for enhancing tooltips and selections).\n   *\n   * - If this property is an empty object (`{}`) or `true`, filled points with default properties will be used.\n   *\n   * - If this property is `false`, no points would be automatically added to line or area marks.\n   *\n   * __Default value:__ `false`.\n   */\n  point?: boolean | OverlayMarkDef | 'transparent';\n}\n\nexport interface LineConfig extends MarkConfig, PointOverlayMixins {}\n\nexport interface LineOverlayMixins {\n  /**\n   * A flag for overlaying line on top of area marks, or an object defining the properties of the overlayed lines.\n   *\n   * - If this value is an empty object (`{}`) or `true`, lines with default properties will be used.\n   *\n   * - If this value is `false`, no lines would be automatically added to area marks.\n   *\n   * __Default value:__ `false`.\n   */\n  line?: boolean | OverlayMarkDef;\n}\n\nexport interface AreaConfig extends MarkConfig, PointOverlayMixins, LineOverlayMixins {}\n\nexport interface TickThicknessMixins {\n  /**\n   * Thickness of the tick mark.\n   *\n   * __Default value:__  `1`\n   *\n   * @minimum 0\n   */\n  thickness?: number;\n}\n\nexport interface GenericMarkDef<M> {\n  /**\n   * The mark type. This could a primitive mark type\n   * (one of `\"bar\"`, `\"circle\"`, `\"square\"`, `\"tick\"`, `\"line\"`,\n   * `\"area\"`, `\"point\"`, `\"geoshape\"`, `\"rule\"`, and `\"text\"`)\n   * or a composite mark type (`\"boxplot\"`, `\"errorband\"`, `\"errorbar\"`).\n   */\n  type: M;\n}\n\nexport interface MarkDefMixins {\n  /**\n   * A string or array of strings indicating the name of custom styles to apply to the mark. A style is a named collection of mark property defaults defined within the [style configuration](https://vega.github.io/vega-lite/docs/mark.html#style-config). If style is an array, later styles will override earlier styles. Any [mark properties](https://vega.github.io/vega-lite/docs/encoding.html#mark-prop) explicitly defined within the `encoding` will override a style default.\n   *\n   * __Default value:__ The mark's name.  For example, a bar mark will have style `\"bar\"` by default.\n   * __Note:__ Any specified style will augment the default style. For example, a bar mark with `\"style\": \"foo\"` will receive from `config.style.bar` and `config.style.foo` (the specified style `\"foo\"` has higher precedence).\n   */\n  style?: string | string[];\n\n  /**\n   * Whether a mark be clipped to the enclosing group’s width and height.\n   */\n  clip?: boolean;\n\n  // Offset properties should not be a part of config\n\n  /**\n   * Offset for x-position.\n   */\n  xOffset?: number;\n\n  /**\n   * Offset for y-position.\n   */\n  yOffset?: number;\n\n  /**\n   * Offset for x2-position.\n   */\n  x2Offset?: number;\n\n  /**\n   * Offset for y2-position.\n   */\n  y2Offset?: number;\n}\n\n// Point/Line OverlayMixins are only for area, line, and trail but we don't want to declare multiple types of MarkDef\n\n// Point/Line OverlayMixins are only for area, line, and trail but we don't want to declare multiple types of MarkDef\nexport interface MarkDef<M extends string | Mark = Mark>\n  extends GenericMarkDef<M>,\n    RectBinSpacingMixins,\n    MarkConfig,\n    PointOverlayMixins,\n    LineOverlayMixins,\n    TickThicknessMixins,\n    MarkDefMixins {}\n\nconst DEFAULT_RECT_BAND_SIZE = 5;\n\nexport const defaultBarConfig: RectConfig = {\n  binSpacing: 1,\n  continuousBandSize: DEFAULT_RECT_BAND_SIZE\n};\n\nexport const defaultRectConfig: RectConfig = {\n  binSpacing: 0,\n  continuousBandSize: DEFAULT_RECT_BAND_SIZE\n};\n\nexport interface TextConfig extends MarkConfig {\n  /**\n   * Whether month names and weekday names should be abbreviated.\n   */\n  shortTimeLabels?: boolean;\n}\n\nexport interface TickConfig extends MarkConfig, TickThicknessMixins {\n  /**\n   * The width of the ticks.\n   *\n   * __Default value:__  3/4 of rangeStep.\n   * @minimum 0\n   */\n  bandSize?: number;\n}\n\nexport const defaultTickConfig: TickConfig = {\n  thickness: 1\n};\n\nexport function getMarkType(m: string | GenericMarkDef<any>) {\n  return isMarkDef(m) ? m.type : m;\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlotView = void 0;\r\nconst mark_1 = require(\"vega-lite/build/src/mark\");\r\nconst View_1 = require(\"./View\");\r\nclass PlotView extends View_1.View {\r\n    constructor(parent = null) {\r\n        super([], null, parent);\r\n        this.mark = null;\r\n    }\r\n    get type() {\r\n        if (mark_1.isPrimitiveMark(this.mark)) {\r\n            return this.mark;\r\n        }\r\n        else if (mark_1.isMarkDef(this.mark)) {\r\n            return this.mark.type;\r\n        }\r\n    }\r\n    set type(type) {\r\n        if (this.mark === null) {\r\n            this.mark = type;\r\n        }\r\n        else {\r\n            if (mark_1.isPrimitiveMark(this.mark)) {\r\n                this.mark = type;\r\n            }\r\n            else if (mark_1.isMarkDef(this.mark)) {\r\n                this.mark.type = type;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.PlotView = PlotView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CompositionView = void 0;\r\nconst View_1 = require(\"./View\");\r\nclass CompositionView extends View_1.View {\r\n    constructor(composition, visualElements, parent = null) {\r\n        super(visualElements, composition, parent);\r\n    }\r\n}\r\nexports.CompositionView = CompositionView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConcatView = void 0;\r\nconst CompositionView_1 = require(\"./CompositionView\");\r\nclass ConcatView extends CompositionView_1.CompositionView {\r\n    constructor(visualElements, parent = null) {\r\n        super('concatenate', visualElements, parent);\r\n        this.isVertical = true;\r\n        this.isWrappable = false;\r\n    }\r\n}\r\nexports.ConcatView = ConcatView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FacetView = void 0;\r\nconst CompositionView_1 = require(\"./CompositionView\");\r\nclass FacetView extends CompositionView_1.CompositionView {\r\n    constructor(visualElements, parent = null) {\r\n        super('facet', visualElements, parent);\r\n        this.isInlineFacetted = false;\r\n    }\r\n}\r\nexports.FacetView = FacetView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LayerView = void 0;\r\nconst CompositionView_1 = require(\"./CompositionView\");\r\nclass LayerView extends CompositionView_1.CompositionView {\r\n    constructor(visualElements, parent = null) {\r\n        super('overlay', visualElements, parent);\r\n        this.groupEncodings = new Map();\r\n    }\r\n}\r\nexports.LayerView = LayerView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RepeatView = void 0;\r\nconst CompositionView_1 = require(\"./CompositionView\");\r\nclass RepeatView extends CompositionView_1.CompositionView {\r\n    constructor(visualElements, parent = null) {\r\n        super('repeat', visualElements, parent);\r\n        this.repeat = {};\r\n    }\r\n}\r\nexports.RepeatView = RepeatView;\r\n","/*\n * Constants and utilities for data.\n */\nimport {VgData} from './vega.schema';\nimport {FieldName} from './channeldef';\n\nexport type ParseValue = null | string | 'string' | 'boolean' | 'date' | 'number';\n\nexport interface Parse {\n  [field: string]: ParseValue;\n}\n\nexport interface DataFormatBase {\n  /**\n   * If set to `null`, disable type inference based on the spec and only use type inference based on the data.\n   * Alternatively, a parsing directive object can be provided for explicit data types. Each property of the object corresponds to a field name, and the value to the desired data type (one of `\"number\"`, `\"boolean\"`, `\"date\"`, or null (do not parse the field)).\n   * For example, `\"parse\": {\"modified_on\": \"date\"}` parses the `modified_on` field in each input record a Date value.\n   *\n   * For `\"date\"`, we parse data based using Javascript's [`Date.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\n   * For Specific date formats can be provided (e.g., `{foo: \"date:'%m%d%Y'\"}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \"utc:'%m%d%Y'\"}`). See more about [UTC time](https://vega.github.io/vega-lite/docs/timeunit.html#utc)\n   */\n  parse?: Parse | null;\n\n  /**\n   * Type of input data: `\"json\"`, `\"csv\"`, `\"tsv\"`, `\"dsv\"`.\n   *\n   * __Default value:__  The default format type is determined by the extension of the file URL.\n   * If no extension is detected, `\"json\"` will be used by default.\n   */\n  type?: 'csv' | 'tsv' | 'dsv' | 'json' | 'topojson';\n}\n\nexport interface CsvDataFormat extends DataFormatBase {\n  type?: 'csv' | 'tsv';\n}\n\nexport interface DsvDataFormat extends DataFormatBase {\n  type?: 'dsv';\n\n  /**\n   * The delimiter between records. The delimiter must be a single character (i.e., a single 16-bit code unit); so, ASCII delimiters are fine, but emoji delimiters are not.\n   *\n   * @minLength 1\n   * @maxLength 1\n   */\n  delimiter: string;\n}\n\nexport interface JsonDataFormat extends DataFormatBase {\n  type?: 'json';\n  /**\n   * The JSON property containing the desired data.\n   * This parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\n   * For example `\"property\": \"values.features\"` is equivalent to retrieving `json.values.features`\n   * from the loaded JSON object.\n   */\n  property?: string;\n}\n\nexport interface TopoDataFormat extends DataFormatBase {\n  type?: 'topojson';\n  /**\n   * The name of the TopoJSON object set to convert to a GeoJSON feature collection.\n   * For example, in a map of the world, there may be an object set named `\"countries\"`.\n   * Using the feature property, we can extract this set and generate a GeoJSON feature object for each country.\n   */\n  feature?: string;\n  /**\n   * The name of the TopoJSON object set to convert to mesh.\n   * Similar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n   *  Unlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as individual GeoJSON features.\n   * Extracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.\n   */\n  mesh?: string;\n}\n\nexport type DataFormat = CsvDataFormat | DsvDataFormat | JsonDataFormat | TopoDataFormat;\n\nexport type DataFormatType = 'json' | 'csv' | 'tsv' | 'dsv' | 'topojson';\n\nexport type DataSource = UrlData | InlineData | NamedData;\n\nexport type Data = DataSource | Generator;\n\nexport type InlineDataset = number[] | string[] | boolean[] | object[] | string | object;\n\nexport interface DataBase {\n  /**\n   * An object that specifies the format for parsing the data.\n   */\n  format?: DataFormat;\n  /**\n   * Provide a placeholder name and bind data at runtime.\n   */\n  name?: string;\n}\n\nexport interface UrlData extends DataBase {\n  /**\n   * An URL from which to load the data set. Use the `format.type` property\n   * to ensure the loaded data is correctly parsed.\n   */\n  url: string;\n}\n\nexport interface InlineData extends DataBase {\n  /**\n   * The full data set, included inline. This can be an array of objects or primitive values, an object, or a string.\n   * Arrays of primitive values are ingested as objects with a `data` property. Strings are parsed according to the specified format type.\n   */\n  values: InlineDataset;\n}\n\nexport interface NamedData extends DataBase {\n  /**\n   * Provide a placeholder name and bind data at runtime.\n   */\n  name: string;\n}\n\nexport function isUrlData(data: Partial<Data> | Partial<VgData>): data is UrlData {\n  return !!data['url'];\n}\n\nexport function isInlineData(data: Partial<Data> | Partial<VgData>): data is InlineData {\n  return !!data['values'];\n}\n\nexport function isNamedData(data: Partial<Data> | Partial<VgData>): data is NamedData {\n  return !!data['name'] && !isUrlData(data) && !isInlineData(data) && !isGenerator(data);\n}\n\nexport function isGenerator(data: Partial<Data> | Partial<VgData>): data is Generator {\n  return data && (isSequenceGenerator(data) || isSphereGenerator(data) || isGraticuleGenerator(data));\n}\n\nexport function isSequenceGenerator(data: Partial<Data> | Partial<VgData>): data is SequenceGenerator {\n  return !!data['sequence'];\n}\n\nexport function isSphereGenerator(data: Partial<Data> | Partial<VgData>): data is SphereGenerator {\n  return !!data['sphere'];\n}\n\nexport function isGraticuleGenerator(data: Partial<Data> | Partial<VgData>): data is GraticuleGenerator {\n  return !!data['graticule'];\n}\n\nexport type DataSourceType = 'raw' | 'main' | 'row' | 'column' | 'lookup';\n\nexport const MAIN: 'main' = 'main';\nexport const RAW: 'raw' = 'raw';\n\nexport type Generator = SequenceGenerator | SphereGenerator | GraticuleGenerator;\n\nexport interface GeneratorBase {\n  /**\n   * Provide a placeholder name and bind data at runtime.\n   */\n  name?: string;\n}\n\nexport interface SequenceGenerator extends GeneratorBase {\n  /**\n   * Generate a sequence of numbers.\n   */\n  sequence: SequenceParams;\n}\n\nexport interface SequenceParams {\n  /**\n   * The starting value of the sequence (inclusive).\n   */\n  start: number;\n  /**\n   * The ending value of the sequence (exclusive).\n   */\n  stop: number;\n  /**\n   * The step value between sequence entries.\n   *\n   * __Default value:__ `1`\n   */\n  step?: number;\n\n  /**\n   * The name of the generated sequence field.\n   *\n   * __Default value:__ `\"data\"`\n   */\n  as?: FieldName;\n}\n\nexport interface SphereGenerator extends GeneratorBase {\n  /**\n   * Generate sphere GeoJSON data for the full globe.\n   */\n  sphere: true | {};\n}\n\nexport interface GraticuleGenerator extends GeneratorBase {\n  /**\n   * Generate graticule GeoJSON data for geographic reference lines.\n   */\n  graticule: true | GraticuleParams;\n}\n\nexport interface GraticuleParams {\n  /**\n   * The major extent of the graticule as a two-element array of coordinates.\n   */\n  extentMajor?: number[][];\n\n  /**\n   * The minor extent of the graticule as a two-element array of coordinates.\n   */\n  extentMinor?: number[][];\n\n  /**\n   * Sets both the major and minor extents to the same values.\n   */\n  extent?: number[][];\n\n  /**\n   * The major step angles of the graticule.\n   *\n   *\n   * __Default value:__ `[90, 360]`\n   */\n  stepMajor?: number[];\n\n  /**\n   * The minor step angles of the graticule.\n   *\n   * __Default value:__ `[10, 10]`\n   */\n  stepMinor?: number[];\n\n  /**\n   * Sets both the major and minor step angles to the same values.\n   */\n  step?: number[];\n\n  /**\n   * The precision of the graticule in degrees.\n   *\n   * __Default value:__ `2.5`\n   */\n  precision?: number;\n}\n","import {BaseSpec, BoundsMixins, GenericCompositionLayoutWithColumns, ResolveMixins} from './base';\nimport {GenericSpec} from './index';\nimport {GenericLayerSpec, NormalizedLayerSpec} from './layer';\nimport {GenericUnitSpec, NormalizedUnitSpec} from './unit';\n\n/**\n * Base layout mixins for V/HConcatSpec, which should not have RowCol<T> generic fo its property.\n */\nexport interface OneDirectionalConcatLayout extends BoundsMixins, ResolveMixins {\n  /**\n   * Boolean flag indicating if subviews should be centered relative to their respective rows or columns.\n   *\n   * __Default value:__ `false`\n   */\n  center?: boolean;\n\n  /**\n   * The spacing in pixels between sub-views of the concat operator.\n   *\n   * __Default value__: `10`\n   */\n  spacing?: number;\n}\n\n/**\n * Base interface for a generalized concatenation specification.\n */\nexport interface GenericConcatSpec<U extends GenericUnitSpec<any, any>, L extends GenericLayerSpec<any>>\n  extends BaseSpec,\n    GenericCompositionLayoutWithColumns,\n    ResolveMixins {\n  /**\n   * A list of views to be concatenated.\n   */\n  concat: (GenericSpec<U, L>)[];\n}\n\n/**\n * Base interface for a vertical concatenation specification.\n */\nexport interface GenericVConcatSpec<U extends GenericUnitSpec<any, any>, L extends GenericLayerSpec<any>>\n  extends BaseSpec,\n    OneDirectionalConcatLayout {\n  /**\n   * A list of views to be concatenated and put into a column.\n   */\n  vconcat: (GenericSpec<U, L>)[];\n}\n\n/**\n * Base interface for a horizontal concatenation specification.\n */\nexport interface GenericHConcatSpec<U extends GenericUnitSpec<any, any>, L extends GenericLayerSpec<any>>\n  extends BaseSpec,\n    OneDirectionalConcatLayout {\n  /**\n   * A list of views to be concatenated and put into a row.\n   */\n  hconcat: (GenericSpec<U, L>)[];\n}\n\n/** A concat spec without any shortcut/expansion syntax */\nexport type NormalizedConcatSpec =\n  | GenericConcatSpec<NormalizedUnitSpec, NormalizedLayerSpec>\n  | GenericVConcatSpec<NormalizedUnitSpec, NormalizedLayerSpec>\n  | GenericHConcatSpec<NormalizedUnitSpec, NormalizedLayerSpec>;\n\nexport function isAnyConcatSpec(spec: BaseSpec): spec is GenericVConcatSpec<any, any> | GenericHConcatSpec<any, any> {\n  return isVConcatSpec(spec) || isHConcatSpec(spec) || isConcatSpec(spec);\n}\n\nexport function isConcatSpec(spec: BaseSpec): spec is GenericConcatSpec<any, any> {\n  return spec['concat'] !== undefined;\n}\n\nexport function isVConcatSpec(spec: BaseSpec): spec is GenericVConcatSpec<any, any> {\n  return spec['vconcat'] !== undefined;\n}\n\nexport function isHConcatSpec(spec: BaseSpec): spec is GenericHConcatSpec<any, any> {\n  return spec['hconcat'] !== undefined;\n}\n","import {BinParams} from '../bin';\nimport {ChannelDef, Field, FieldDef, TypedFieldDef} from '../channeldef';\nimport {Header} from '../header';\nimport {EncodingSortField, SortArray, SortOrder} from '../sort';\nimport {StandardType} from '../type';\nimport {BaseSpec, GenericCompositionLayoutWithColumns, ResolveMixins} from './base';\nimport {FacetMapping} from './facet';\nimport {GenericLayerSpec, NormalizedLayerSpec} from './layer';\nimport {GenericUnitSpec, NormalizedUnitSpec} from './unit';\n\nexport interface FacetFieldDef<F extends Field> extends TypedFieldDef<F, StandardType, boolean | BinParams | null> {\n  /**\n   * An object defining properties of a facet's header.\n   */\n  header?: Header;\n\n  // Note: `\"sort\"` for facet field def is different from encoding field def as it does not support `SortByEncoding`\n\n  /**\n   * Sort order for the encoded field.\n   *\n   * For continuous fields (quantitative or temporal), `sort` can be either `\"ascending\"` or `\"descending\"`.\n   *\n   * For discrete fields, `sort` can be one of the following:\n   * - `\"ascending\"` or `\"descending\"` -- for sorting by the values' natural order in Javascript.\n   * - [A sort field definition](https://vega.github.io/vega-lite/docs/sort.html#sort-field) for sorting by another field.\n   * - [An array specifying the field values in preferred order](https://vega.github.io/vega-lite/docs/sort.html#sort-array). In this case, the sort order will obey the values in the array, followed by any unspecified values in their original order.  For discrete time field, values in the sort array can be [date-time definition objects](types#datetime). In addition, for time units `\"month\"` and `\"day\"`, the values can be the month or day names (case insensitive) or their 3-letter initials (e.g., `\"Mon\"`, `\"Tue\"`).\n   * - `null` indicating no sort.\n   *\n   * __Default value:__ `\"ascending\"`\n   *\n   * __Note:__ `null` is not supported for `row` and `column`.\n   */\n  sort?: SortArray | SortOrder | EncodingSortField<F> | null;\n}\n\nexport interface FacetMapping<F extends Field> {\n  /**\n   * A field definition for the vertical facet of trellis plots.\n   */\n  row?: FacetFieldDef<F>;\n\n  /**\n   * A field definition for the horizontal facet of trellis plots.\n   */\n  column?: FacetFieldDef<F>;\n}\n\nexport function isFacetMapping<F extends Field>(f: FacetFieldDef<F> | FacetMapping<F>): f is FacetMapping<F> {\n  return !!f['row'] || !!f['column'];\n}\n\n/**\n * Facet mapping for encoding macro\n */\nexport interface EncodingFacetMapping<F extends Field> extends FacetMapping<F> {\n  /**\n   * A field definition for the (flexible) facet of trellis plots.\n   *\n   * If either `row` or `column` is specified, this channel will be ignored.\n   */\n  facet?: FacetFieldDef<F>;\n}\n\nexport function isFacetFieldDef<F extends Field>(channelDef: ChannelDef<FieldDef<F>>): channelDef is FacetFieldDef<F> {\n  return !!channelDef && !!channelDef['header'];\n}\n\n/**\n * Base interface for a facet specification.\n */\nexport interface GenericFacetSpec<U extends GenericUnitSpec<any, any>, L extends GenericLayerSpec<any>>\n  extends BaseSpec,\n    GenericCompositionLayoutWithColumns,\n    ResolveMixins {\n  /**\n   * Definition for how to facet the data.  One of:\n   * 1) [a field definition for faceting the plot by one field](https://vega.github.io/vega-lite/docs/facet.html#field-def)\n   * 2) [An object that maps `row` and `column` channels to their field definitions](https://vega.github.io/vega-lite/docs/facet.html#mapping)\n   */\n  facet: FacetFieldDef<Field> | FacetMapping<Field>;\n\n  /**\n   * A specification of the view that gets faceted.\n   */\n  spec: L | U;\n  // TODO: replace this with GenericSpec<U> once we support all cases;\n}\n\n/**\n * A facet specification without any shortcut / expansion syntax\n */\nexport type NormalizedFacetSpec = GenericFacetSpec<NormalizedUnitSpec, NormalizedLayerSpec>;\n\nexport function isFacetSpec(spec: BaseSpec): spec is GenericFacetSpec<any, any> {\n  return spec['facet'] !== undefined;\n}\n","import {CompositeEncoding} from '../compositemark/index';\nimport {Projection} from '../projection';\nimport {BaseSpec, LayerUnitMixins, ResolveMixins} from './base';\nimport {GenericUnitSpec, NormalizedUnitSpec, UnitSpec} from './unit';\n\n/**\n * Base interface for a layer specification.\n */\nexport interface GenericLayerSpec<U extends GenericUnitSpec<any, any>>\n  extends BaseSpec,\n    LayerUnitMixins,\n    ResolveMixins {\n  /**\n   * Layer or single view specifications to be layered.\n   *\n   * __Note__: Specifications inside `layer` cannot use `row` and `column` channels as layering facet specifications is not allowed. Instead, use the [facet operator](https://vega.github.io/vega-lite/docs/facet.html) and place a layer inside a facet.\n   */\n  layer: (GenericLayerSpec<U> | U)[];\n}\n\n/**\n * A full layered plot specification, which may contains `encoding` and `projection` properties that will be applied to underlying unit (single-view) specifications.\n */\nexport interface LayerSpec extends GenericLayerSpec<UnitSpec> {\n  /**\n   * A shared key-value mapping between encoding channels and definition of fields in the underlying layers.\n   */\n  encoding?: CompositeEncoding;\n\n  /**\n   * An object defining properties of the geographic projection shared by underlying layers.\n   */\n  projection?: Projection;\n}\n\n/**\n * A layered specification without any shortcut/expansion syntax.\n */\nexport type NormalizedLayerSpec = GenericLayerSpec<NormalizedUnitSpec>;\n\nexport function isLayerSpec(spec: BaseSpec): spec is GenericLayerSpec<any> {\n  return spec['layer'] !== undefined;\n}\n","import {BaseSpec, GenericCompositionLayoutWithColumns, ResolveMixins} from './base';\nimport {GenericSpec} from './index';\nimport {GenericLayerSpec, NormalizedLayerSpec} from './layer';\nimport {RepeatMapping} from './repeat';\nimport {GenericUnitSpec, NormalizedUnitSpec} from './unit';\n\nexport interface RepeatMapping {\n  /**\n   * An array of fields to be repeated vertically.\n   */\n  row?: string[];\n\n  /**\n   * An array of fields to be repeated horizontally.\n   */\n  column?: string[];\n}\n\n/**\n * Base interface for a repeat specification.\n */\nexport interface GenericRepeatSpec<U extends GenericUnitSpec<any, any>, L extends GenericLayerSpec<any>>\n  extends BaseSpec,\n    GenericCompositionLayoutWithColumns,\n    ResolveMixins {\n  /**\n   * Definition for fields to be repeated.  One of:\n   * 1) An array of fields to be repeated.  If `\"repeat\"` is an array, the field can be referred using `{\"repeat\": \"repeat\"}`\n   * 2) An object that mapped `\"row\"` and/or `\"column\"` to the listed of fields to be repeated along the particular orientations. The objects `{\"repeat\": \"row\"}` and `{\"repeat\": \"column\"}` can be used to refer to the repeated field respectively.\n   */\n  repeat: string[] | RepeatMapping;\n\n  /**\n   * A specification of the view that gets repeated.\n   */\n  spec: GenericSpec<U, L>;\n}\n\n/**\n * A repeat specification without any shortcut/expansion syntax.\n */\nexport type NormalizedRepeatSpec = GenericRepeatSpec<NormalizedUnitSpec, NormalizedLayerSpec>;\n\nexport function isRepeatSpec(spec: BaseSpec): spec is GenericRepeatSpec<any, any> {\n  return spec['repeat'] !== undefined;\n}\n","import {Field} from '../channeldef';\nimport {CompositeEncoding, FacetedCompositeEncoding} from '../compositemark/index';\nimport {Encoding} from '../encoding';\nimport {AnyMark, Mark, MarkDef} from '../mark';\nimport {Projection} from '../projection';\nimport {SelectionDef} from '../selection';\nimport {BaseSpec, GenericCompositionLayoutWithColumns, LayerUnitMixins, ResolveMixins, DataMixins} from './base';\nimport {TopLevel} from './toplevel';\n\n/**\n * Base interface for a unit (single-view) specification.\n */\nexport interface GenericUnitSpec<E extends Encoding<any>, M> extends BaseSpec, LayerUnitMixins {\n  /**\n   * A string describing the mark type (one of `\"bar\"`, `\"circle\"`, `\"square\"`, `\"tick\"`, `\"line\"`,\n   * `\"area\"`, `\"point\"`, `\"rule\"`, `\"geoshape\"`, and `\"text\"`) or a [mark definition object](https://vega.github.io/vega-lite/docs/mark.html#mark-def).\n   */\n  mark: M;\n\n  /**\n   * A key-value mapping between encoding channels and definition of fields.\n   */\n  encoding?: E;\n\n  /**\n   * An object defining properties of geographic projection, which will be applied to `shape` path for `\"geoshape\"` marks\n   * and to `latitude` and `\"longitude\"` channels for other marks.\n   */\n  projection?: Projection;\n\n  /**\n   * A key-value mapping between selection names and definitions.\n   */\n  selection?: {[name: string]: SelectionDef};\n}\n\n/**\n * A unit specification without any shortcut/expansion syntax.\n */\nexport type NormalizedUnitSpec = GenericUnitSpec<Encoding<Field>, Mark | MarkDef>;\n\n/**\n * A unit specification, which can contain either [primitive marks or composite marks](https://vega.github.io/vega-lite/docs/mark.html#types).\n */\nexport type UnitSpec = GenericUnitSpec<CompositeEncoding, AnyMark>;\n\n/**\n * Unit spec that can have a composite mark and row or column channels (shorthand for a facet spec).\n */\nexport type FacetedUnitSpec = GenericUnitSpec<FacetedCompositeEncoding, AnyMark> &\n  GenericCompositionLayoutWithColumns &\n  ResolveMixins;\n\nexport type TopLevelUnitSpec = TopLevel<FacetedUnitSpec> & DataMixins;\n\nexport function isUnitSpec(spec: BaseSpec): spec is FacetedUnitSpec | NormalizedUnitSpec {\n  return !!spec['mark'];\n}\n","/**\n * Definition for specifications in Vega-Lite.  In general, there are 3 variants of specs for each type of specs:\n * - Generic specs are generic versions of specs and they are parameterized differently for internal and external specs.\n * - The external specs (no prefix) would allow composite marks, row/column encodings, and mark macros like point/line overlay.\n * - The internal specs (with `Normalized` prefix) would only support primitive marks and support no macros/shortcuts.\n */\n\nimport {DataMixins} from './base';\nimport {GenericConcatSpec, GenericHConcatSpec, GenericVConcatSpec} from './concat';\nimport {GenericFacetSpec} from './facet';\nimport {GenericLayerSpec, LayerSpec, NormalizedLayerSpec} from './layer';\nimport {GenericRepeatSpec} from './repeat';\nimport {TopLevel} from './toplevel';\nimport {FacetedUnitSpec, GenericUnitSpec, NormalizedUnitSpec, TopLevelUnitSpec} from './unit';\n\nexport {BaseSpec, LayoutSizeMixins} from './base';\nexport {\n  GenericHConcatSpec,\n  GenericVConcatSpec,\n  isAnyConcatSpec,\n  isHConcatSpec,\n  isVConcatSpec,\n  NormalizedConcatSpec\n} from './concat';\nexport {GenericFacetSpec, isFacetSpec, NormalizedFacetSpec} from './facet';\nexport {GenericLayerSpec, isLayerSpec, LayerSpec as ExtendedLayerSpec, NormalizedLayerSpec} from './layer';\nexport {GenericRepeatSpec, isRepeatSpec, NormalizedRepeatSpec} from './repeat';\nexport {TopLevel} from './toplevel';\nexport {FacetedUnitSpec, GenericUnitSpec, isUnitSpec, NormalizedUnitSpec, UnitSpec} from './unit';\n\n/**\n * Any specification in Vega-Lite.\n */\nexport type GenericSpec<U extends GenericUnitSpec<any, any>, L extends GenericLayerSpec<any>> =\n  | U\n  | L\n  | GenericFacetSpec<U, L>\n  | GenericRepeatSpec<U, L>\n  | GenericConcatSpec<U, L>\n  | GenericVConcatSpec<U, L>\n  | GenericHConcatSpec<U, L>;\n\n/**\n * Specs with only primitive marks and without other macros.\n */\nexport type NormalizedSpec = GenericSpec<NormalizedUnitSpec, NormalizedLayerSpec>;\n\nexport type TopLevelFacetSpec = TopLevel<GenericFacetSpec<FacetedUnitSpec, LayerSpec>> & DataMixins;\n\n/**\n * A Vega-Lite top-level specification.\n * This is the root class for all Vega-Lite specifications.\n * (The json schema is generated from this type.)\n */\nexport type TopLevelSpec =\n  | TopLevelUnitSpec\n  | TopLevelFacetSpec\n  | TopLevel<LayerSpec>\n  | TopLevel<GenericRepeatSpec<FacetedUnitSpec, LayerSpec>>\n  | TopLevel<GenericConcatSpec<FacetedUnitSpec, LayerSpec>>\n  | TopLevel<GenericVConcatSpec<FacetedUnitSpec, LayerSpec>>\n  | TopLevel<GenericHConcatSpec<FacetedUnitSpec, LayerSpec>>;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.markEncodingGroups = exports.markEncodings = exports.facetChannelEncodings = exports.loDChannelEncodings = exports.orderChannelEncodings = exports.keyChannelEncodings = exports.hyperLinkChannelEncodings = exports.textTooltipChannelEncodings = exports.markPropertiesChannelEncodings = exports.geographicPositionEncodings = exports.positionEncodings = void 0;\r\nexports.positionEncodings = ['x', 'y', 'x2', 'y2'];\r\nexports.geographicPositionEncodings = ['longitude', 'latitude'];\r\nexports.markPropertiesChannelEncodings = [\r\n    'filled', 'color', 'fill', 'stroke', 'opacity', 'fillOpacity', 'strokeOpacity', 'size', 'shape',\r\n    'strokeCap', 'strokeDash', 'strokeDashOffset', 'strokeJoin', 'strokeMiterLimit', 'strokeWidth'\r\n];\r\nexports.textTooltipChannelEncodings = ['text', 'tooltip'];\r\nexports.hyperLinkChannelEncodings = ['href', 'cursor'];\r\nexports.keyChannelEncodings = ['key'];\r\nexports.orderChannelEncodings = ['order'];\r\nexports.loDChannelEncodings = ['detail'];\r\nexports.facetChannelEncodings = ['facet', 'row', 'column'];\r\nexports.markEncodings = exports.positionEncodings\r\n    .concat(exports.geographicPositionEncodings)\r\n    .concat(exports.markPropertiesChannelEncodings)\r\n    .concat(exports.textTooltipChannelEncodings)\r\n    .concat(exports.hyperLinkChannelEncodings)\r\n    .concat(exports.orderChannelEncodings)\r\n    .concat(exports.loDChannelEncodings)\r\n    .concat(exports.facetChannelEncodings);\r\nexports.markEncodingGroups = [\r\n    'position', 'geographic', 'mark property', 'text tooltip', 'hyperlink', 'key channel',\r\n    'order channel', 'lod channel', 'facet channel'\r\n];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setSchemaSize = exports.getAbstraction = exports.getAllDatasetsInHierarchy = exports.getJoinedDatasetsOfChildNodes = exports.setSingleViewProperties = exports.getAtomicAbstraction = exports.getMarkPropertiesAsMap = exports.getConcatAbstraction = exports.getFacetAbstraction = exports.getRepeatAbstraction = exports.getLayerAbstraction = exports.getCompositionType = exports.isPlotSchema = exports.isCompositionSchema = exports.isFacetSchema = exports.isInlineFacetSchema = exports.isConcatenateSchema = exports.isRepeatSchema = exports.isOverlaySchema = exports.isAtomicSchema = void 0;\r\nconst spec_1 = require(\"vega-lite/build/src/spec\");\r\nconst concat_1 = require(\"vega-lite/build/src/spec/concat\");\r\nconst MarkEncoding_1 = require(\"./MarkEncoding\");\r\nfunction isAtomicSchema(schema) {\r\n    return spec_1.isUnitSpec(schema) && !isFacetSchema(schema);\r\n}\r\nexports.isAtomicSchema = isAtomicSchema;\r\n;\r\nfunction isOverlaySchema(schema) {\r\n    return spec_1.isLayerSpec(schema);\r\n}\r\nexports.isOverlaySchema = isOverlaySchema;\r\n;\r\nfunction isRepeatSchema(schema) {\r\n    return spec_1.isRepeatSpec(schema);\r\n}\r\nexports.isRepeatSchema = isRepeatSchema;\r\n;\r\nfunction isConcatenateSchema(schema) {\r\n    return spec_1.isAnyConcatSpec(schema) || concat_1.isConcatSpec(schema);\r\n}\r\nexports.isConcatenateSchema = isConcatenateSchema;\r\n;\r\nfunction isInlineFacetSchema(schema) {\r\n    return (schema.encoding !== undefined && schema.encoding.facet !== undefined);\r\n}\r\nexports.isInlineFacetSchema = isInlineFacetSchema;\r\nfunction isFacetSchema(schema) {\r\n    return spec_1.isFacetSpec(schema) || isInlineFacetSchema(schema);\r\n}\r\nexports.isFacetSchema = isFacetSchema;\r\n;\r\nfunction isCompositionSchema(schema) {\r\n    return isOverlaySchema(schema)\r\n        || isRepeatSchema(schema)\r\n        || isConcatenateSchema(schema)\r\n        || isFacetSchema(schema);\r\n}\r\nexports.isCompositionSchema = isCompositionSchema;\r\n;\r\nfunction isPlotSchema(schema) {\r\n    return isAtomicSchema(schema);\r\n}\r\nexports.isPlotSchema = isPlotSchema;\r\n;\r\nfunction getCompositionType(schema) {\r\n    if (isOverlaySchema(schema)) {\r\n        return 'overlay';\r\n    }\r\n    else if (isRepeatSchema(schema)) {\r\n        return 'repeat';\r\n    }\r\n    else if (isConcatenateSchema(schema)) {\r\n        return 'concatenate';\r\n    }\r\n    else if (isFacetSchema(schema)) {\r\n        return 'facet';\r\n    }\r\n    return null;\r\n}\r\nexports.getCompositionType = getCompositionType;\r\n;\r\nfunction getLayerAbstraction(schema) {\r\n    const currentLayers = JSON.parse(JSON.stringify(schema.layer));\r\n    let currentEncoding;\r\n    if (schema.encoding !== undefined) {\r\n        currentEncoding = JSON.parse(JSON.stringify(schema.encoding));\r\n    }\r\n    delete schema.layer;\r\n    delete schema.encoding;\r\n    const abstraction = {\r\n        layer: currentLayers\r\n    };\r\n    if (currentEncoding !== undefined) {\r\n        abstraction.encoding = currentEncoding;\r\n    }\r\n    return abstraction;\r\n}\r\nexports.getLayerAbstraction = getLayerAbstraction;\r\n;\r\nfunction getRepeatAbstraction(schema) {\r\n    const currentSpec = JSON.parse(JSON.stringify(schema.spec));\r\n    const currentRepeat = JSON.parse(JSON.stringify(schema.repeat));\r\n    const abstraction = {\r\n        spec: currentSpec,\r\n        repeat: currentRepeat\r\n    };\r\n    delete schema.spec;\r\n    delete schema.repeat;\r\n    return abstraction;\r\n}\r\nexports.getRepeatAbstraction = getRepeatAbstraction;\r\n;\r\nfunction getFacetAbstraction(schema) {\r\n    const currentSpec = JSON.parse(JSON.stringify(schema.spec));\r\n    const currentFacet = JSON.parse(JSON.stringify(schema.facet));\r\n    const abstraction = {\r\n        spec: currentSpec,\r\n        facet: currentFacet\r\n    };\r\n    delete schema.spec;\r\n    delete schema.facet;\r\n    return abstraction;\r\n}\r\nexports.getFacetAbstraction = getFacetAbstraction;\r\n;\r\nfunction getConcatAbstraction(schema) {\r\n    let currentConcat = null;\r\n    let concatProp = null;\r\n    if (concat_1.isConcatSpec(schema)) {\r\n        concatProp = 'concat';\r\n    }\r\n    else if (concat_1.isHConcatSpec(schema)) {\r\n        concatProp = 'hconcat';\r\n    }\r\n    else if (concat_1.isVConcatSpec(schema)) {\r\n        concatProp = 'vconcat';\r\n    }\r\n    currentConcat = JSON.parse(JSON.stringify(schema[concatProp]));\r\n    delete schema[concatProp];\r\n    const abstraction = {};\r\n    abstraction[concatProp] = currentConcat;\r\n    return abstraction;\r\n}\r\nexports.getConcatAbstraction = getConcatAbstraction;\r\n;\r\nfunction getMarkPropertiesAsMap(mark) {\r\n    const properties = new Map();\r\n    // since every mark encoding could potentially be statically set for a mark, just go through\r\n    // all of them and find the ones that are configured\r\n    MarkEncoding_1.markEncodings.forEach(encoding => {\r\n        if (mark[encoding] !== undefined) {\r\n            properties.set(encoding, JSON.parse(JSON.stringify(mark[encoding])));\r\n        }\r\n    });\r\n    return properties;\r\n}\r\nexports.getMarkPropertiesAsMap = getMarkPropertiesAsMap;\r\n;\r\nfunction getAtomicAbstraction(schema) {\r\n    const abstraction = {\r\n        mark: JSON.parse(JSON.stringify(schema.mark)),\r\n    };\r\n    if (schema.encoding !== undefined) {\r\n        abstraction.encoding = JSON.parse(JSON.stringify(schema.encoding));\r\n    }\r\n    if (schema.selection !== undefined) {\r\n        abstraction.selection = JSON.parse(JSON.stringify(schema.selection));\r\n    }\r\n    const staticProperties = getMarkPropertiesAsMap(schema.mark);\r\n    staticProperties.forEach((property, key) => {\r\n        abstraction[key] = property;\r\n        delete schema[key];\r\n    });\r\n    delete schema.mark;\r\n    delete schema.encoding;\r\n    delete schema.selection;\r\n    if (isRepeatSchema(schema) && abstraction.encoding !== undefined) {\r\n        if (abstraction.encoding.x !== undefined) {\r\n            abstraction.encoding.x = {\r\n                field: { repeat: 'column' },\r\n                type: abstraction.encoding.x.type\r\n            };\r\n        }\r\n        if (abstraction.encoding.y !== undefined) {\r\n            abstraction.encoding.y = {\r\n                field: { repeat: 'row' },\r\n                type: abstraction.encoding.y.type\r\n            };\r\n        }\r\n    }\r\n    else if (isFacetSchema(schema)) {\r\n        if (abstraction.encoding.facet !== undefined) {\r\n            delete abstraction.encoding.facet;\r\n        }\r\n    }\r\n    return abstraction;\r\n}\r\nexports.getAtomicAbstraction = getAtomicAbstraction;\r\n;\r\nfunction setSingleViewProperties(schema, abstraction) {\r\n    if (schema.bounds !== undefined) {\r\n        abstraction.bounds = JSON.parse(JSON.stringify(schema.bounds));\r\n    }\r\n    if (schema.spacing !== undefined) {\r\n        abstraction.spacing = JSON.parse(JSON.stringify(schema.spacing));\r\n    }\r\n    if (schema.columns !== undefined) {\r\n        abstraction.columns = JSON.parse(JSON.stringify(schema.columns));\r\n    }\r\n    if (schema.width !== undefined) {\r\n        abstraction.width = JSON.parse(JSON.stringify(schema.width));\r\n    }\r\n    if (schema.height !== undefined) {\r\n        abstraction.height = JSON.parse(JSON.stringify(schema.height));\r\n    }\r\n    if (schema.data !== undefined) {\r\n        abstraction.data = JSON.parse(JSON.stringify(schema.data));\r\n    }\r\n    if (schema.datasets !== undefined) {\r\n        abstraction.datasets = JSON.parse(JSON.stringify(schema.datasets));\r\n    }\r\n    if (schema.transform !== undefined) {\r\n        abstraction.transform = JSON.parse(JSON.stringify(schema.transform));\r\n    }\r\n    if (schema.config !== undefined) {\r\n        abstraction.config = JSON.parse(JSON.stringify(schema.config));\r\n    }\r\n    if (schema.resolve !== undefined) {\r\n        abstraction.resolve = JSON.parse(JSON.stringify(schema.resolve));\r\n    }\r\n    return abstraction;\r\n}\r\nexports.setSingleViewProperties = setSingleViewProperties;\r\n;\r\nfunction getJoinedDatasetsOfChildNodes(view) {\r\n    const joinedDatasets = {};\r\n    const visualElements = view.getFlatHierarchy();\r\n    const childDatasets = visualElements\r\n        .map(d => d.datasets)\r\n        .filter(d => d !== undefined && d !== null);\r\n    childDatasets.forEach(datasets => {\r\n        const datasetKeys = Object.keys(datasets);\r\n        datasetKeys.forEach(datasetKey => {\r\n            joinedDatasets[datasetKey] = datasets[datasetKey];\r\n        });\r\n    });\r\n    return joinedDatasets;\r\n}\r\nexports.getJoinedDatasetsOfChildNodes = getJoinedDatasetsOfChildNodes;\r\n;\r\nfunction getAllDatasetsInHierarchy(view) {\r\n    const allDatasetsInHierarchy = getJoinedDatasetsOfChildNodes(view);\r\n    let rootView = view;\r\n    // only get datasets that are direct ancestors of the view, as siblings are not relevant\r\n    while (rootView.parent !== null) {\r\n        rootView = rootView.parent;\r\n        if (rootView.datasets) {\r\n            Object.keys(rootView.datasets).forEach(key => {\r\n                allDatasetsInHierarchy[key] = rootView.datasets[key];\r\n            });\r\n        }\r\n    }\r\n    return allDatasetsInHierarchy;\r\n}\r\nexports.getAllDatasetsInHierarchy = getAllDatasetsInHierarchy;\r\nfunction getAbstraction(schema) {\r\n    let abstraction = null;\r\n    if (isAtomicSchema(schema)) {\r\n        // atomic can either be content of a plot or repeat, indicated by the compositionpropety being\r\n        // set to 'spec'\r\n        abstraction = getAtomicAbstraction(schema);\r\n    }\r\n    else if (isOverlaySchema(schema)) {\r\n        abstraction = getLayerAbstraction(schema);\r\n    }\r\n    else if (isRepeatSchema(schema)) {\r\n        abstraction = getRepeatAbstraction(schema);\r\n    }\r\n    else if (isConcatenateSchema(schema)) {\r\n        abstraction = getConcatAbstraction(schema);\r\n    }\r\n    else if (isFacetSchema(schema)) {\r\n        if (isInlineFacetSchema(schema)) {\r\n            abstraction = getAtomicAbstraction(schema);\r\n        }\r\n        else {\r\n            abstraction = getFacetAbstraction(schema);\r\n        }\r\n    }\r\n    abstraction = setSingleViewProperties(schema, abstraction);\r\n    return abstraction;\r\n}\r\nexports.getAbstraction = getAbstraction;\r\n;\r\nfunction setSchemaSize(schema, width, height) {\r\n    if (isPlotSchema(schema)) {\r\n        schema.width = width;\r\n        schema.height = height;\r\n    }\r\n    else if (isConcatenateSchema(schema)) {\r\n        schema.width = width;\r\n        schema.height = height;\r\n    }\r\n    else if (isRepeatSchema(schema)) {\r\n        schema.spec.width = width;\r\n        schema.spec.height = height;\r\n    }\r\n    else if (isFacetSchema(schema)) {\r\n        if (isInlineFacetSchema(schema)) {\r\n            schema.width = width;\r\n            schema.height = height;\r\n        }\r\n        else {\r\n            schema.spec.width = width;\r\n            schema.spec.height = height;\r\n        }\r\n    }\r\n    return schema;\r\n}\r\nexports.setSchemaSize = setSchemaSize;\r\n;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GraphNode = void 0;\r\nclass GraphNode {\r\n    constructor() {\r\n        this.id = `node${Math.floor(Math.random() * 1000000)}`;\r\n        this.myName = '';\r\n        this.parent = null;\r\n        this.children = [];\r\n    }\r\n    getAllChildNodes() {\r\n        const allChildNodes = this.children.map(n => n);\r\n        this.children.forEach(childNode => {\r\n            allChildNodes.push(...childNode.getAllChildNodes());\r\n        });\r\n        return allChildNodes;\r\n    }\r\n    getFullAncestry() {\r\n        const allParentNodes = [this];\r\n        let workingNode = this.parent;\r\n        if (this.parent === null) {\r\n            return allParentNodes;\r\n        }\r\n        // go up in the node's hierarchy as far as possible\r\n        while (workingNode !== null) {\r\n            allParentNodes.push(workingNode);\r\n            workingNode = workingNode.parent;\r\n        }\r\n        return allParentNodes.reverse();\r\n    }\r\n    get name() {\r\n        if (this.myName.length === 0) {\r\n            return this.id;\r\n        }\r\n        return this.myName;\r\n    }\r\n    set name(name) {\r\n        if (name === undefined) {\r\n            return;\r\n        }\r\n        this.myName = name;\r\n    }\r\n}\r\nexports.GraphNode = GraphNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DatasetNode = void 0;\r\nconst GraphNode_1 = require(\"../GraphNode\");\r\nclass DatasetNode extends GraphNode_1.GraphNode {\r\n    constructor() {\r\n        super();\r\n        this.fields = [];\r\n        this.values = [];\r\n    }\r\n    getTransform() {\r\n        // datasets are roots in a data graph and therefore do not have parent or child transforms\r\n        return [];\r\n    }\r\n}\r\nexports.DatasetNode = DatasetNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TransformNode = void 0;\r\nconst DatasetNode_1 = require(\"../Datasets/DatasetNode\");\r\nconst GraphNode_1 = require(\"../GraphNode\");\r\nclass TransformNode extends GraphNode_1.GraphNode {\r\n    getRootDatasetNode() {\r\n        if (this.parent === null) {\r\n            return null;\r\n        }\r\n        let workingNode = this.parent;\r\n        // go up in the node's hierarchy as far as possible\r\n        while (workingNode.parent !== null) {\r\n            workingNode = workingNode.parent;\r\n        }\r\n        if (!(workingNode instanceof DatasetNode_1.DatasetNode)) {\r\n            return null;\r\n        }\r\n        return workingNode;\r\n    }\r\n    getSchema() {\r\n        const rootDataset = this.getRootDatasetNode();\r\n        return rootDataset.getSchema();\r\n    }\r\n    setSchema(data) {\r\n        return;\r\n    }\r\n    getTransform() {\r\n        const transformNodesOnPathToRoot = this.getFullAncestry();\r\n        const transforms = transformNodesOnPathToRoot\r\n            .filter(n => n instanceof TransformNode)\r\n            .map((n) => n.transform);\r\n        return transforms;\r\n    }\r\n}\r\nexports.TransformNode = TransformNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.transformNames = void 0;\r\nexports.transformNames = ['aggregate', 'bin', 'calculate', 'filter', 'flatten',\r\n    'fold', 'impute', 'join aggregate', 'lookup', 'sample', 'stack', 'time unit'];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InlineDatasetNode = void 0;\r\nconst DatasetNode_1 = require(\"./DatasetNode\");\r\nclass InlineDatasetNode extends DatasetNode_1.DatasetNode {\r\n    getSchema() {\r\n        return {\r\n            name: this.name,\r\n            values: this.values,\r\n            format: this.format\r\n        };\r\n    }\r\n    setSchema(data) {\r\n        this.name = data.name;\r\n        this.values = data.values;\r\n        this.format = data.format;\r\n    }\r\n}\r\nexports.InlineDatasetNode = InlineDatasetNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NamedDataSourceNode = void 0;\r\nconst DatasetNode_1 = require(\"./DatasetNode\");\r\nclass NamedDataSourceNode extends DatasetNode_1.DatasetNode {\r\n    getSchema() {\r\n        return {\r\n            name: this.name,\r\n            format: this.format\r\n        };\r\n    }\r\n    setSchema(data) {\r\n        this.name = data.name;\r\n        this.format = data.format;\r\n    }\r\n}\r\nexports.NamedDataSourceNode = NamedDataSourceNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.URLDatasetNode = void 0;\r\nconst DatasetNode_1 = require(\"./DatasetNode\");\r\nclass URLDatasetNode extends DatasetNode_1.DatasetNode {\r\n    getSchema() {\r\n        return {\r\n            name: this.name,\r\n            url: this.url,\r\n            format: this.format\r\n        };\r\n    }\r\n    setSchema(data) {\r\n        this.name = data.name;\r\n        this.url = data.url;\r\n        this.format = data.format;\r\n    }\r\n}\r\nexports.URLDatasetNode = URLDatasetNode;\r\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nvar fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataImporter = void 0;\r\nconst d3_dsv_1 = require(\"d3-dsv\");\r\nconst URLDatasetNode_1 = require(\"./Datasets/URLDatasetNode\");\r\nconst TranformNode_1 = require(\"./Transforms/TranformNode\");\r\nconst InlineDatasetNode_1 = require(\"./Datasets/InlineDatasetNode\");\r\nclass DataImporter {\r\n    constructor() {\r\n        this.onNewDataset = null;\r\n        this.datasets = new Map();\r\n    }\r\n    getFileNameFromURL(url) {\r\n        let name = url;\r\n        // trim off the file type and use the string before it in the url\r\n        if (url.includes('.json')) {\r\n            name = url.match(/\\/(\\w+)\\.json/)[1];\r\n        }\r\n        else if (url.includes('.csv')) {\r\n            name = url.match(/(\\w+)\\.csv/)[1];\r\n        }\r\n        return name;\r\n    }\r\n    // adapted from https://stackoverflow.com/a/26298948\r\n    readFileFromDisk(e) {\r\n        const file = e.target.files[0];\r\n        if (!file) {\r\n            return;\r\n        }\r\n        const reader = new FileReader();\r\n        reader.onload = (onloadEvent) => {\r\n            const contents = onloadEvent.target;\r\n            this.convertCSVToDatasetNode(contents.result);\r\n        };\r\n        reader.readAsText(file);\r\n    }\r\n    convertCSVToDatasetNode(contents) {\r\n        const csvContent = d3_dsv_1.csvParse(contents);\r\n        const datasetNode = new InlineDatasetNode_1.InlineDatasetNode();\r\n        datasetNode.fields = csvContent.columns;\r\n        datasetNode.name = 'new Dataset';\r\n        datasetNode.values = csvContent;\r\n        if (this.onNewDataset !== null) {\r\n            this.onNewDataset(datasetNode);\r\n        }\r\n    }\r\n    fetchCSV(preset, urlNode = new URLDatasetNode_1.URLDatasetNode()) {\r\n        const reader = new FileReader();\r\n        const node = new InlineDatasetNode_1.InlineDatasetNode();\r\n        reader.onloadend = (e) => {\r\n            const dataArray = d3_dsv_1.csvParse(e.srcElement.result);\r\n            node.fields = Object.keys(dataArray[0]);\r\n            node.values = dataArray;\r\n            node.name = this.getFileNameFromURL(preset.url);\r\n            this.datasets.set(urlNode.url, node);\r\n            if (this.onNewDataset !== null) {\r\n                this.onNewDataset(node);\r\n            }\r\n        };\r\n        fetch(preset.url)\r\n            .then(res => res.blob())\r\n            .then(blob => reader.readAsText(blob));\r\n    }\r\n    fetchJSON(preset, urlNode = new URLDatasetNode_1.URLDatasetNode()) {\r\n        const node = new InlineDatasetNode_1.InlineDatasetNode();\r\n        fetch(preset.url)\r\n            .then(response => response.json())\r\n            .then(dataArray => {\r\n            node.fields = Object.keys(dataArray[0]);\r\n            node.values = dataArray;\r\n            node.name = this.getFileNameFromURL(preset.url);\r\n            node.format = preset.format;\r\n            this.datasets.set(urlNode.url, node);\r\n            if (this.onNewDataset !== null) {\r\n                this.onNewDataset(node);\r\n            }\r\n        });\r\n    }\r\n    importPreset(preset, node) {\r\n        if (this.datasets.get(preset.url) !== undefined) {\r\n            return;\r\n        }\r\n        if (preset.url.includes('.json')) {\r\n            this.fetchJSON(preset, node);\r\n        }\r\n        else if (preset.url.includes('.csv')) {\r\n            this.fetchCSV(preset, node);\r\n        }\r\n    }\r\n    loadFieldsAndValuesToNode(node) {\r\n        if (node instanceof URLDatasetNode_1.URLDatasetNode) {\r\n            this.importPreset(node.getSchema(), node);\r\n        }\r\n        else if (node instanceof InlineDatasetNode_1.InlineDatasetNode) {\r\n            const values = node.values;\r\n            if (values === undefined || values.length === 0) {\r\n                return;\r\n            }\r\n            node.fields = Object.keys(values[0]);\r\n        }\r\n        else if (node instanceof TranformNode_1.TransformNode) {\r\n            const rootDatasetNode = node.getRootDatasetNode();\r\n            if (rootDatasetNode !== null) {\r\n                this.loadFieldsAndValuesToNode(rootDatasetNode);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.DataImporter = DataImporter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GraphNode_1 = require(\"./GraphNode\");\r\nObject.defineProperty(exports, \"GraphNode\", { enumerable: true, get: function () { return GraphNode_1.GraphNode; } });\r\nvar TranformNode_1 = require(\"./Transforms/TranformNode\");\r\nObject.defineProperty(exports, \"TransformNode\", { enumerable: true, get: function () { return TranformNode_1.TransformNode; } });\r\nvar TransformTypes_1 = require(\"./Transforms/TransformTypes\");\r\nObject.defineProperty(exports, \"transformNames\", { enumerable: true, get: function () { return TransformTypes_1.transformNames; } });\r\nvar DatasetNode_1 = require(\"./Datasets/DatasetNode\");\r\nObject.defineProperty(exports, \"DatasetNode\", { enumerable: true, get: function () { return DatasetNode_1.DatasetNode; } });\r\nvar InlineDatasetNode_1 = require(\"./Datasets/InlineDatasetNode\");\r\nObject.defineProperty(exports, \"InlineDatasetNode\", { enumerable: true, get: function () { return InlineDatasetNode_1.InlineDatasetNode; } });\r\nvar NamedDataSourceNode_1 = require(\"./Datasets/NamedDataSourceNode\");\r\nObject.defineProperty(exports, \"NamedDataSourceNode\", { enumerable: true, get: function () { return NamedDataSourceNode_1.NamedDataSourceNode; } });\r\nvar URLDatasetNode_1 = require(\"./Datasets/URLDatasetNode\");\r\nObject.defineProperty(exports, \"URLDatasetNode\", { enumerable: true, get: function () { return URLDatasetNode_1.URLDatasetNode; } });\r\nvar DataImporter_1 = require(\"./DataImporter\");\r\nObject.defineProperty(exports, \"DataImporter\", { enumerable: true, get: function () { return DataImporter_1.DataImporter; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpecCompiler = void 0;\r\nconst data_1 = require(\"vega-lite/build/src/data\");\r\nconst CompositionView_1 = require(\"./CompositionView\");\r\nconst ConcatView_1 = require(\"./ConcatView\");\r\nconst FacetView_1 = require(\"./FacetView\");\r\nconst LayerView_1 = require(\"./LayerView\");\r\nconst PlotView_1 = require(\"./PlotView\");\r\nconst RepeatView_1 = require(\"./RepeatView\");\r\nconst SpecUtils_1 = require(\"./SpecUtils\");\r\nconst DataModel_1 = require(\"../DataModel\");\r\nclass SpecCompiler {\r\n    getBasicSchema(view) {\r\n        // check for empty views, which should also generate valid specs\r\n        if (view && view.visualElements.length === 0 && view.parent === null) {\r\n            return {\r\n                $schema: 'https://vega.github.io/schema/vega-lite/v3.json',\r\n                mark: 'area',\r\n                encoding: {}\r\n            };\r\n        }\r\n        return {\r\n            $schema: 'https://vega.github.io/schema/vega-lite/v3.json'\r\n        };\r\n    }\r\n    setCompositionProperties(schema, view) {\r\n        if (view.columns !== undefined) {\r\n            schema.columns = view.columns;\r\n        }\r\n        if (view.spacing !== undefined) {\r\n            schema.spacing = view.spacing;\r\n        }\r\n        return schema;\r\n    }\r\n    setToplevelProperties(schema, view, includeData = true) {\r\n        if (includeData && !!view.data) {\r\n            schema.data = view.data;\r\n            const dataNode = view.dataTransformationNode;\r\n            if (dataNode instanceof DataModel_1.TransformNode) {\r\n                schema.transform = dataNode.getTransform();\r\n            }\r\n            else if (dataNode instanceof DataModel_1.DatasetNode) {\r\n                schema.transform = dataNode.getAllChildNodes().map(node => node.transform);\r\n            }\r\n        }\r\n        if (includeData && !!view.datasets) {\r\n            schema.datasets = view.datasets;\r\n        }\r\n        if (view.bounds !== undefined) {\r\n            schema.bounds = view.bounds;\r\n        }\r\n        if (view.height !== undefined) {\r\n            schema.height = view.height;\r\n        }\r\n        if (view.width !== undefined) {\r\n            schema.width = view.width;\r\n        }\r\n        if (view.config !== undefined) {\r\n            schema.config = view.config;\r\n        }\r\n        if (view.projection !== undefined) {\r\n            schema.projection = view.projection;\r\n        }\r\n        if (view instanceof CompositionView_1.CompositionView) {\r\n            schema = this.setCompositionProperties(schema, view);\r\n        }\r\n        return schema;\r\n    }\r\n    getRootView(view) {\r\n        let workingNode = view;\r\n        while (workingNode.parent !== null) {\r\n            workingNode = workingNode.parent;\r\n        }\r\n        return workingNode;\r\n    }\r\n    abstractCompositions(schema, compositionProperty) {\r\n        const abstraction = SpecUtils_1.getAbstraction(schema);\r\n        if (compositionProperty === 'spec' || compositionProperty === 'facet') {\r\n            schema[compositionProperty] = abstraction;\r\n        }\r\n        else {\r\n            schema[compositionProperty] = [abstraction];\r\n        }\r\n        return schema;\r\n    }\r\n    applyRepeatLayout(view, schema) {\r\n        schema = this.abstractCompositions(schema, 'spec');\r\n        // parent must be repeat view to reach this branch\r\n        schema.repeat = view.parent.repeat;\r\n        return schema;\r\n    }\r\n    applyFacetLayout(view, schema) {\r\n        const parentView = view.parent;\r\n        if (parentView.isInlineFacetted) {\r\n            if (schema.encoding === undefined) {\r\n                schema.encoding = {};\r\n            }\r\n            schema.encoding.facet = parentView.facet;\r\n        }\r\n        else {\r\n            schema = this.abstractCompositions(schema, 'spec');\r\n            schema.facet = parentView.facet;\r\n        }\r\n        return schema;\r\n    }\r\n    applyConcatLayout(schema) {\r\n        return this.abstractCompositions(schema, 'hconcat');\r\n    }\r\n    applyOverlayLayout(schema) {\r\n        return this.abstractCompositions(schema, 'layer');\r\n    }\r\n    applyCompositionLayout(view, schema, composition) {\r\n        if (composition === 'repeat') {\r\n            this.applyRepeatLayout(view, schema);\r\n        }\r\n        else if (composition === 'facet') {\r\n            this.applyFacetLayout(view, schema);\r\n        }\r\n        else if (composition === 'concatenate') {\r\n            this.applyConcatLayout(schema);\r\n        }\r\n        else if (composition === 'overlay') {\r\n            this.applyOverlayLayout(schema);\r\n        }\r\n        return schema;\r\n    }\r\n    getDataInHierarchy(view) {\r\n        // data can be stored either in a child node or on the top level view, therefore find the\r\n        // top level, get its flat hierarchy and find a view with a dataset bound to it\r\n        let topLevelView = view;\r\n        let data = null;\r\n        while (topLevelView.parent !== null) {\r\n            if (topLevelView.data !== undefined && topLevelView.data !== null) {\r\n                data = topLevelView.data;\r\n                return data;\r\n            }\r\n            topLevelView = topLevelView.parent;\r\n        }\r\n        const flatHierarchy = topLevelView.getFlatHierarchy();\r\n        const dataView = flatHierarchy.find(t => {\r\n            return t.data !== null && t.data !== undefined;\r\n        });\r\n        // could occur when view has no parent, no visualelements and no data (i.e. is \"empty\")\r\n        if (dataView === undefined) {\r\n            return {\r\n                values: [],\r\n            };\r\n        }\r\n        data = dataView.data;\r\n        return data;\r\n    }\r\n    getDatasetsInAncestry(view) {\r\n        // if the view references a namedDataset, also include that dataset.\r\n        if (view.data !== null && !data_1.isNamedData(view.data)) {\r\n            return null;\r\n        }\r\n        let workingNode = view;\r\n        while (workingNode !== null && (workingNode.datasets === null || workingNode.datasets === undefined)) {\r\n            workingNode = workingNode.parent;\r\n        }\r\n        if (workingNode === null) {\r\n            return null;\r\n        }\r\n        return workingNode.datasets;\r\n    }\r\n    getRepeatSpec(parentView) {\r\n        const view = parentView.visualElements[0];\r\n        const layout = parentView.layout;\r\n        let schema = null;\r\n        schema = this.getVegaSpecification(view, false);\r\n        if (schema !== null) {\r\n            schema = this.applyCompositionLayout(view, schema, layout);\r\n        }\r\n        return schema;\r\n    }\r\n    getFacetSpec(parentView) {\r\n        const encodingView = parentView.visualElements[0];\r\n        let schema = null;\r\n        // use the encodings from the child view, then apply facetting properties\r\n        schema = this.getVegaSpecification(encodingView, false);\r\n        schema = this.applyCompositionLayout(encodingView, schema, 'facet');\r\n        return schema;\r\n    }\r\n    getMultiViewSpec(view, useOverwrittenEncodings) {\r\n        const views = view.visualElements;\r\n        const schema = this.getBasicSchema();\r\n        const overwriteChildEncodings = !(view instanceof RepeatView_1.RepeatView) && useOverwrittenEncodings;\r\n        const individualSchemas = views\r\n            .map(t => this.getVegaSpecification(t, false, overwriteChildEncodings));\r\n        const individualViewAbstractions = individualSchemas\r\n            .map(s => SpecUtils_1.getAbstraction(s));\r\n        if (view instanceof ConcatView_1.ConcatView) {\r\n            if (view.isVertical) {\r\n                schema.vconcat = individualViewAbstractions;\r\n            }\r\n            else {\r\n                schema.hconcat = individualViewAbstractions;\r\n            }\r\n        }\r\n        else if (view instanceof LayerView_1.LayerView) {\r\n            if (view.groupEncodings.size > 0) {\r\n                schema.encoding = {};\r\n                view.groupEncodings.forEach((value, key) => schema.encoding[key] = value);\r\n                individualViewAbstractions.forEach(abstraction => {\r\n                    delete abstraction.data;\r\n                    delete abstraction.datasets;\r\n                });\r\n            }\r\n            schema.layer = individualViewAbstractions;\r\n        }\r\n        return schema;\r\n    }\r\n    getPlotSchema(view, inferData, useOverwrittenEncodings) {\r\n        const schema = this.getBasicSchema();\r\n        let data = view.data;\r\n        let datasets = view.datasets;\r\n        if (inferData) {\r\n            data = this.getDataInHierarchy(view);\r\n            datasets = this.getDatasetsInAncestry(view);\r\n        }\r\n        if (data !== undefined && data !== null) {\r\n            schema.data = data;\r\n        }\r\n        if (datasets !== undefined && datasets !== null) {\r\n            schema.datasets = datasets;\r\n        }\r\n        schema.mark = view.mark;\r\n        if (view.selection !== undefined) {\r\n            schema.selection = view.selection;\r\n        }\r\n        schema.encoding = {};\r\n        view.encodings.forEach((value, key) => {\r\n            schema.encoding[key] = value;\r\n        });\r\n        // do not overwrite encodings of repeated plots, as this would in turn use a mapping to a field\r\n        // instead of the repeated column/row\r\n        if (useOverwrittenEncodings) {\r\n            view.overwrittenEncodings.forEach((value, key) => {\r\n                schema.encoding[key] = value;\r\n            });\r\n        }\r\n        return schema;\r\n    }\r\n    getCompositionSchema(view, inferData, useOverwrittenEncodings) {\r\n        let schema = null;\r\n        let data = null;\r\n        let datasets = null;\r\n        if (view.visualElements.length === 0) {\r\n            schema = this.getBasicSchema(view);\r\n        }\r\n        else if (view instanceof RepeatView_1.RepeatView) {\r\n            schema = this.getRepeatSpec(view);\r\n        }\r\n        else if (view instanceof FacetView_1.FacetView) {\r\n            schema = this.getFacetSpec(view);\r\n        }\r\n        else {\r\n            schema = this.getMultiViewSpec(view, useOverwrittenEncodings);\r\n        }\r\n        if (inferData) {\r\n            data = this.getDataInHierarchy(view);\r\n            datasets = SpecUtils_1.getAllDatasetsInHierarchy(view);\r\n        }\r\n        else {\r\n            data = view.data;\r\n            datasets = view.datasets;\r\n        }\r\n        if (data !== undefined && data !== null) {\r\n            schema.data = data;\r\n        }\r\n        if (datasets !== undefined && datasets !== null) {\r\n            schema.datasets = datasets;\r\n        }\r\n        if (view.resolve !== undefined) {\r\n            schema.resolve = view.resolve;\r\n        }\r\n        return schema;\r\n    }\r\n    getVegaSpecification(view, inferProperties = false, useOverwrittenEncodings = false) {\r\n        let schema = null;\r\n        if (view instanceof PlotView_1.PlotView) {\r\n            schema = this.getPlotSchema(view, inferProperties, useOverwrittenEncodings);\r\n        }\r\n        else if (view instanceof CompositionView_1.CompositionView) {\r\n            schema = this.getCompositionSchema(view, inferProperties, useOverwrittenEncodings);\r\n        }\r\n        schema = this.setToplevelProperties(schema, view);\r\n        if (inferProperties) {\r\n            const rootView = this.getRootView(view);\r\n            schema = this.setToplevelProperties(schema, rootView, false);\r\n        }\r\n        return schema;\r\n    }\r\n}\r\nexports.SpecCompiler = SpecCompiler;\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {AggregateOp} from 'vega';\nimport {isString, toSet} from 'vega-util';\nimport {contains, Flag, keys} from './util';\n\nconst AGGREGATE_OP_INDEX: Flag<AggregateOp> = {\n  argmax: 1,\n  argmin: 1,\n  average: 1,\n  count: 1,\n  distinct: 1,\n  max: 1,\n  mean: 1,\n  median: 1,\n  min: 1,\n  missing: 1,\n  q1: 1,\n  q3: 1,\n  ci0: 1,\n  ci1: 1,\n  stderr: 1,\n  stdev: 1,\n  stdevp: 1,\n  sum: 1,\n  valid: 1,\n  values: 1,\n  variance: 1,\n  variancep: 1\n};\n\nexport interface ArgminDef {\n  argmin: string;\n}\n\nexport interface ArgmaxDef {\n  argmax: string;\n}\n\nexport type Aggregate = AggregateOp | ArgmaxDef | ArgminDef;\n\nexport function isArgminDef(a: Aggregate | string): a is ArgminDef {\n  return !!a && !!a['argmin'];\n}\n\nexport function isArgmaxDef(a: Aggregate | string): a is ArgmaxDef {\n  return !!a && !!a['argmax'];\n}\n\nexport const AGGREGATE_OPS = keys(AGGREGATE_OP_INDEX);\n\nexport function isAggregateOp(a: string | ArgminDef | ArgmaxDef): a is AggregateOp {\n  return isString(a) && !!AGGREGATE_OP_INDEX[a];\n}\n\nexport const COUNTING_OPS: AggregateOp[] = ['count', 'valid', 'missing', 'distinct'];\n\nexport function isCountingAggregateOp(aggregate: string | Aggregate): boolean {\n  return aggregate && isString(aggregate) && contains(COUNTING_OPS, aggregate);\n}\n\nexport function isMinMaxOp(aggregate: Aggregate | string): boolean {\n  return aggregate && isString(aggregate) && contains(['min', 'max'], aggregate);\n}\n\n/** Additive-based aggregation operations.  These can be applied to stack. */\nexport const SUM_OPS: AggregateOp[] = ['count', 'sum', 'distinct', 'valid', 'missing'];\n\n/**\n * Aggregation operators that always produce values within the range [domainMin, domainMax].\n */\nexport const SHARED_DOMAIN_OPS: AggregateOp[] = ['mean', 'average', 'median', 'q1', 'q3', 'min', 'max'];\n\nexport const SHARED_DOMAIN_OP_INDEX = toSet(SHARED_DOMAIN_OPS);\n","/*\n * Constants and utilities for encoding channels (Visual variables)\n * such as 'x', 'y', 'color'.\n */\n\nimport {RangeType} from './compile/scale/type';\nimport {Encoding} from './encoding';\nimport {Mark} from './mark';\nimport {EncodingFacetMapping, EncodingFacetMapping as ExtendedFacetMapping} from './spec/facet';\nimport {Flag, keys} from './util';\n\nexport type Channel = keyof Encoding<any> | keyof ExtendedFacetMapping<any>;\n\n// Facet\nexport const ROW: 'row' = 'row';\nexport const COLUMN: 'column' = 'column';\n\nexport const FACET: 'facet' = 'facet';\n\n// Position\nexport const X: 'x' = 'x';\nexport const Y: 'y' = 'y';\nexport const X2: 'x2' = 'x2';\nexport const Y2: 'y2' = 'y2';\n\n// Geo Position\nexport const LATITUDE: 'latitude' = 'latitude';\nexport const LONGITUDE: 'longitude' = 'longitude';\nexport const LATITUDE2: 'latitude2' = 'latitude2';\nexport const LONGITUDE2: 'longitude2' = 'longitude2';\n\n// Mark property with scale\nexport const COLOR: 'color' = 'color';\n\nexport const FILL: 'fill' = 'fill';\n\nexport const STROKE: 'stroke' = 'stroke';\n\nexport const SHAPE: 'shape' = 'shape';\nexport const SIZE: 'size' = 'size';\nexport const OPACITY: 'opacity' = 'opacity';\nexport const FILLOPACITY: 'fillOpacity' = 'fillOpacity';\n\nexport const STROKEOPACITY: 'strokeOpacity' = 'strokeOpacity';\n\nexport const STROKEWIDTH: 'strokeWidth' = 'strokeWidth';\n\n// Non-scale channel\nexport const TEXT: 'text' = 'text';\nexport const ORDER: 'order' = 'order';\nexport const DETAIL: 'detail' = 'detail';\nexport const KEY: 'key' = 'key';\n\nexport const TOOLTIP: 'tooltip' = 'tooltip';\nexport const HREF: 'href' = 'href';\n\nexport type PositionChannel = 'x' | 'y' | 'x2' | 'y2';\n\nconst POSITION_CHANNEL_INDEX: Flag<PositionChannel> = {\n  x: 1,\n  y: 1,\n  x2: 1,\n  y2: 1\n};\nexport function isPositionChannel(c: Channel): c is PositionChannel {\n  return c in POSITION_CHANNEL_INDEX;\n}\n\nexport type GeoPositionChannel = 'longitude' | 'latitude' | 'longitude2' | 'latitude2';\n\nexport function getPositionChannelFromLatLong(channel: GeoPositionChannel): PositionChannel {\n  switch (channel) {\n    case LATITUDE:\n      return 'y';\n    case LATITUDE2:\n      return 'y2';\n    case LONGITUDE:\n      return 'x';\n    case LONGITUDE2:\n      return 'x2';\n  }\n}\n\nconst GEOPOSITION_CHANNEL_INDEX: Flag<GeoPositionChannel> = {\n  longitude: 1,\n  longitude2: 1,\n  latitude: 1,\n  latitude2: 1\n};\n\nexport function isGeoPositionChannel(c: Channel): c is GeoPositionChannel {\n  return c in GEOPOSITION_CHANNEL_INDEX;\n}\n\nexport const GEOPOSITION_CHANNELS = keys(GEOPOSITION_CHANNEL_INDEX);\n\nconst UNIT_CHANNEL_INDEX: Flag<keyof Encoding<any>> = {\n  ...POSITION_CHANNEL_INDEX,\n\n  ...GEOPOSITION_CHANNEL_INDEX,\n\n  // color\n  color: 1,\n  fill: 1,\n  stroke: 1,\n\n  // other non-position with scale\n  opacity: 1,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n\n  strokeWidth: 1,\n  size: 1,\n  shape: 1,\n\n  // channels without scales\n  order: 1,\n  text: 1,\n  detail: 1,\n  key: 1,\n  tooltip: 1,\n  href: 1\n};\n\nexport type ColorChannel = 'color' | 'fill' | 'stroke';\n\nexport function isColorChannel(channel: Channel): channel is ColorChannel {\n  return channel === 'color' || channel === 'fill' || channel === 'stroke';\n}\n\nexport type FacetChannel = keyof EncodingFacetMapping<any>;\n\nconst FACET_CHANNEL_INDEX: Flag<keyof EncodingFacetMapping<any>> = {\n  row: 1,\n  column: 1,\n  facet: 1\n};\n\nexport const FACET_CHANNELS = keys(FACET_CHANNEL_INDEX);\n\nconst CHANNEL_INDEX = {\n  ...UNIT_CHANNEL_INDEX,\n  ...FACET_CHANNEL_INDEX\n};\n\nexport const CHANNELS = keys(CHANNEL_INDEX);\n\nconst {order: _o, detail: _d, ...SINGLE_DEF_CHANNEL_INDEX} = CHANNEL_INDEX;\nconst {order: _o1, detail: _d1, row: _r, column: _c, facet: _f, ...SINGLE_DEF_UNIT_CHANNEL_INDEX} = CHANNEL_INDEX;\n/**\n * Channels that cannot have an array of channelDef.\n * model.fieldDef, getFieldDef only work for these channels.\n *\n * (The only two channels that can have an array of channelDefs are \"detail\" and \"order\".\n * Since there can be multiple fieldDefs for detail and order, getFieldDef/model.fieldDef\n * are not applicable for them.  Similarly, selection projection won't work with \"detail\" and \"order\".)\n */\n\nexport const SINGLE_DEF_CHANNELS = keys(SINGLE_DEF_CHANNEL_INDEX);\n\nexport type SingleDefChannel = typeof SINGLE_DEF_CHANNELS[number];\n\nexport const SINGLE_DEF_UNIT_CHANNELS = keys(SINGLE_DEF_UNIT_CHANNEL_INDEX);\n\nexport type SingleDefUnitChannel = typeof SINGLE_DEF_UNIT_CHANNELS[number];\n\n// export type SingleDefChannel = SingleDefUnitChannel | 'row' | 'column' | 'facet';\n\nexport function isSingleDefUnitChannel(str: string): str is SingleDefUnitChannel {\n  return !!SINGLE_DEF_UNIT_CHANNEL_INDEX[str];\n}\n\nexport function isChannel(str: string): str is Channel {\n  return !!CHANNEL_INDEX[str];\n}\n\nexport type SecondaryRangeChannel = 'x2' | 'y2' | 'latitude2' | 'longitude2';\n\nexport const SECONDARY_RANGE_CHANNEL: SecondaryRangeChannel[] = ['x2', 'y2', 'latitude2', 'longitude2'];\n\nexport function isSecondaryRangeChannel(c: Channel): c is SecondaryRangeChannel {\n  const main = getMainRangeChannel(c);\n  return main !== c;\n}\n\n/**\n * Get the main channel for a range channel. E.g. `x` for `x2`.\n */\nexport function getMainRangeChannel(channel: Channel): Channel {\n  switch (channel) {\n    case 'x2':\n      return 'x';\n    case 'y2':\n      return 'y';\n    case 'latitude2':\n      return 'latitude';\n    case 'longitude2':\n      return 'longitude';\n  }\n  return channel;\n}\n\n// CHANNELS without COLUMN, ROW\nexport const UNIT_CHANNELS = keys(UNIT_CHANNEL_INDEX);\n\n// NONPOSITION_CHANNELS = UNIT_CHANNELS without X, Y, X2, Y2;\nconst {\n  x: _x,\n  y: _y,\n  // x2 and y2 share the same scale as x and y\n  x2: _x2,\n  y2: _y2,\n  latitude: _latitude,\n  longitude: _longitude,\n  latitude2: _latitude2,\n  longitude2: _longitude2,\n  // The rest of unit channels then have scale\n  ...NONPOSITION_CHANNEL_INDEX\n} = UNIT_CHANNEL_INDEX;\n\nexport const NONPOSITION_CHANNELS = keys(NONPOSITION_CHANNEL_INDEX);\nexport type NonPositionChannel = typeof NONPOSITION_CHANNELS[0];\n\n// POSITION_SCALE_CHANNELS = X and Y;\nconst POSITION_SCALE_CHANNEL_INDEX: {x: 1; y: 1} = {x: 1, y: 1};\nexport const POSITION_SCALE_CHANNELS = keys(POSITION_SCALE_CHANNEL_INDEX);\nexport type PositionScaleChannel = typeof POSITION_SCALE_CHANNELS[0];\n\n// NON_POSITION_SCALE_CHANNEL = SCALE_CHANNELS without X, Y\nconst {\n  // x2 and y2 share the same scale as x and y\n  // text and tooltip have format instead of scale,\n  // href has neither format, nor scale\n  text: _t,\n  tooltip: _tt,\n  href: _hr,\n  // detail and order have no scale\n  detail: _dd,\n  key: _k,\n  order: _oo,\n  ...NONPOSITION_SCALE_CHANNEL_INDEX\n} = NONPOSITION_CHANNEL_INDEX;\nexport const NONPOSITION_SCALE_CHANNELS = keys(NONPOSITION_SCALE_CHANNEL_INDEX);\nexport type NonPositionScaleChannel = typeof NONPOSITION_SCALE_CHANNELS[0];\n\nexport function isNonPositionScaleChannel(channel: Channel): channel is NonPositionScaleChannel {\n  return !!NONPOSITION_CHANNEL_INDEX[channel];\n}\n\n/**\n * @returns whether Vega supports legends for a particular channel\n */\nexport function supportLegend(channel: NonPositionScaleChannel) {\n  switch (channel) {\n    case COLOR:\n    case FILL:\n    case STROKE:\n    case SIZE:\n    case SHAPE:\n    case OPACITY:\n    case STROKEWIDTH:\n      return true;\n    case FILLOPACITY:\n    case STROKEOPACITY:\n      return false;\n  }\n}\n\n// Declare SCALE_CHANNEL_INDEX\nconst SCALE_CHANNEL_INDEX = {\n  ...POSITION_SCALE_CHANNEL_INDEX,\n  ...NONPOSITION_SCALE_CHANNEL_INDEX\n};\n\n/** List of channels with scales */\nexport const SCALE_CHANNELS = keys(SCALE_CHANNEL_INDEX);\nexport type ScaleChannel = typeof SCALE_CHANNELS[0];\n\nexport function isScaleChannel(channel: Channel): channel is ScaleChannel {\n  return !!SCALE_CHANNEL_INDEX[channel];\n}\n\nexport type SupportedMark = {[mark in Mark]?: 'always' | 'binned'};\n\n/**\n * Return whether a channel supports a particular mark type.\n * @param channel  channel name\n * @param mark the mark type\n * @return whether the mark supports the channel\n */\nexport function supportMark(channel: Channel, mark: Mark) {\n  return getSupportedMark(channel)[mark];\n}\n\nconst ALL_MARKS: {[m in Mark]: 'always'} = {\n  // all marks\n  area: 'always',\n  bar: 'always',\n  circle: 'always',\n  geoshape: 'always',\n  line: 'always',\n  rule: 'always',\n  point: 'always',\n  rect: 'always',\n  square: 'always',\n  trail: 'always',\n  text: 'always',\n  tick: 'always'\n};\n\nconst {geoshape: _g, ...ALL_MARKS_EXCEPT_GEOSHAPE} = ALL_MARKS;\n\n/**\n * Return a dictionary showing whether a channel supports mark type.\n * @param channel\n * @return A dictionary mapping mark types to 'always', 'binned', or undefined\n */\nfunction getSupportedMark(channel: Channel): SupportedMark {\n  switch (channel) {\n    case COLOR:\n    case FILL:\n    case STROKE:\n    // falls through\n\n    case DETAIL:\n    case KEY:\n    case TOOLTIP:\n    case HREF:\n    case ORDER: // TODO: revise (order might not support rect, which is not stackable?)\n    case OPACITY:\n    case FILLOPACITY:\n    case STROKEOPACITY:\n    case STROKEWIDTH:\n    // falls through\n\n    case FACET:\n    case ROW: // falls through\n    case COLUMN:\n      return ALL_MARKS;\n    case X:\n    case Y:\n    case LATITUDE:\n    case LONGITUDE:\n      // all marks except geoshape. geoshape does not use X, Y -- it uses a projection\n      return ALL_MARKS_EXCEPT_GEOSHAPE;\n    case X2:\n    case Y2:\n    case LATITUDE2:\n    case LONGITUDE2:\n      return {\n        rule: 'always',\n        bar: 'always',\n        rect: 'always',\n        area: 'always',\n        circle: 'binned',\n        point: 'binned',\n        square: 'binned',\n        tick: 'binned',\n        line: 'binned',\n        trail: 'binned'\n      };\n    case SIZE:\n      return {\n        point: 'always',\n        tick: 'always',\n        rule: 'always',\n        circle: 'always',\n        square: 'always',\n        bar: 'always',\n        text: 'always',\n        line: 'always',\n        trail: 'always'\n      };\n    case SHAPE:\n      return {point: 'always', geoshape: 'always'};\n    case TEXT:\n      return {text: 'always'};\n  }\n}\n\nexport function rangeType(channel: Channel): RangeType {\n  switch (channel) {\n    case X:\n    case Y:\n    case SIZE:\n    case STROKEWIDTH:\n    case OPACITY:\n    case FILLOPACITY:\n    case STROKEOPACITY:\n\n    // X2 and Y2 use X and Y scales, so they similarly have continuous range. [falls through]\n    case X2:\n    case Y2:\n      return undefined;\n\n    case FACET:\n    case ROW:\n    case COLUMN:\n    case SHAPE:\n    // TEXT, TOOLTIP, and HREF have no scale but have discrete output [falls through]\n    case TEXT:\n    case TOOLTIP:\n    case HREF:\n      return 'discrete';\n\n    // Color can be either continuous or discrete, depending on scale type.\n    case COLOR:\n    case FILL:\n    case STROKE:\n      return 'flexible';\n\n    // No scale, no range type.\n\n    case LATITUDE:\n    case LONGITUDE:\n    case LATITUDE2:\n    case LONGITUDE2:\n    case DETAIL:\n    case KEY:\n    case ORDER:\n      return undefined;\n  }\n  /* istanbul ignore next: should never reach here. */\n  throw new Error('rangeType not implemented for ' + channel);\n}\n","import {isBoolean, isObject} from 'vega-util';\nimport {BinParams} from './bin';\nimport {\n  Channel,\n  COLOR,\n  COLUMN,\n  FILL,\n  FILLOPACITY,\n  OPACITY,\n  ROW,\n  SHAPE,\n  SIZE,\n  STROKE,\n  STROKEOPACITY,\n  STROKEWIDTH\n} from './channel';\nimport {normalizeBin} from './channeldef';\nimport {keys, varName} from './util';\n\nexport interface BaseBin {\n  /**\n   * The number base to use for automatic bin determination (default is base 10).\n   *\n   * __Default value:__ `10`\n   *\n   */\n  base?: number;\n  /**\n   * An exact step size to use between bins.\n   *\n   * __Note:__ If provided, options such as maxbins will be ignored.\n   */\n  step?: number;\n  /**\n   * An array of allowable step sizes to choose from.\n   * @minItems 1\n   */\n  steps?: number[];\n  /**\n   * A minimum allowable step size (particularly useful for integer values).\n   */\n  minstep?: number;\n  /**\n   * Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.\n   *\n   * __Default value:__ `[5, 2]`\n   *\n   * @minItems 1\n   */\n  divide?: number[];\n  /**\n   * Maximum number of bins.\n   *\n   * __Default value:__ `6` for `row`, `column` and `shape` channels; `10` for other channels\n   *\n   * @minimum 2\n   */\n  maxbins?: number;\n  /**\n   * A value in the binned domain at which to anchor the bins, shifting the bin boundaries if necessary to ensure that a boundary aligns with the anchor value.\n   *\n   * __Default Value:__ the minimum bin extent value\n   */\n  anchor?: number;\n  /**\n   * If true (the default), attempts to make the bin boundaries use human-friendly boundaries, such as multiples of ten.\n   */\n  nice?: boolean;\n}\n\n/**\n * Binning properties or boolean flag for determining whether to bin data or not.\n */\nexport interface BinParams extends BaseBin {\n  /**\n   * A two-element (`[min, max]`) array indicating the range of desired bin values.\n   * @minItems 2\n   * @maxItems 2\n   */\n  extent?: number[]; // VgBinTransform uses a different extent so we need to pull this out.\n\n  /**\n   * When set to true, Vega-Lite treats the input data as already binned.\n   */\n  binned?: boolean;\n}\n\nexport type Bin = boolean | BinParams | 'binned' | null;\n\n/**\n * Create a key for the bin configuration. Not for prebinned bin.\n */\nexport function binToString(bin: BinParams | true) {\n  if (isBoolean(bin)) {\n    bin = normalizeBin(bin, undefined);\n  }\n  return (\n    'bin' +\n    keys(bin)\n      .map(p => varName(`_${p}_${bin[p]}`))\n      .join('')\n  );\n}\n\n/**\n * Vega-Lite should bin the data.\n */\nexport function isBinning(bin: BinParams | boolean | 'binned'): bin is BinParams | true {\n  return bin === true || (isBinParams(bin) && !bin.binned);\n}\n\n/**\n * The data is already binned and so Vega-Lite should not bin it again.\n */\nexport function isBinned(bin: BinParams | boolean | 'binned'): bin is 'binned' {\n  return bin === 'binned' || (isBinParams(bin) && bin.binned);\n}\n\nexport function isBinParams(bin: BinParams | boolean | 'binned'): bin is BinParams {\n  return isObject(bin);\n}\n\nexport function autoMaxBins(channel: Channel): number {\n  switch (channel) {\n    case ROW:\n    case COLUMN:\n    case SIZE:\n    case COLOR:\n    case FILL:\n    case STROKE:\n    case STROKEWIDTH:\n    case OPACITY:\n    case FILLOPACITY:\n    case STROKEOPACITY:\n    // Facets and Size shouldn't have too many bins\n    // We choose 6 like shape to simplify the rule [falls through]\n    case SHAPE:\n      return 6; // Vega's \"shape\" has 6 distinct values\n    default:\n      return 10;\n  }\n}\n","import {AggregateOp} from 'vega';\nimport {Aggregate} from '../aggregate';\nimport {Channel, FacetChannel, GeoPositionChannel} from '../channel';\nimport {TypedFieldDef} from '../channeldef';\nimport {SplitParentProperty} from '../compile/split';\nimport {CompositeMark} from '../compositemark';\nimport {ErrorBarCenter, ErrorBarExtent} from '../compositemark/errorbar';\nimport {DateTime, DateTimeExpr} from '../datetime';\nimport {Mark} from '../mark';\nimport {Projection} from '../projection';\nimport {ScaleType} from '../scale';\nimport {Type} from '../type';\nimport {stringify} from '../util';\nimport {VgSortField} from '../vega.schema';\n\n/**\n * Collection of all Vega-Lite Error Messages\n */\n\nexport const INVALID_SPEC = 'Invalid spec';\n\n// FIT\nexport const FIT_NON_SINGLE = 'Autosize \"fit\" only works for single views and layered views.';\n\nexport const CANNOT_FIX_RANGE_STEP_WITH_FIT = 'Cannot use a fixed value of \"rangeStep\" when \"autosize\" is \"fit\".';\n\n// SELECTION\nexport function cannotProjectOnChannelWithoutField(channel: Channel) {\n  return `Cannot project a selection on encoding channel \"${channel}\", which has no field.`;\n}\n\nexport function nearestNotSupportForContinuous(mark: string) {\n  return `The \"nearest\" transform is not supported for ${mark} marks.`;\n}\n\nexport function selectionNotSupported(mark: CompositeMark) {\n  return `Selection not supported for ${mark} yet`;\n}\n\nexport function selectionNotFound(name: string) {\n  return `Cannot find a selection named \"${name}\"`;\n}\n\nexport const SCALE_BINDINGS_CONTINUOUS =\n  'Scale bindings are currently only supported for scales with unbinned, continuous domains.';\n\nexport const NO_INIT_SCALE_BINDINGS = 'Selections bound to scales cannot be separately initialized.';\n\n// REPEAT\nexport function noSuchRepeatedValue(field: string) {\n  return `Unknown repeated value \"${field}\".`;\n}\n\nexport function columnsNotSupportByRowCol(type: 'facet' | 'repeat') {\n  return `The \"columns\" property cannot be used when \"${type}\" has nested row/column.`;\n}\n\n// CONCAT\nexport const CONCAT_CANNOT_SHARE_AXIS =\n  'Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).';\n\n// REPEAT\nexport const REPEAT_CANNOT_SHARE_AXIS =\n  'Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).';\n\n// DATA\nexport function unrecognizedParse(p: string) {\n  return `Unrecognized parse \"${p}\".`;\n}\n\nexport function differentParse(field: string, local: string, ancestor: string) {\n  return `An ancestor parsed field \"${field}\" as ${ancestor} but a child wants to parse the field as ${local}.`;\n}\n\n// TRANSFORMS\nexport function invalidTransformIgnored(transform: any) {\n  return `Ignoring an invalid transform: ${stringify(transform)}.`;\n}\n\nexport const NO_FIELDS_NEEDS_AS =\n  'If \"from.fields\" is not specified, \"as\" has to be a string that specifies the key to be used for the data from the secondary source.';\n\n// ENCODING & FACET\n\nexport function encodingOverridden(channels: Channel[]) {\n  return `Layer's shared ${channels.join(',')} channel ${channels.length === 1 ? 'is' : 'are'} overriden`;\n}\nexport function projectionOverridden(opt: {parentProjection: Projection; projection: Projection}) {\n  const {parentProjection, projection} = opt;\n  return `Layer's shared projection ${stringify(parentProjection)} is overridden by a child projection ${stringify(\n    projection\n  )}.`;\n}\n\nexport function primitiveChannelDef(\n  channel: Channel,\n  type: 'string' | 'number' | 'boolean',\n  value: string | number | boolean\n) {\n  return `Channel ${channel} is a ${type}. Converted to {value: ${stringify(value)}}.`;\n}\n\nexport function invalidFieldType(type: Type) {\n  return `Invalid field type \"${type}\"`;\n}\n\nexport function nonZeroScaleUsedWithLengthMark(\n  mark: 'bar' | 'area',\n  channel: Channel,\n  opt: {scaleType?: ScaleType; zeroFalse?: boolean}\n) {\n  const scaleText = opt.scaleType\n    ? `${opt.scaleType} scale`\n    : opt.zeroFalse\n    ? 'scale with zero=false'\n    : 'scale with custom domain that excludes zero';\n\n  return `A ${scaleText} is used to encode ${mark}'s ${channel}. This can be misleading as the ${\n    channel === 'x' ? 'width' : 'height'\n  } of the ${mark} can be arbitrary based on the scale domain. You may want to use point mark instead.`;\n}\n\nexport function invalidFieldTypeForCountAggregate(type: Type, aggregate: Aggregate | string) {\n  return `Invalid field type \"${type}\" for aggregate: \"${aggregate}\", using \"quantitative\" instead.`;\n}\n\nexport function invalidAggregate(aggregate: AggregateOp | string) {\n  return `Invalid aggregation operator \"${aggregate}\"`;\n}\n\nexport function missingFieldType(channel: Channel, newType: Type) {\n  return `Missing type for channel \"${channel}\", using \"${newType}\" instead.`;\n}\nexport function droppingColor(type: 'encoding' | 'property', opt: {fill?: boolean; stroke?: boolean}) {\n  const {fill, stroke} = opt;\n  return (\n    `Dropping color ${type} as the plot also has ` + (fill && stroke ? 'fill and stroke' : fill ? 'fill' : 'stroke')\n  );\n}\n\nexport function emptyFieldDef(fieldDef: TypedFieldDef<string>, channel: Channel) {\n  return `Dropping ${stringify(fieldDef)} from channel \"${channel}\" since it does not contain data field or value.`;\n}\nexport function latLongDeprecated(channel: Channel, type: Type, newChannel: GeoPositionChannel) {\n  return `${channel}-encoding with type ${type} is deprecated. Replacing with ${newChannel}-encoding.`;\n}\n\nexport const LINE_WITH_VARYING_SIZE =\n  'Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.';\n\nexport function incompatibleChannel(channel: Channel, markOrFacet: Mark | 'facet' | CompositeMark, when?: string) {\n  return `${channel} dropped as it is incompatible with \"${markOrFacet}\"${when ? ` when ${when}` : ''}.`;\n}\n\nexport function invalidEncodingChannel(channel: string) {\n  return `${channel}-encoding is dropped as ${channel} is not a valid encoding channel.`;\n}\n\nexport function facetChannelShouldBeDiscrete(channel: string) {\n  return `${channel} encoding should be discrete (ordinal / nominal / binned).`;\n}\n\nexport function facetChannelDropped(channels: FacetChannel[]) {\n  return `Facet encoding dropped as ${channels.join(' and ')} ${channels.length > 1 ? 'are' : 'is'} also specified.`;\n}\n\nexport function discreteChannelCannotEncode(channel: Channel, type: Type) {\n  return `Using discrete channel \"${channel}\" to encode \"${type}\" field can be misleading as it does not encode ${\n    type === 'ordinal' ? 'order' : 'magnitude'\n  }.`;\n}\n\n// Mark\nexport const BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL =\n  'Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.';\n\nexport function lineWithRange(hasX2: boolean, hasY2: boolean) {\n  const channels = hasX2 && hasY2 ? 'x2 and y2' : hasX2 ? 'x2' : 'y2';\n  return `Line mark is for continuous lines and thus cannot be used with ${channels}. We will use the rule mark (line segments) instead.`;\n}\n\nexport function orientOverridden(original: string, actual: string) {\n  return `Specified orient \"${original}\" overridden with \"${actual}\"`;\n}\n\n// SCALE\nexport const CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN =\n  'custom domain scale cannot be unioned with default field-based domain';\n\nexport function cannotUseScalePropertyWithNonColor(prop: string) {\n  return `Cannot use the scale property \"${prop}\" with non-color channel.`;\n}\n\nexport function unaggregateDomainHasNoEffectForRawField(fieldDef: TypedFieldDef<string>) {\n  return `Using unaggregated domain with raw field has no effect (${stringify(fieldDef)}).`;\n}\n\nexport function unaggregateDomainWithNonSharedDomainOp(aggregate: Aggregate | string) {\n  return `Unaggregated domain not applicable for \"${aggregate}\" since it produces values outside the origin domain of the source data.`;\n}\n\nexport function unaggregatedDomainWithLogScale(fieldDef: TypedFieldDef<string>) {\n  return `Unaggregated domain is currently unsupported for log scale (${stringify(fieldDef)}).`;\n}\n\nexport function cannotApplySizeToNonOrientedMark(mark: Mark) {\n  return `Cannot apply size to non-oriented mark \"${mark}\".`;\n}\n\nexport function rangeStepDropped(channel: Channel) {\n  return `rangeStep for \"${channel}\" is dropped as top-level ${channel === 'x' ? 'width' : 'height'} is provided.`;\n}\n\nexport function scaleTypeNotWorkWithChannel(channel: Channel, scaleType: ScaleType, defaultScaleType: ScaleType) {\n  return `Channel \"${channel}\" does not work with \"${scaleType}\" scale. We are using \"${defaultScaleType}\" scale instead.`;\n}\n\nexport function scaleTypeNotWorkWithFieldDef(scaleType: ScaleType, defaultScaleType: ScaleType) {\n  return `FieldDef does not work with \"${scaleType}\" scale. We are using \"${defaultScaleType}\" scale instead.`;\n}\n\nexport function scalePropertyNotWorkWithScaleType(scaleType: ScaleType, propName: string, channel: Channel) {\n  return `${channel}-scale's \"${propName}\" is dropped as it does not work with ${scaleType} scale.`;\n}\n\nexport function scaleTypeNotWorkWithMark(mark: Mark, scaleType: ScaleType) {\n  return `Scale type \"${scaleType}\" does not work with mark \"${mark}\".`;\n}\n\nexport function mergeConflictingProperty<T>(\n  property: string | number | symbol,\n  propertyOf: SplitParentProperty,\n  v1: T,\n  v2: T\n) {\n  return `Conflicting ${propertyOf.toString()} property \"${property.toString()}\" (${stringify(v1)} and ${stringify(\n    v2\n  )}).  Using ${stringify(v1)}.`;\n}\n\nexport function mergeConflictingDomainProperty<T>(property: 'domains', propertyOf: SplitParentProperty, v1: T, v2: T) {\n  return `Conflicting ${propertyOf.toString()} property \"${property.toString()}\" (${stringify(v1)} and ${stringify(\n    v2\n  )}).  Using the union of the two domains.`;\n}\n\nexport function independentScaleMeansIndependentGuide(channel: Channel) {\n  return `Setting the scale to be independent for \"${channel}\" means we also have to set the guide (axis or legend) to be independent.`;\n}\n\nexport function domainSortDropped(sort: VgSortField) {\n  return `Dropping sort property ${stringify(sort)} as unioned domains only support boolean or op 'count'.`;\n}\n\nexport const UNABLE_TO_MERGE_DOMAINS = 'Unable to merge domains';\n\nexport const MORE_THAN_ONE_SORT =\n  'Domains that should be unioned has conflicting sort properties. Sort will be set to true.';\n\n// AXIS\nexport const INVALID_CHANNEL_FOR_AXIS = 'Invalid channel for axis.';\n\n// STACK\nexport function cannotStackRangedMark(channel: Channel) {\n  return `Cannot stack \"${channel}\" if there is already \"${channel}2\"`;\n}\n\nexport function cannotStackNonLinearScale(scaleType: ScaleType) {\n  return `Cannot stack non-linear scale (${scaleType})`;\n}\n\nexport function stackNonSummativeAggregate(aggregate: Aggregate | string) {\n  return `Stacking is applied even though the aggregate function is non-summative (\"${aggregate}\")`;\n}\n\n// TIMEUNIT\nexport function invalidTimeUnit(unitName: string, value: string | number) {\n  return `Invalid ${unitName}: ${stringify(value)}`;\n}\n\nexport function dayReplacedWithDate(fullTimeUnit: string) {\n  return `Time unit \"${fullTimeUnit}\" is not supported. We are replacing it with ${fullTimeUnit.replace(\n    'day',\n    'date'\n  )}.`;\n}\n\nexport function droppedDay(d: DateTime | DateTimeExpr) {\n  return `Dropping day from datetime ${stringify(d)} as day cannot be combined with other units.`;\n}\n\nexport function errorBarCenterAndExtentAreNotNeeded(center: ErrorBarCenter, extent: ErrorBarExtent) {\n  return `${extent ? 'extent ' : ''}${extent && center ? 'and ' : ''}${center ? 'center ' : ''}${\n    extent && center ? 'are ' : 'is '\n  }not needed when data are aggregated.`;\n}\n\nexport function errorBarCenterIsUsedWithWrongExtent(\n  center: ErrorBarCenter,\n  extent: ErrorBarExtent,\n  mark: 'errorbar' | 'errorband'\n) {\n  return `${center} is not usually used with ${extent} for ${mark}.`;\n}\n\nexport function errorBarContinuousAxisHasCustomizedAggregate(\n  aggregate: Aggregate | string,\n  compositeMark: CompositeMark\n) {\n  return `Continuous axis should not have customized aggregation function ${aggregate}; ${compositeMark} already agregates the axis.`;\n}\n\nexport function errorBarCenterIsNotNeeded(extent: ErrorBarExtent, mark: 'errorbar' | 'errorband') {\n  return `Center is not needed to be specified in ${mark} when extent is ${extent}.`;\n}\n\nexport function errorBand1DNotSupport(property: 'interpolate' | 'tension') {\n  return `1D error band does not support ${property}`;\n}\n\n// CHANNEL\nexport function channelRequiredForBinned(channel: Channel) {\n  return `Channel ${channel} is required for \"binned\" bin`;\n}\n\nexport function domainRequiredForThresholdScale(channel: Channel) {\n  return `Domain for ${channel} is required for threshold scale`;\n}\n","/**\n * Vega-Lite's singleton logger utility.\n */\n\nimport {logger, LoggerInterface, Warn} from 'vega-util';\nimport * as message_ from './message';\n\nexport const message = message_;\n\n/**\n * Main (default) Vega Logger instance for Vega-Lite\n */\nconst main = logger(Warn);\nlet current: LoggerInterface = main;\n\n/**\n * Logger tool for checking if the code throws correct warning\n */\nexport class LocalLogger implements LoggerInterface {\n  public warns: any[] = [];\n  public infos: any[] = [];\n  public debugs: any[] = [];\n\n  public level() {\n    return this;\n  }\n\n  public warn(...args: any[]) {\n    this.warns.push(...args);\n    return this;\n  }\n\n  public info(...args: any[]) {\n    this.infos.push(...args);\n    return this;\n  }\n\n  public debug(...args: any[]) {\n    this.debugs.push(...args);\n    return this;\n  }\n\n  public error(...args: any[]) {\n    throw Error(...args);\n    return this; // @ts-ignore\n  }\n}\n\nexport function wrap(f: (logger: LocalLogger) => void) {\n  return () => {\n    current = new LocalLogger();\n    f(current as LocalLogger);\n    reset();\n  };\n}\n\n/**\n * Set the singleton logger to be a custom logger\n */\nexport function set(newLogger: LoggerInterface) {\n  current = newLogger;\n  return current;\n}\n\n/**\n * Reset the main logger to use the default Vega Logger\n */\nexport function reset() {\n  current = main;\n  return current;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function warn(..._: any[]) {\n  current.warn.apply(current, arguments);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function info(..._: any[]) {\n  current.info.apply(current, arguments);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function debug(..._: any[]) {\n  current.debug.apply(current, arguments);\n}\n","// DateTime definition object\n\nimport {isNumber} from 'vega-util';\nimport * as log from './log';\nimport {duplicate, keys} from './util';\n\n/*\n * A designated year that starts on Sunday.\n */\nconst SUNDAY_YEAR = 2006;\n\n/**\n * @minimum 1\n * @maximum 12\n * @TJS-type integer\n */\nexport type Month = number;\n\n/**\n * @minimum 1\n * @maximum 7\n */\nexport type Day = number;\n\n/**\n * Object for defining datetime in Vega-Lite Filter.\n * If both month and quarter are provided, month has higher precedence.\n * `day` cannot be combined with other date.\n * We accept string for month and day names.\n */\nexport interface DateTime {\n  /**\n   * Integer value representing the year.\n   * @TJS-type integer\n   */\n  year?: number;\n\n  /**\n   * Integer value representing the quarter of the year (from 1-4).\n   * @minimum 1\n   * @maximum 4\n   * @TJS-type integer\n   */\n  quarter?: number;\n\n  /** One of: (1) integer value representing the month from `1`-`12`. `1` represents January;  (2) case-insensitive month name (e.g., `\"January\"`);  (3) case-insensitive, 3-character short month name (e.g., `\"Jan\"`). */\n  month?: Month | string;\n\n  /**\n   * Integer value representing the date from 1-31.\n   * @minimum 1\n   * @maximum 31\n   * @TJS-type integer\n   */\n  date?: number;\n\n  /**\n   * Value representing the day of a week.  This can be one of: (1) integer value -- `1` represents Monday; (2) case-insensitive day name (e.g., `\"Monday\"`);  (3) case-insensitive, 3-character short day name (e.g., `\"Mon\"`).   <br/> **Warning:** A DateTime definition object with `day`** should not be combined with `year`, `quarter`, `month`, or `date`.\n   */\n  day?: Day | string;\n\n  /**\n   * Integer value representing the hour of a day from 0-23.\n   * @minimum 0\n   * @maximum 23\n   * @TJS-type integer\n   */\n  hours?: number;\n\n  /**\n   * Integer value representing the minute segment of time from 0-59.\n   * @minimum 0\n   * @maximum 59\n   * @TJS-type integer\n   */\n  minutes?: number;\n\n  /**\n   * Integer value representing the second segment (0-59) of a time value\n   * @minimum 0\n   * @maximum 59\n   * @TJS-type integer\n   */\n  seconds?: number;\n\n  /**\n   * Integer value representing the millisecond segment of time.\n   * @minimum 0\n   * @maximum 999\n   * @TJS-type integer\n   */\n  milliseconds?: number;\n\n  /**\n   * A boolean flag indicating if date time is in utc time. If false, the date time is in local time\n   */\n  utc?: boolean;\n}\n\n/**\n * Internal Object for defining datetime expressions.\n * This is an expression version of DateTime.\n * If both month and quarter are provided, month has higher precedence.\n * `day` cannot be combined with other date.\n */\nexport interface DateTimeExpr {\n  year?: string;\n  quarter?: string;\n  month?: string;\n  date?: string;\n  day?: string;\n  hours?: string;\n  minutes?: string;\n  seconds?: string;\n  milliseconds?: string;\n  utc?: boolean;\n}\n\nexport function isDateTime(o: any): o is DateTime {\n  return (\n    !!o &&\n    (!!o.year ||\n      !!o.quarter ||\n      !!o.month ||\n      !!o.date ||\n      !!o.day ||\n      !!o.hours ||\n      !!o.minutes ||\n      !!o.seconds ||\n      !!o.milliseconds)\n  );\n}\n\nexport const MONTHS = [\n  'january',\n  'february',\n  'march',\n  'april',\n  'may',\n  'june',\n  'july',\n  'august',\n  'september',\n  'october',\n  'november',\n  'december'\n];\nexport const SHORT_MONTHS = MONTHS.map(m => m.substr(0, 3));\n\nexport const DAYS = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\nexport const SHORT_DAYS = DAYS.map(d => d.substr(0, 3));\n\nfunction normalizeQuarter(q: number | string) {\n  if (isNumber(q)) {\n    if (q > 4) {\n      log.warn(log.message.invalidTimeUnit('quarter', q));\n    }\n    // We accept 1-based quarter, so need to readjust to 0-based quarter\n    return (q - 1).toString();\n  } else {\n    // Invalid quarter\n    throw new Error(log.message.invalidTimeUnit('quarter', q));\n  }\n}\n\nfunction normalizeMonth(m: string | number) {\n  if (isNumber(m)) {\n    // We accept 1-based month, so need to readjust to 0-based month\n    return (m - 1).toString();\n  } else {\n    const lowerM = m.toLowerCase();\n    const monthIndex = MONTHS.indexOf(lowerM);\n    if (monthIndex !== -1) {\n      return monthIndex + ''; // 0 for january, ...\n    }\n    const shortM = lowerM.substr(0, 3);\n    const shortMonthIndex = SHORT_MONTHS.indexOf(shortM);\n    if (shortMonthIndex !== -1) {\n      return shortMonthIndex + '';\n    }\n    // Invalid month\n    throw new Error(log.message.invalidTimeUnit('month', m));\n  }\n}\n\nfunction normalizeDay(d: string | number) {\n  if (isNumber(d)) {\n    // mod so that this can be both 0-based where 0 = sunday\n    // and 1-based where 7=sunday\n    return (d % 7) + '';\n  } else {\n    const lowerD = d.toLowerCase();\n    const dayIndex = DAYS.indexOf(lowerD);\n    if (dayIndex !== -1) {\n      return dayIndex + ''; // 0 for january, ...\n    }\n    const shortD = lowerD.substr(0, 3);\n    const shortDayIndex = SHORT_DAYS.indexOf(shortD);\n    if (shortDayIndex !== -1) {\n      return shortDayIndex + '';\n    }\n    // Invalid day\n    throw new Error(log.message.invalidTimeUnit('day', d));\n  }\n}\n\n/**\n * Return Vega Expression for a particular date time.\n * @param d\n * @param normalize whether to normalize quarter, month, day.\n * @param toJSON whether to return the date in JSON format\n */\nexport function dateTimeExpr(d: DateTime | DateTimeExpr, normalize = false, toJSON = false) {\n  const units: (string | number)[] = [];\n\n  if (normalize && d.day !== undefined) {\n    if (keys(d).length > 1) {\n      log.warn(log.message.droppedDay(d));\n      d = duplicate(d);\n      delete d.day;\n    }\n  }\n\n  if (d.year !== undefined) {\n    units.push(d.year);\n  } else if (d.day !== undefined) {\n    // Set year to 2006 for working with day since January 1 2006 is a Sunday\n    units.push(SUNDAY_YEAR);\n  } else {\n    units.push(0);\n  }\n\n  if (d.month !== undefined) {\n    const month = normalize ? normalizeMonth(d.month) : d.month;\n    units.push(month);\n  } else if (d.quarter !== undefined) {\n    const quarter = normalize ? normalizeQuarter(d.quarter) : d.quarter;\n    units.push(quarter + '*3');\n  } else {\n    units.push(0); // months start at zero in JS\n  }\n\n  if (d.date !== undefined) {\n    units.push(d.date);\n  } else if (d.day !== undefined) {\n    // HACK: Day only works as a standalone unit\n    // This is only correct because we always set year to 2006 for day\n    const day = normalize ? normalizeDay(d.day) : d.day;\n    units.push(day + '+1');\n  } else {\n    units.push(1); // Date starts at 1 in JS\n  }\n\n  // Note: can't use TimeUnit enum here as importing it will create\n  // circular dependency problem!\n  for (const timeUnit of ['hours', 'minutes', 'seconds', 'milliseconds']) {\n    if (d[timeUnit] !== undefined) {\n      units.push(d[timeUnit]);\n    } else {\n      units.push(0);\n    }\n  }\n\n  const unitsString = units.join(', ');\n\n  if (toJSON) {\n    if (d.utc) {\n      return new Function(`return new Date(Date.UTC(${unitsString}))`)().toJSON();\n    } else {\n      return new Function(`return new Date(${unitsString})`)().toJSON();\n    }\n  }\n\n  if (d.utc) {\n    return `utc(${unitsString})`;\n  } else {\n    return `datetime(${unitsString})`;\n  }\n}\n","import {DateTimeExpr, dateTimeExpr} from './datetime';\nimport * as log from './log';\nimport {accessPathWithDatum, Flag, keys} from './util';\n\nexport namespace TimeUnit {\n  export const YEAR: 'year' = 'year';\n  export const MONTH: 'month' = 'month';\n  export const DAY: 'day' = 'day';\n  export const DATE: 'date' = 'date';\n  export const HOURS: 'hours' = 'hours';\n  export const MINUTES: 'minutes' = 'minutes';\n  export const SECONDS: 'seconds' = 'seconds';\n  export const MILLISECONDS: 'milliseconds' = 'milliseconds';\n  export const YEARMONTH: 'yearmonth' = 'yearmonth';\n  export const YEARMONTHDATE: 'yearmonthdate' = 'yearmonthdate';\n  export const YEARMONTHDATEHOURS: 'yearmonthdatehours' = 'yearmonthdatehours';\n  export const YEARMONTHDATEHOURSMINUTES: 'yearmonthdatehoursminutes' = 'yearmonthdatehoursminutes';\n  export const YEARMONTHDATEHOURSMINUTESSECONDS: 'yearmonthdatehoursminutesseconds' =\n    'yearmonthdatehoursminutesseconds';\n\n  // MONTHDATE and MONTHDATEHOURS always include 29 February since we use year 0th (which is a leap year);\n  export const MONTHDATE: 'monthdate' = 'monthdate';\n  export const MONTHDATEHOURS: 'monthdatehours' = 'monthdatehours';\n  export const HOURSMINUTES: 'hoursminutes' = 'hoursminutes';\n  export const HOURSMINUTESSECONDS: 'hoursminutesseconds' = 'hoursminutesseconds';\n  export const MINUTESSECONDS: 'minutesseconds' = 'minutesseconds';\n  export const SECONDSMILLISECONDS: 'secondsmilliseconds' = 'secondsmilliseconds';\n  export const QUARTER: 'quarter' = 'quarter';\n  export const YEARQUARTER: 'yearquarter' = 'yearquarter';\n  export const QUARTERMONTH: 'quartermonth' = 'quartermonth';\n  export const YEARQUARTERMONTH: 'yearquartermonth' = 'yearquartermonth';\n  export const UTCYEAR: 'utcyear' = 'utcyear';\n  export const UTCMONTH: 'utcmonth' = 'utcmonth';\n  export const UTCDAY: 'utcday' = 'utcday';\n  export const UTCDATE: 'utcdate' = 'utcdate';\n  export const UTCHOURS: 'utchours' = 'utchours';\n  export const UTCMINUTES: 'utcminutes' = 'utcminutes';\n  export const UTCSECONDS: 'utcseconds' = 'utcseconds';\n  export const UTCMILLISECONDS: 'utcmilliseconds' = 'utcmilliseconds';\n  export const UTCYEARMONTH: 'utcyearmonth' = 'utcyearmonth';\n  export const UTCYEARMONTHDATE: 'utcyearmonthdate' = 'utcyearmonthdate';\n  export const UTCYEARMONTHDATEHOURS: 'utcyearmonthdatehours' = 'utcyearmonthdatehours';\n  export const UTCYEARMONTHDATEHOURSMINUTES: 'utcyearmonthdatehoursminutes' = 'utcyearmonthdatehoursminutes';\n  export const UTCYEARMONTHDATEHOURSMINUTESSECONDS: 'utcyearmonthdatehoursminutesseconds' =\n    'utcyearmonthdatehoursminutesseconds';\n\n  // UTCMONTHDATE and UTCMONTHDATEHOURS always include 29 February since we use year 0th (which is a leap year);\n  export const UTCMONTHDATE: 'utcmonthdate' = 'utcmonthdate';\n  export const UTCMONTHDATEHOURS: 'utcmonthdatehours' = 'utcmonthdatehours';\n  export const UTCHOURSMINUTES: 'utchoursminutes' = 'utchoursminutes';\n  export const UTCHOURSMINUTESSECONDS: 'utchoursminutesseconds' = 'utchoursminutesseconds';\n  export const UTCMINUTESSECONDS: 'utcminutesseconds' = 'utcminutesseconds';\n  export const UTCSECONDSMILLISECONDS: 'utcsecondsmilliseconds' = 'utcsecondsmilliseconds';\n  export const UTCQUARTER: 'utcquarter' = 'utcquarter';\n  export const UTCYEARQUARTER: 'utcyearquarter' = 'utcyearquarter';\n  export const UTCQUARTERMONTH: 'utcquartermonth' = 'utcquartermonth';\n  export const UTCYEARQUARTERMONTH: 'utcyearquartermonth' = 'utcyearquartermonth';\n}\n\nexport type LocalSingleTimeUnit =\n  | typeof TimeUnit.YEAR\n  | typeof TimeUnit.QUARTER\n  | typeof TimeUnit.MONTH\n  | typeof TimeUnit.DAY\n  | typeof TimeUnit.DATE\n  | typeof TimeUnit.HOURS\n  | typeof TimeUnit.MINUTES\n  | typeof TimeUnit.SECONDS\n  | typeof TimeUnit.MILLISECONDS;\n\n/** Time Unit that only corresponds to only one part of Date objects. */\nconst LOCAL_SINGLE_TIMEUNIT_INDEX: Flag<LocalSingleTimeUnit> = {\n  year: 1,\n  quarter: 1,\n  month: 1,\n  day: 1,\n  date: 1,\n  hours: 1,\n  minutes: 1,\n  seconds: 1,\n  milliseconds: 1\n};\n\nexport const TIMEUNIT_PARTS = keys(LOCAL_SINGLE_TIMEUNIT_INDEX);\n\nexport function isLocalSingleTimeUnit(timeUnit: string): timeUnit is LocalSingleTimeUnit {\n  return !!LOCAL_SINGLE_TIMEUNIT_INDEX[timeUnit];\n}\n\nexport type UtcSingleTimeUnit =\n  | typeof TimeUnit.UTCYEAR\n  | typeof TimeUnit.UTCQUARTER\n  | typeof TimeUnit.UTCMONTH\n  | typeof TimeUnit.UTCDAY\n  | typeof TimeUnit.UTCDATE\n  | typeof TimeUnit.UTCHOURS\n  | typeof TimeUnit.UTCMINUTES\n  | typeof TimeUnit.UTCSECONDS\n  | typeof TimeUnit.UTCMILLISECONDS;\n\nconst UTC_SINGLE_TIMEUNIT_INDEX: Flag<UtcSingleTimeUnit> = {\n  utcyear: 1,\n  utcquarter: 1,\n  utcmonth: 1,\n  utcday: 1,\n  utcdate: 1,\n  utchours: 1,\n  utcminutes: 1,\n  utcseconds: 1,\n  utcmilliseconds: 1\n};\n\nexport function isUtcSingleTimeUnit(timeUnit: string): timeUnit is UtcSingleTimeUnit {\n  return !!UTC_SINGLE_TIMEUNIT_INDEX[timeUnit];\n}\n\nexport type SingleTimeUnit = LocalSingleTimeUnit | UtcSingleTimeUnit;\n\nexport type LocalMultiTimeUnit =\n  // Local Time\n  | typeof TimeUnit.YEARQUARTER\n  | typeof TimeUnit.YEARQUARTERMONTH\n  | typeof TimeUnit.YEARMONTH\n  | typeof TimeUnit.YEARMONTHDATE\n  | typeof TimeUnit.YEARMONTHDATEHOURS\n  | typeof TimeUnit.YEARMONTHDATEHOURSMINUTES\n  | typeof TimeUnit.YEARMONTHDATEHOURSMINUTESSECONDS\n  | typeof TimeUnit.QUARTERMONTH\n  | typeof TimeUnit.MONTHDATE\n  | typeof TimeUnit.MONTHDATEHOURS\n  | typeof TimeUnit.HOURSMINUTES\n  | typeof TimeUnit.HOURSMINUTESSECONDS\n  | typeof TimeUnit.MINUTESSECONDS\n  | typeof TimeUnit.SECONDSMILLISECONDS;\n\nconst LOCAL_MULTI_TIMEUNIT_INDEX: Flag<LocalMultiTimeUnit> = {\n  yearquarter: 1,\n  yearquartermonth: 1,\n\n  yearmonth: 1,\n  yearmonthdate: 1,\n  yearmonthdatehours: 1,\n  yearmonthdatehoursminutes: 1,\n  yearmonthdatehoursminutesseconds: 1,\n\n  quartermonth: 1,\n\n  monthdate: 1,\n  monthdatehours: 1,\n\n  hoursminutes: 1,\n  hoursminutesseconds: 1,\n\n  minutesseconds: 1,\n\n  secondsmilliseconds: 1\n};\n\nexport type UtcMultiTimeUnit =\n  | typeof TimeUnit.UTCYEARQUARTER\n  | typeof TimeUnit.UTCYEARQUARTERMONTH\n  | typeof TimeUnit.UTCYEARMONTH\n  | typeof TimeUnit.UTCYEARMONTHDATE\n  | typeof TimeUnit.UTCYEARMONTHDATEHOURS\n  | typeof TimeUnit.UTCYEARMONTHDATEHOURSMINUTES\n  | typeof TimeUnit.UTCYEARMONTHDATEHOURSMINUTESSECONDS\n  | typeof TimeUnit.UTCQUARTERMONTH\n  | typeof TimeUnit.UTCMONTHDATE\n  | typeof TimeUnit.UTCMONTHDATEHOURS\n  | typeof TimeUnit.UTCHOURSMINUTES\n  | typeof TimeUnit.UTCHOURSMINUTESSECONDS\n  | typeof TimeUnit.UTCMINUTESSECONDS\n  | typeof TimeUnit.UTCSECONDSMILLISECONDS;\n\nconst UTC_MULTI_TIMEUNIT_INDEX: Flag<UtcMultiTimeUnit> = {\n  utcyearquarter: 1,\n  utcyearquartermonth: 1,\n\n  utcyearmonth: 1,\n  utcyearmonthdate: 1,\n  utcyearmonthdatehours: 1,\n  utcyearmonthdatehoursminutes: 1,\n  utcyearmonthdatehoursminutesseconds: 1,\n\n  utcquartermonth: 1,\n\n  utcmonthdate: 1,\n  utcmonthdatehours: 1,\n\n  utchoursminutes: 1,\n  utchoursminutesseconds: 1,\n\n  utcminutesseconds: 1,\n\n  utcsecondsmilliseconds: 1\n};\n\nexport type MultiTimeUnit = LocalMultiTimeUnit | UtcMultiTimeUnit;\n\nexport type LocalTimeUnit = LocalSingleTimeUnit | LocalMultiTimeUnit;\nexport type UtcTimeUnit = UtcSingleTimeUnit | UtcMultiTimeUnit;\n\nconst UTC_TIMEUNIT_INDEX: Flag<UtcTimeUnit> = {\n  ...UTC_SINGLE_TIMEUNIT_INDEX,\n  ...UTC_MULTI_TIMEUNIT_INDEX\n};\n\nexport function isUTCTimeUnit(t: string): t is UtcTimeUnit {\n  return !!UTC_TIMEUNIT_INDEX[t];\n}\n\nexport function getLocalTimeUnit(t: UtcTimeUnit): LocalTimeUnit {\n  return t.substr(3) as LocalTimeUnit;\n}\n\nexport type TimeUnit = SingleTimeUnit | MultiTimeUnit;\n\nconst TIMEUNIT_INDEX: Flag<TimeUnit> = {\n  ...LOCAL_SINGLE_TIMEUNIT_INDEX,\n  ...UTC_SINGLE_TIMEUNIT_INDEX,\n  ...LOCAL_MULTI_TIMEUNIT_INDEX,\n  ...UTC_MULTI_TIMEUNIT_INDEX\n};\n\nexport const TIMEUNITS = keys(TIMEUNIT_INDEX);\n\nexport function isTimeUnit(t: string): t is TimeUnit {\n  return !!TIMEUNIT_INDEX[t];\n}\n\ntype DateMethodName = keyof Date;\n\nconst SET_DATE_METHOD: Record<LocalSingleTimeUnit, DateMethodName> = {\n  year: 'setFullYear',\n  month: 'setMonth',\n  date: 'setDate',\n  hours: 'setHours',\n  minutes: 'setMinutes',\n  seconds: 'setSeconds',\n  milliseconds: 'setMilliseconds',\n  // Day and quarter have their own special cases\n  quarter: null,\n  day: null\n};\n\n/**\n * Converts a date to only have the measurements relevant to the specified unit\n * i.e. ('yearmonth', '2000-12-04 07:58:14') -> '2000-12-01 00:00:00'\n * Note: the base date is Jan 01 1900 00:00:00\n */\nexport function convert(unit: TimeUnit, date: Date): Date {\n  const isUTC = isUTCTimeUnit(unit);\n  const result: Date = isUTC\n    ? // start with uniform date\n      new Date(Date.UTC(1972, 0, 1, 0, 0, 0, 0)) // 1972 is the first leap year after 1970, the start of unix time\n    : new Date(1972, 0, 1, 0, 0, 0, 0);\n  for (const timeUnitPart of TIMEUNIT_PARTS) {\n    if (containsTimeUnit(unit, timeUnitPart)) {\n      switch (timeUnitPart) {\n        case TimeUnit.DAY:\n          throw new Error(\"Cannot convert to TimeUnits containing 'day'\");\n        case TimeUnit.QUARTER: {\n          const {getDateMethod, setDateMethod} = dateMethods('month', isUTC);\n          // indicate quarter by setting month to be the first of the quarter i.e. may (4) -> april (3)\n          result[setDateMethod](Math.floor(date[getDateMethod]() / 3) * 3);\n          break;\n        }\n        default: {\n          const {getDateMethod, setDateMethod} = dateMethods(timeUnitPart, isUTC);\n          result[setDateMethod](date[getDateMethod]());\n        }\n      }\n    }\n  }\n  return result;\n}\n\nfunction dateMethods(singleUnit: SingleTimeUnit, isUtc: boolean) {\n  const rawSetDateMethod = SET_DATE_METHOD[singleUnit];\n  const setDateMethod = isUtc ? 'setUTC' + rawSetDateMethod.substr(3) : rawSetDateMethod;\n  const getDateMethod = 'get' + (isUtc ? 'UTC' : '') + rawSetDateMethod.substr(3);\n  return {setDateMethod, getDateMethod};\n}\n\nexport function getTimeUnitParts(timeUnit: TimeUnit) {\n  return TIMEUNIT_PARTS.reduce((parts, part) => {\n    if (containsTimeUnit(timeUnit, part)) {\n      return [...parts, part];\n    }\n    return parts;\n  }, []);\n}\n\n/** Returns true if fullTimeUnit contains the timeUnit, false otherwise. */\nexport function containsTimeUnit(fullTimeUnit: TimeUnit, timeUnit: TimeUnit) {\n  const index = fullTimeUnit.indexOf(timeUnit);\n  return (\n    index > -1 && (timeUnit !== TimeUnit.SECONDS || index === 0 || fullTimeUnit.charAt(index - 1) !== 'i') // exclude milliseconds\n  );\n}\n\n/**\n * Returns Vega expresssion for a given timeUnit and fieldRef\n */\nexport function fieldExpr(fullTimeUnit: TimeUnit, field: string): string {\n  const fieldRef = accessPathWithDatum(field);\n\n  const utc = isUTCTimeUnit(fullTimeUnit) ? 'utc' : '';\n  function func(timeUnit: TimeUnit) {\n    if (timeUnit === TimeUnit.QUARTER) {\n      // quarter starting at 0 (0,3,6,9).\n      return `(${utc}quarter(${fieldRef})-1)`;\n    } else {\n      return `${utc}${timeUnit}(${fieldRef})`;\n    }\n  }\n\n  const d = TIMEUNIT_PARTS.reduce(\n    (dateExpr: DateTimeExpr, tu: TimeUnit) => {\n      if (containsTimeUnit(fullTimeUnit, tu)) {\n        dateExpr[tu] = func(tu);\n      }\n      return dateExpr;\n    },\n    {} as {[key in SingleTimeUnit]: string}\n  );\n\n  return dateTimeExpr(d);\n}\n\nexport function getDateTimeComponents(timeUnit: TimeUnit, shortTimeLabels: boolean) {\n  if (!timeUnit) {\n    return undefined;\n  }\n\n  const dateComponents: string[] = [];\n  const hasYear = containsTimeUnit(timeUnit, TimeUnit.YEAR);\n\n  if (containsTimeUnit(timeUnit, TimeUnit.MONTH)) {\n    // By default use short month name\n    dateComponents.push(shortTimeLabels !== false ? '%b' : '%B');\n  }\n\n  if (containsTimeUnit(timeUnit, TimeUnit.DAY)) {\n    dateComponents.push(shortTimeLabels ? '%a' : '%A');\n  } else if (containsTimeUnit(timeUnit, TimeUnit.DATE)) {\n    dateComponents.push('%d' + (hasYear ? ',' : '')); // add comma if there is year\n  }\n\n  if (hasYear) {\n    dateComponents.push(shortTimeLabels ? '%y' : '%Y');\n  }\n\n  const timeComponents: string[] = [];\n\n  if (containsTimeUnit(timeUnit, TimeUnit.HOURS)) {\n    timeComponents.push('%H');\n  }\n  if (containsTimeUnit(timeUnit, TimeUnit.MINUTES)) {\n    timeComponents.push('%M');\n  }\n  if (containsTimeUnit(timeUnit, TimeUnit.SECONDS)) {\n    timeComponents.push('%S');\n  }\n  if (containsTimeUnit(timeUnit, TimeUnit.MILLISECONDS)) {\n    timeComponents.push('%L');\n  }\n\n  const dateTimeComponents: string[] = [];\n  if (dateComponents.length > 0) {\n    dateTimeComponents.push(dateComponents.join(' '));\n  }\n  if (timeComponents.length > 0) {\n    dateTimeComponents.push(timeComponents.join(':'));\n  }\n\n  return dateTimeComponents;\n}\n\n/**\n * returns the signal expression used for axis labels for a time unit\n */\nexport function formatExpression(\n  timeUnit: TimeUnit,\n  field: string,\n  shortTimeLabels: boolean,\n  isUTCScale: boolean\n): string {\n  if (!timeUnit) {\n    return undefined;\n  }\n\n  const dateTimeComponents: string[] = getDateTimeComponents(timeUnit, shortTimeLabels);\n  let expression = '';\n\n  if (containsTimeUnit(timeUnit, TimeUnit.QUARTER)) {\n    // special expression for quarter as prefix\n    expression = `'Q' + quarter(${field})`;\n  }\n\n  if (dateTimeComponents.length > 0) {\n    if (expression) {\n      // Add space between quarter and main time format\n      expression += ` + ' ' + `;\n    }\n\n    // We only use utcFormat for utc scale\n    // For utc time units, the data is already converted as a part of timeUnit transform.\n    // Thus, utc time units should use timeFormat to avoid shifting the time twice.\n    if (isUTCScale) {\n      expression += `utcFormat(${field}, '${dateTimeComponents.join(' ')}')`;\n    } else {\n      expression += `timeFormat(${field}, '${dateTimeComponents.join(' ')}')`;\n    }\n  }\n\n  // If expression is still an empty string, return undefined instead.\n  return expression || undefined;\n}\n\nexport function normalizeTimeUnit(timeUnit: TimeUnit): TimeUnit {\n  if (timeUnit !== 'day' && timeUnit.indexOf('day') >= 0) {\n    log.warn(log.message.dayReplacedWithDate(timeUnit));\n    return timeUnit.replace('day', 'date') as TimeUnit;\n  }\n  return timeUnit;\n}\n","import {Flag} from './util';\n/** Constants and utilities for data type */\n/** Data type based on level of measurement */\n\nexport const TYPE_INDEX: Flag<Type> = {\n  quantitative: 1,\n  ordinal: 1,\n  temporal: 1,\n  nominal: 1,\n  geojson: 1\n};\n\nexport function isType(t: any): t is Type {\n  return !!TYPE_INDEX[t];\n}\n\nexport const QUANTITATIVE: 'quantitative' = 'quantitative';\nexport const ORDINAL: 'ordinal' = 'ordinal';\nexport const TEMPORAL: 'temporal' = 'temporal';\nexport const NOMINAL: 'nominal' = 'nominal';\n\nexport const GEOJSON: 'geojson' = 'geojson';\n\nexport type StandardType = typeof QUANTITATIVE | typeof ORDINAL | typeof TEMPORAL | typeof NOMINAL;\n\nexport type Type = StandardType | typeof GEOJSON;\n\n/**\n * Get full, lowercase type name for a given type.\n * @param  type\n * @return Full type name.\n */\nexport function getFullName(type: Type | string): Type {\n  if (type) {\n    type = type.toLowerCase();\n    switch (type) {\n      case 'q':\n      case QUANTITATIVE:\n        return 'quantitative';\n      case 't':\n      case TEMPORAL:\n        return 'temporal';\n      case 'o':\n      case ORDINAL:\n        return 'ordinal';\n      case 'n':\n      case NOMINAL:\n        return 'nominal';\n      case GEOJSON:\n        return 'geojson';\n    }\n  }\n  // If we get invalid input, return undefined type.\n  return undefined;\n}\n","// Declaration and utility for variants of a field definition object\nimport {isArray, isBoolean, isNumber, isString} from 'vega-util';\nimport {Aggregate, isAggregateOp, isArgmaxDef, isArgminDef, isCountingAggregateOp} from './aggregate';\nimport {Axis} from './axis';\nimport {autoMaxBins, Bin, BinParams, binToString, isBinned, isBinning} from './bin';\nimport {Channel, isScaleChannel, isSecondaryRangeChannel, POSITION_SCALE_CHANNELS, rangeType} from './channel';\nimport {CompositeAggregate} from './compositemark';\nimport {Config} from './config';\nimport {DateTime, dateTimeExpr, isDateTime} from './datetime';\nimport {FormatMixins, Guide, TitleMixins} from './guide';\nimport {ImputeParams} from './impute';\nimport {Legend} from './legend';\nimport * as log from './log';\nimport {LogicalOperand} from './logical';\nimport {Predicate} from './predicate';\nimport {Scale} from './scale';\nimport {Sort, SortOrder} from './sort';\nimport {isFacetFieldDef} from './spec/facet';\nimport {StackOffset} from './stack';\nimport {\n  getLocalTimeUnit,\n  getTimeUnitParts,\n  isLocalSingleTimeUnit,\n  isUtcSingleTimeUnit,\n  normalizeTimeUnit,\n  TimeUnit\n} from './timeunit';\nimport {AggregatedFieldDef, WindowFieldDef} from './transform';\nimport {getFullName, QUANTITATIVE, StandardType, Type} from './type';\nimport {contains, flatAccessWithDatum, getFirstDefined, internalField, replacePathInField, titlecase} from './util';\n\nexport type Value = number | string | boolean | null;\n\n/**\n * Definition object for a constant value of an encoding channel.\n */\nexport interface ValueDef<V extends Value = Value> {\n  /**\n   * A constant value in visual domain (e.g., `\"red\"` / \"#0099ff\" for color, values between `0` to `1` for opacity).\n   */\n  value: V;\n}\n\n/**\n * Generic type for conditional channelDef.\n * F defines the underlying FieldDef type.\n */\n\nexport type ChannelDefWithCondition<F extends FieldDef<any>, V extends Value> =\n  | FieldDefWithCondition<F, V>\n  | ValueDefWithCondition<F, V>;\n\n/**\n * A ValueDef with Condition<ValueDef | FieldDef> where either the condition or the value are optional.\n * {\n *   condition: {field: ...} | {value: ...},\n *   value: ...,\n * }\n */\n\n/**\n * @minProperties 1\n */\nexport type ValueDefWithCondition<F extends FieldDef<any>, V extends Value = Value> = Partial<ValueDef<V>> & {\n  /**\n   * A field definition or one or more value definition(s) with a selection predicate.\n   */\n  condition?: Conditional<F> | Conditional<ValueDef<V>> | Conditional<ValueDef<V>>[];\n};\n\nexport type StringValueDefWithCondition<F extends Field, T extends Type = StandardType> = ValueDefWithCondition<\n  MarkPropFieldDef<F, T>,\n  string | null\n>;\n\nexport type NumericValueDefWithCondition<F extends Field> = ValueDefWithCondition<\n  MarkPropFieldDef<F, StandardType>,\n  number\n>;\n\nexport type TypeForShape = 'nominal' | 'ordinal' | 'geojson';\n\nexport type ShapeValueDefWithCondition<F extends Field> = StringValueDefWithCondition<F, TypeForShape>;\n\nexport type TextValueDefWithCondition<F extends Field> = ValueDefWithCondition<TextFieldDef<F>, Value>;\n\nexport type Conditional<CD extends FieldDef<any> | ValueDef<any>> = ConditionalPredicate<CD> | ConditionalSelection<CD>;\n\nexport type ConditionalPredicate<CD extends FieldDef<any> | ValueDef<any>> = {\n  /**\n   * Predicate for triggering the condition\n   */\n  test: LogicalOperand<Predicate>;\n} & CD;\n\nexport type ConditionalSelection<CD extends FieldDef<any> | ValueDef<any>> = {\n  /**\n   * A [selection name](https://vega.github.io/vega-lite/docs/selection.html), or a series of [composed selections](https://vega.github.io/vega-lite/docs/selection.html#compose).\n   */\n  selection: LogicalOperand<string>;\n} & CD;\n\nexport function isConditionalSelection<T>(c: Conditional<T>): c is ConditionalSelection<T> {\n  return c['selection'];\n}\n\nexport interface ConditionValueDefMixins<V extends Value = Value> {\n  /**\n   * One or more value definition(s) with [a selection or a test predicate](https://vega.github.io/vega-lite/docs/condition.html).\n   *\n   * __Note:__ A field definition's `condition` property can only contain [conditional value definitions](https://vega.github.io/vega-lite/docs/condition.html#value)\n   * since Vega-Lite only allows at most one encoded field per encoding channel.\n   */\n  condition?: Conditional<ValueDef<V>> | Conditional<ValueDef<V>>[];\n}\n\n/**\n * A FieldDef with Condition<ValueDef>\n * {\n *   condition: {value: ...},\n *   field: ...,\n *   ...\n * }\n */\n\nexport type FieldDefWithCondition<F extends FieldDef<any>, V extends Value = Value> = F & ConditionValueDefMixins<V>;\n\nexport type StringFieldDefWithCondition<F extends Field, T extends Type = StandardType> = FieldDefWithCondition<\n  MarkPropFieldDef<F, T>,\n  string | null\n>;\n\nexport type NumericFieldDefWithCondition<F extends Field> = FieldDefWithCondition<\n  MarkPropFieldDef<F, StandardType>,\n  number\n>;\n\nexport type ShapeFieldDefWithCondition<F extends Field> = StringFieldDefWithCondition<F, TypeForShape>;\n\nexport type TextFieldDefWithCondition<F extends Field> = FieldDefWithCondition<TextFieldDef<F>, Value>;\n\n/**\n * A ValueDef with optional Condition<ValueDef | FieldDef>\n * {\n *   condition: {field: ...} | {value: ...},\n *   value: ...,\n * }\n */\n\n/**\n * Reference to a repeated value.\n */\nexport interface RepeatRef {\n  repeat: 'row' | 'column' | 'repeat';\n}\n\nexport type FieldName = string;\nexport type Field = FieldName | RepeatRef;\n\nexport function isRepeatRef(field: Field): field is RepeatRef {\n  return field && !isString(field) && 'repeat' in field;\n}\n\n/** @hide */\nexport type HiddenCompositeAggregate = CompositeAggregate;\n\nexport interface FieldDefBase<F, B extends Bin = Bin> {\n  /**\n   * __Required.__ A string defining the name of the field from which to pull a data value\n   * or an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n   *\n   * __See also:__ [`field`](https://vega.github.io/vega-lite/docs/field.html) documentation.\n   *\n   * __Notes:__\n   * 1)  Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `\"field\": \"foo.bar\"` and `\"field\": \"foo['bar']\"`).\n   * If field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `\"a\\\\.b\"` and `\"a\\\\[0\\\\]\"`).\n   * See more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n   * 2) `field` is not required if `aggregate` is `count`.\n   */\n  field?: F;\n\n  // function\n\n  /**\n   * Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\n   * or [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n   *\n   * __Default value:__ `undefined` (None)\n   *\n   * __See also:__ [`timeUnit`](https://vega.github.io/vega-lite/docs/timeunit.html) documentation.\n   */\n  timeUnit?: TimeUnit;\n\n  /**\n   * Aggregation function for the field\n   * (e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n   *\n   * __Default value:__ `undefined` (None)\n   *\n   * __See also:__ [`aggregate`](https://vega.github.io/vega-lite/docs/aggregate.html) documentation.\n   */\n  aggregate?: Aggregate | HiddenCompositeAggregate;\n\n  /**\n   * A flag for binning a `quantitative` field, [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params), or indicating that the data for `x` or `y` channel are binned before they are imported into Vega-Lite (`\"binned\"`).\n   *\n   * - If `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n   *\n   * - If `\"binned\"`, this indicates that the data for the `x` (or `y`) channel are already binned. You can map the bin-start field to `x` (or `y`) and the bin-end field to `x2` (or `y2`). The scale and axis will be formatted similar to binning in Vega-lite.  To adjust the axis ticks based on the bin step, you can also set the axis's [`tickMinStep`](https://vega.github.io/vega-lite/docs/axis.html#ticks) property.\n   *\n   * __Default value:__ `false`\n   *\n   * __See also:__ [`bin`](https://vega.github.io/vega-lite/docs/bin.html) documentation.\n   */\n  bin?: B;\n}\n\nexport function toFieldDefBase(fieldDef: TypedFieldDef<string>): FieldDefBase<string> {\n  const {field, timeUnit, bin, aggregate} = fieldDef;\n  return {\n    ...(timeUnit ? {timeUnit} : {}),\n    ...(bin ? {bin} : {}),\n    ...(aggregate ? {aggregate} : {}),\n    field\n  };\n}\n\nexport interface TypeMixins<T extends Type> {\n  /**\n   * The encoded field's type of measurement (`\"quantitative\"`, `\"temporal\"`, `\"ordinal\"`, or `\"nominal\"`).\n   * It can also be a `\"geojson\"` type for encoding ['geoshape'](https://vega.github.io/vega-lite/docs/geoshape.html).\n   *\n   *\n   * __Note:__\n   *\n   * - Data values for a temporal field can be either a date-time string (e.g., `\"2015-03-07 12:32:17\"`, `\"17:01\"`, `\"2015-03-16\"`. `\"2015\"`) or a timestamp number (e.g., `1552199579097`).\n   * - Data `type` describes the semantics of the data rather than the primitive data types (`number`, `string`, etc.). The same primitive data type can have different types of measurement. For example, numeric data can represent quantitative, ordinal, or nominal data.\n   * - When using with [`bin`](https://vega.github.io/vega-lite/docs/bin.html), the `type` property can be either `\"quantitative\"` (for using a linear bin scale) or [`\"ordinal\"` (for using an ordinal bin scale)](https://vega.github.io/vega-lite/docs/type.html#cast-bin).\n   * - When using with [`timeUnit`](https://vega.github.io/vega-lite/docs/timeunit.html), the `type` property can be either `\"temporal\"` (for using a temporal scale) or [`\"ordinal\"` (for using an ordinal scale)](https://vega.github.io/vega-lite/docs/type.html#cast-bin).\n   * - When using with [`aggregate`](https://vega.github.io/vega-lite/docs/aggregate.html), the `type` property refers to the post-aggregation data type. For example, we can calculate count `distinct` of a categorical field `\"cat\"` using `{\"aggregate\": \"distinct\", \"field\": \"cat\", \"type\": \"quantitative\"}`. The `\"type\"` of the aggregate output is `\"quantitative\"`.\n   * - Secondary channels (e.g., `x2`, `y2`, `xError`, `yError`) do not have `type` as they have exactly the same type as their primary channels (e.g., `x`, `y`).\n   *\n   * __See also:__ [`type`](https://vega.github.io/vega-lite/docs/type.html) documentation.\n   */\n  type: T;\n}\n\n/**\n *  Definition object for a data field, its type and transformation of an encoding channel.\n */\nexport type TypedFieldDef<\n  F extends Field,\n  T extends Type = Type,\n  B extends Bin = boolean | BinParams | 'binned' | null // This is equivalent to Bin but we use the full form so the docs has detailed types\n> = FieldDefBase<F, B> & TitleMixins & TypeMixins<T>;\n\nexport interface SortableFieldDef<\n  F extends Field,\n  T extends Type = StandardType,\n  B extends Bin = boolean | BinParams | null\n> extends TypedFieldDef<F, T, B> {\n  /**\n   * Sort order for the encoded field.\n   *\n   * For continuous fields (quantitative or temporal), `sort` can be either `\"ascending\"` or `\"descending\"`.\n   *\n   * For discrete fields, `sort` can be one of the following:\n   * - `\"ascending\"` or `\"descending\"` -- for sorting by the values' natural order in Javascript.\n   * - [A sort-by-encoding definition](https://vega.github.io/vega-lite/docs/sort.html#sort-by-encoding) for sorting by another encoding channel. (This type of sort definition is not available for `row` and `column` channels.)\n   * - [A sort field definition](https://vega.github.io/vega-lite/docs/sort.html#sort-field) for sorting by another field.\n   * - [An array specifying the field values in preferred order](https://vega.github.io/vega-lite/docs/sort.html#sort-array). In this case, the sort order will obey the values in the array, followed by any unspecified values in their original order.  For discrete time field, values in the sort array can be [date-time definition objects](types#datetime). In addition, for time units `\"month\"` and `\"day\"`, the values can be the month or day names (case insensitive) or their 3-letter initials (e.g., `\"Mon\"`, `\"Tue\"`).\n   * - `null` indicating no sort.\n   *\n   * __Default value:__ `\"ascending\"`\n   *\n   * __Note:__ `null` is not supported for `row` and `column`.\n   *\n   * __See also:__ [`sort`](https://vega.github.io/vega-lite/docs/sort.html) documentation.\n   */\n  sort?: Sort<F>;\n}\n\nexport function isSortableFieldDef<F extends Field>(fieldDef: FieldDef<F>): fieldDef is SortableFieldDef<F> {\n  return isTypedFieldDef(fieldDef) && !!fieldDef['sort'];\n}\n\nexport interface ScaleFieldDef<\n  F extends Field,\n  T extends Type = StandardType,\n  B extends Bin = boolean | BinParams | null\n> extends SortableFieldDef<F, T, B> {\n  /**\n   * An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n   *\n   * If `null`, the scale will be [disabled and the data value will be directly encoded](https://vega.github.io/vega-lite/docs/scale.html#disable).\n   *\n   * __Default value:__ If undefined, default [scale properties](https://vega.github.io/vega-lite/docs/scale.html) are applied.\n   *\n   * __See also:__ [`scale`](https://vega.github.io/vega-lite/docs/scale.html) documentation.\n   */\n  scale?: Scale | null;\n}\n\n/**\n * A field definition of a secondary channel that shares a scale with another primary channel.  For example, `x2`, `xError` and `xError2` share the same scale with `x`.\n */\nexport type SecondaryFieldDef<F extends Field> = FieldDefBase<F, null> & TitleMixins; // x2/y2 shouldn't have bin, but we keep bin property for simplicity of the codebase.\n\n/**\n * Field Def without scale (and without bin: \"binned\" support).\n */\nexport type FieldDefWithoutScale<F extends Field, T extends Type = StandardType> = TypedFieldDef<F, T>;\n\nexport type LatLongFieldDef<F extends Field> = FieldDefBase<F, null> &\n  TitleMixins &\n  Partial<TypeMixins<'quantitative'>>; // Lat long shouldn't have bin, but we keep bin property for simplicity of the codebase.\n\nexport interface PositionFieldDef<F extends Field>\n  extends ScaleFieldDef<\n    F,\n    StandardType,\n    boolean | BinParams | 'binned' | null // This is equivalent to Bin but we use the full form so the docs has detailed types\n  > {\n  /**\n   * An object defining properties of axis's gridlines, ticks and labels.\n   * If `null`, the axis for the encoding channel will be removed.\n   *\n   * __Default value:__ If undefined, default [axis properties](https://vega.github.io/vega-lite/docs/axis.html) are applied.\n   *\n   * __See also:__ [`axis`](https://vega.github.io/vega-lite/docs/axis.html) documentation.\n   */\n  axis?: Axis | null;\n\n  /**\n   * Type of stacking offset if the field should be stacked.\n   * `stack` is only applicable for `x` and `y` channels with continuous domains.\n   * For example, `stack` of `y` can be used to customize stacking for a vertical bar chart.\n   *\n   * `stack` can be one of the following values:\n   * - `\"zero\"` or `true`: stacking with baseline offset at zero value of the scale (for creating typical stacked [bar](https://vega.github.io/vega-lite/docs/stack.html#bar) and [area](https://vega.github.io/vega-lite/docs/stack.html#area) chart).\n   * - `\"normalize\"` - stacking with normalized domain (for creating [normalized stacked bar and area charts](https://vega.github.io/vega-lite/docs/stack.html#normalized). <br/>\n   * -`\"center\"` - stacking with center baseline (for [streamgraph](https://vega.github.io/vega-lite/docs/stack.html#streamgraph)).\n   * - `null` or `false` - No-stacking. This will produce layered [bar](https://vega.github.io/vega-lite/docs/stack.html#layered-bar-chart) and area chart.\n   *\n   * __Default value:__ `zero` for plots with all of the following conditions are true:\n   * (1) the mark is `bar` or `area`;\n   * (2) the stacked measure channel (x or y) has a linear scale;\n   * (3) At least one of non-position channels mapped to an unaggregated field that is different from x and y.  Otherwise, `null` by default.\n   *\n   * __See also:__ [`stack`](https://vega.github.io/vega-lite/docs/stack.html) documentation.\n   */\n  stack?: StackOffset | null | boolean;\n\n  /**\n   * An object defining the properties of the Impute Operation to be applied.\n   * The field value of the other positional channel is taken as `key` of the `Impute` Operation.\n   * The field of the `color` channel if specified is used as `groupby` of the `Impute` Operation.\n   *\n   * __See also:__ [`impute`](https://vega.github.io/vega-lite/docs/impute.html) documentation.\n   */\n  impute?: ImputeParams;\n}\n\n/**\n * Field definition of a mark property, which can contain a legend.\n */\nexport type MarkPropFieldDef<F extends Field, T extends Type = Type> = ScaleFieldDef<\n  F,\n  T,\n  boolean | BinParams | null\n> & {\n  /**\n   * An object defining properties of the legend.\n   * If `null`, the legend for the encoding channel will be removed.\n   *\n   * __Default value:__ If undefined, default [legend properties](https://vega.github.io/vega-lite/docs/legend.html) are applied.\n   *\n   * __See also:__ [`legend`](https://vega.github.io/vega-lite/docs/legend.html) documentation.\n   */\n  legend?: Legend | null;\n};\n\n// Detail\n\n// Order Path have no scale\n\nexport interface OrderFieldDef<F extends Field> extends FieldDefWithoutScale<F> {\n  /**\n   * The sort order. One of `\"ascending\"` (default) or `\"descending\"`.\n   */\n  sort?: SortOrder;\n}\n\nexport interface TextFieldDef<F extends Field> extends FieldDefWithoutScale<F, StandardType>, FormatMixins {}\n\nexport type FieldDef<F extends Field> = SecondaryFieldDef<F> | TypedFieldDef<F>;\nexport type ChannelDef<FD extends FieldDef<any> = FieldDef<string>, V extends Value = Value> = ChannelDefWithCondition<\n  FD,\n  V\n>;\n\nexport function isConditionalDef<F extends Field, V extends Value>(\n  channelDef: ChannelDef<FieldDef<F>, V>\n): channelDef is ChannelDefWithCondition<FieldDef<F>, V> {\n  return !!channelDef && !!channelDef.condition;\n}\n\n/**\n * Return if a channelDef is a ConditionalValueDef with ConditionFieldDef\n */\n\nexport function hasConditionalFieldDef<F extends Field, V extends Value>(\n  channelDef: ChannelDef<FieldDef<F>, V>\n): channelDef is Partial<ValueDef<V>> & {condition: Conditional<TypedFieldDef<F>>} {\n  return !!channelDef && !!channelDef.condition && !isArray(channelDef.condition) && isFieldDef(channelDef.condition);\n}\n\nexport function hasConditionalValueDef<F extends Field, V extends Value>(\n  channelDef: ChannelDef<FieldDef<F>, V>\n): channelDef is ValueDef<V> & {condition: Conditional<ValueDef<V>> | Conditional<ValueDef<V>>[]} {\n  return !!channelDef && !!channelDef.condition && (isArray(channelDef.condition) || isValueDef(channelDef.condition));\n}\n\nexport function isFieldDef<F extends Field>(\n  channelDef: ChannelDef<FieldDef<F>>\n): channelDef is\n  | TypedFieldDef<F>\n  | SecondaryFieldDef<F>\n  | PositionFieldDef<F>\n  | ScaleFieldDef<F>\n  | MarkPropFieldDef<F>\n  | OrderFieldDef<F>\n  | TextFieldDef<F> {\n  return !!channelDef && (!!channelDef['field'] || channelDef['aggregate'] === 'count');\n}\n\nexport function isTypedFieldDef<F extends Field>(channelDef: ChannelDef<FieldDef<F>>): channelDef is TypedFieldDef<F> {\n  return !!channelDef && ((!!channelDef['field'] && !!channelDef['type']) || channelDef['aggregate'] === 'count');\n}\n\nexport function isStringFieldDef(channelDef: ChannelDef<FieldDef<Field>>): channelDef is TypedFieldDef<string> {\n  return isFieldDef(channelDef) && isString(channelDef.field);\n}\n\nexport function isValueDef<F extends Field, V extends Value>(\n  channelDef: ChannelDef<FieldDef<F>, V>\n): channelDef is ValueDef<V> {\n  return channelDef && 'value' in channelDef && channelDef['value'] !== undefined;\n}\n\nexport function isScaleFieldDef<F extends Field>(channelDef: ChannelDef<FieldDef<F>>): channelDef is ScaleFieldDef<F> {\n  return !!channelDef && (!!channelDef['scale'] || !!channelDef['sort']);\n}\n\nexport function isPositionFieldDef<F extends Field>(\n  channelDef: ChannelDef<FieldDef<F>>\n): channelDef is PositionFieldDef<F> {\n  return !!channelDef && (!!channelDef['axis'] || !!channelDef['stack'] || !!channelDef['impute']);\n}\n\nexport function isMarkPropFieldDef<F extends Field>(\n  channelDef: ChannelDef<FieldDef<F>>\n): channelDef is MarkPropFieldDef<F> {\n  return !!channelDef && !!channelDef['legend'];\n}\n\nexport function isTextFieldDef<F extends Field>(channelDef: ChannelDef<FieldDef<F>>): channelDef is TextFieldDef<F> {\n  return !!channelDef && !!channelDef['format'];\n}\n\nexport interface FieldRefOption {\n  /** Exclude bin, aggregate, timeUnit */\n  nofn?: boolean;\n  /** Wrap the field with datum, parent, or datum.datum (e.g., datum['...'] for Vega Expression */\n  expr?: 'datum' | 'parent' | 'datum.datum';\n  /** Prepend fn with custom function prefix */\n  prefix?: string;\n  /** Append suffix to the field ref for bin (default='start') */\n  binSuffix?: 'end' | 'range' | 'mid';\n  /** Append suffix to the field ref (general) */\n  suffix?: string;\n  /**\n   * Use the field name for `as` in a transform.\n   * We will not escape nested accesses because Vega transform outputs cannot be nested.\n   */\n  forAs?: boolean;\n}\n\nfunction isOpFieldDef(\n  fieldDef: FieldDefBase<string> | WindowFieldDef | AggregatedFieldDef\n): fieldDef is WindowFieldDef | AggregatedFieldDef {\n  return !!fieldDef['op'];\n}\n\n/**\n * Get a Vega field reference from a Vega-Lite field def.\n */\nexport function vgField(\n  fieldDef: FieldDefBase<string> | WindowFieldDef | AggregatedFieldDef,\n  opt: FieldRefOption = {}\n): string {\n  let field = fieldDef.field;\n  const prefix = opt.prefix;\n  let suffix = opt.suffix;\n\n  let argAccessor = ''; // for accessing argmin/argmax field at the end without getting escaped\n\n  if (isCount(fieldDef)) {\n    field = internalField('count');\n  } else {\n    let fn: string;\n\n    if (!opt.nofn) {\n      if (isOpFieldDef(fieldDef)) {\n        fn = fieldDef.op;\n      } else {\n        const {bin, aggregate, timeUnit} = fieldDef;\n        if (isBinning(bin)) {\n          fn = binToString(bin);\n          suffix = (opt.binSuffix || '') + (opt.suffix || '');\n        } else if (aggregate) {\n          if (isArgmaxDef(aggregate)) {\n            argAccessor = `.${field}`;\n            field = `argmax_${aggregate.argmax}`;\n          } else if (isArgminDef(aggregate)) {\n            argAccessor = `.${field}`;\n            field = `argmin_${aggregate.argmin}`;\n          } else {\n            fn = String(aggregate);\n          }\n        } else if (timeUnit) {\n          fn = String(timeUnit);\n        }\n      }\n    }\n\n    if (fn) {\n      field = field ? `${fn}_${field}` : fn;\n    }\n  }\n\n  if (suffix) {\n    field = `${field}_${suffix}`;\n  }\n\n  if (prefix) {\n    field = `${prefix}_${field}`;\n  }\n\n  if (opt.forAs) {\n    return field;\n  } else if (opt.expr) {\n    // Expression to access flattened field. No need to escape dots.\n    return flatAccessWithDatum(field, opt.expr) + argAccessor;\n  } else {\n    // We flattened all fields so paths should have become dot.\n    return replacePathInField(field) + argAccessor;\n  }\n}\n\nexport function isDiscrete(fieldDef: TypedFieldDef<Field>) {\n  switch (fieldDef.type) {\n    case 'nominal':\n    case 'ordinal':\n    case 'geojson':\n      return true;\n    case 'quantitative':\n      return !!fieldDef.bin;\n    case 'temporal':\n      return false;\n  }\n  throw new Error(log.message.invalidFieldType(fieldDef.type));\n}\n\nexport function isContinuous(fieldDef: TypedFieldDef<Field>) {\n  return !isDiscrete(fieldDef);\n}\n\nexport function isCount(fieldDef: FieldDefBase<Field>) {\n  return fieldDef.aggregate === 'count';\n}\n\nexport type FieldTitleFormatter = (fieldDef: FieldDefBase<string>, config: Config) => string;\n\nexport function verbalTitleFormatter(fieldDef: FieldDefBase<string>, config: Config) {\n  const {field, bin, timeUnit, aggregate} = fieldDef;\n  if (aggregate === 'count') {\n    return config.countTitle;\n  } else if (isBinning(bin)) {\n    return `${field} (binned)`;\n  } else if (timeUnit) {\n    const units = getTimeUnitParts(timeUnit).join('-');\n    return `${field} (${units})`;\n  } else if (aggregate) {\n    if (isArgmaxDef(aggregate)) {\n      return `${field} for max ${aggregate.argmax}`;\n    } else if (isArgminDef(aggregate)) {\n      return `${field} for min ${aggregate.argmin}`;\n    } else {\n      return `${titlecase(aggregate)} of ${field}`;\n    }\n  }\n  return field;\n}\n\nexport function functionalTitleFormatter(fieldDef: FieldDefBase<string>) {\n  const {aggregate, bin, timeUnit, field} = fieldDef;\n  if (isArgmaxDef(aggregate)) {\n    return `${field} for argmax(${aggregate.argmax})`;\n  } else if (isArgminDef(aggregate)) {\n    return `${field} for argmin(${aggregate.argmin})`;\n  }\n\n  const fn = aggregate || timeUnit || (isBinning(bin) && 'bin');\n  if (fn) {\n    return fn.toUpperCase() + '(' + field + ')';\n  } else {\n    return field;\n  }\n}\n\nexport const defaultTitleFormatter: FieldTitleFormatter = (fieldDef: FieldDefBase<string>, config: Config) => {\n  switch (config.fieldTitle) {\n    case 'plain':\n      return fieldDef.field;\n    case 'functional':\n      return functionalTitleFormatter(fieldDef);\n    default:\n      return verbalTitleFormatter(fieldDef, config);\n  }\n};\n\nlet titleFormatter = defaultTitleFormatter;\n\nexport function setTitleFormatter(formatter: FieldTitleFormatter) {\n  titleFormatter = formatter;\n}\n\nexport function resetTitleFormatter() {\n  setTitleFormatter(defaultTitleFormatter);\n}\n\nexport function title(\n  fieldDef: TypedFieldDef<string> | SecondaryFieldDef<string>,\n  config: Config,\n  {allowDisabling, includeDefault = true}: {allowDisabling: boolean; includeDefault?: boolean}\n) {\n  const guide = getGuide(fieldDef) || {};\n  const guideTitle = guide.title;\n  const def = includeDefault ? defaultTitle(fieldDef, config) : undefined;\n\n  if (allowDisabling) {\n    return getFirstDefined(guideTitle, fieldDef.title, def);\n  } else {\n    return guideTitle || fieldDef.title || def;\n  }\n}\n\nexport function getGuide(fieldDef: TypedFieldDef<string> | SecondaryFieldDef<string>): Guide {\n  if (isPositionFieldDef(fieldDef) && fieldDef.axis) {\n    return fieldDef.axis;\n  } else if (isMarkPropFieldDef(fieldDef) && fieldDef.legend) {\n    return fieldDef.legend;\n  } else if (isFacetFieldDef(fieldDef) && fieldDef.header) {\n    return fieldDef.header;\n  }\n  return undefined;\n}\n\nexport function defaultTitle(fieldDef: FieldDefBase<string>, config: Config) {\n  return titleFormatter(fieldDef, config);\n}\n\nexport function format(fieldDef: TypedFieldDef<string>) {\n  if (isTextFieldDef(fieldDef) && fieldDef.format) {\n    return fieldDef.format;\n  } else {\n    const guide = getGuide(fieldDef) || {};\n    return guide.format;\n  }\n}\n\nexport function defaultType(fieldDef: TypedFieldDef<Field>, channel: Channel): Type {\n  if (fieldDef.timeUnit) {\n    return 'temporal';\n  }\n  if (isBinning(fieldDef.bin)) {\n    return 'quantitative';\n  }\n  switch (rangeType(channel)) {\n    case 'continuous':\n      return 'quantitative';\n    case 'discrete':\n      return 'nominal';\n    case 'flexible': // color\n      return 'nominal';\n    default:\n      return 'quantitative';\n  }\n}\n\n/**\n * Returns the fieldDef -- either from the outer channelDef or from the condition of channelDef.\n * @param channelDef\n */\n\nexport function getFieldDef<F extends Field>(channelDef: ChannelDef<FieldDef<F>>): FieldDef<F> {\n  if (isFieldDef(channelDef)) {\n    return channelDef;\n  } else if (hasConditionalFieldDef(channelDef)) {\n    return channelDef.condition;\n  }\n  return undefined;\n}\n\nexport function getTypedFieldDef<F extends Field>(channelDef: ChannelDef<TypedFieldDef<F>>): TypedFieldDef<F> {\n  if (isFieldDef(channelDef)) {\n    return channelDef;\n  } else if (hasConditionalFieldDef(channelDef)) {\n    return channelDef.condition;\n  }\n  return undefined;\n}\n\n/**\n * Convert type to full, lowercase type, or augment the fieldDef with a default type if missing.\n */\nexport function normalize(channelDef: ChannelDef, channel: Channel): ChannelDef<any> {\n  if (isString(channelDef) || isNumber(channelDef) || isBoolean(channelDef)) {\n    const primitiveType = isString(channelDef) ? 'string' : isNumber(channelDef) ? 'number' : 'boolean';\n    log.warn(log.message.primitiveChannelDef(channel, primitiveType, channelDef));\n    return {value: channelDef};\n  }\n\n  // If a fieldDef contains a field, we need type.\n  if (isFieldDef(channelDef)) {\n    return normalizeFieldDef(channelDef, channel);\n  } else if (hasConditionalFieldDef(channelDef)) {\n    return {\n      ...channelDef,\n      // Need to cast as normalizeFieldDef normally return FieldDef, but here we know that it is definitely Condition<FieldDef>\n      condition: normalizeFieldDef(channelDef.condition, channel) as Conditional<TypedFieldDef<string>>\n    };\n  }\n  return channelDef;\n}\nexport function normalizeFieldDef(fieldDef: FieldDef<string>, channel: Channel) {\n  const {aggregate, timeUnit, bin} = fieldDef;\n  // Drop invalid aggregate\n  if (aggregate && !isAggregateOp(aggregate) && !isArgmaxDef(aggregate) && !isArgminDef(aggregate)) {\n    const {aggregate: _, ...fieldDefWithoutAggregate} = fieldDef;\n    log.warn(log.message.invalidAggregate(aggregate));\n    fieldDef = fieldDefWithoutAggregate;\n  }\n\n  // Normalize Time Unit\n  if (timeUnit) {\n    fieldDef = {\n      ...fieldDef,\n      timeUnit: normalizeTimeUnit(timeUnit)\n    };\n  }\n\n  // Normalize bin\n  if (isBinning(bin)) {\n    fieldDef = {\n      ...fieldDef,\n      bin: normalizeBin(bin, channel)\n    } as FieldDef<string>;\n  }\n\n  if (isBinned(bin) && !contains(POSITION_SCALE_CHANNELS, channel)) {\n    log.warn(`Channel ${channel} should not be used with \"binned\" bin`);\n  }\n\n  // Normalize Type\n  if (isTypedFieldDef(fieldDef)) {\n    const {type} = fieldDef;\n    const fullType = getFullName(type);\n    if (type !== fullType) {\n      // convert short type to full type\n      fieldDef = {\n        ...fieldDef,\n        type: fullType\n      };\n    }\n    if (type !== 'quantitative') {\n      if (isCountingAggregateOp(aggregate)) {\n        log.warn(log.message.invalidFieldTypeForCountAggregate(type, aggregate));\n        fieldDef = {\n          ...fieldDef,\n          type: 'quantitative'\n        };\n      }\n    }\n  } else if (!isSecondaryRangeChannel(channel)) {\n    // If type is empty / invalid, then augment with default type\n    const newType = defaultType(fieldDef as TypedFieldDef<any>, channel);\n    log.warn(log.message.missingFieldType(channel, newType));\n\n    fieldDef = {\n      ...fieldDef,\n      type: newType\n    };\n  }\n\n  if (isTypedFieldDef(fieldDef)) {\n    const {compatible, warning} = channelCompatibility(fieldDef, channel);\n    if (!compatible) {\n      log.warn(warning);\n    }\n  }\n  return {\n    ...fieldDef,\n    ...(fieldDef.field !== undefined ? {field: `${fieldDef.field}`} : {})\n  };\n}\n\nexport function normalizeBin(bin: BinParams | boolean | 'binned', channel: Channel) {\n  if (isBoolean(bin)) {\n    return {maxbins: autoMaxBins(channel)};\n  } else if (bin === 'binned') {\n    return {\n      binned: true\n    };\n  } else if (!bin.maxbins && !bin.step) {\n    return {...bin, maxbins: autoMaxBins(channel)};\n  } else {\n    return bin;\n  }\n}\n\nconst COMPATIBLE = {compatible: true};\nexport function channelCompatibility(\n  fieldDef: TypedFieldDef<Field>,\n  channel: Channel\n): {compatible: boolean; warning?: string} {\n  const type = fieldDef.type;\n\n  if (type === 'geojson' && channel !== 'shape') {\n    return {\n      compatible: false,\n      warning: `Channel ${channel} should not be used with a geojson data.`\n    };\n  }\n\n  switch (channel) {\n    case 'row':\n    case 'column':\n    case 'facet':\n      if (isContinuous(fieldDef)) {\n        return {\n          compatible: false,\n          warning: log.message.facetChannelShouldBeDiscrete(channel)\n        };\n      }\n      return COMPATIBLE;\n\n    case 'x':\n    case 'y':\n    case 'color':\n    case 'fill':\n    case 'stroke':\n    case 'text':\n    case 'detail':\n    case 'key':\n    case 'tooltip':\n    case 'href':\n      return COMPATIBLE;\n\n    case 'longitude':\n    case 'longitude2':\n    case 'latitude':\n    case 'latitude2':\n      if (type !== QUANTITATIVE) {\n        return {\n          compatible: false,\n          warning: `Channel ${channel} should be used with a quantitative field only, not ${fieldDef.type} field.`\n        };\n      }\n      return COMPATIBLE;\n\n    case 'opacity':\n    case 'fillOpacity':\n    case 'strokeOpacity':\n    case 'strokeWidth':\n    case 'size':\n    case 'x2':\n    case 'y2':\n      if (type === 'nominal' && !fieldDef['sort']) {\n        return {\n          compatible: false,\n          warning: `Channel ${channel} should not be used with an unsorted discrete field.`\n        };\n      }\n      return COMPATIBLE;\n\n    case 'shape':\n      if (!contains(['ordinal', 'nominal', 'geojson'], fieldDef.type)) {\n        return {\n          compatible: false,\n          warning: 'Shape channel should be used with only either discrete or geojson data.'\n        };\n      }\n      return COMPATIBLE;\n\n    case 'order':\n      if (fieldDef.type === 'nominal' && !('sort' in fieldDef)) {\n        return {\n          compatible: false,\n          warning: `Channel order is inappropriate for nominal field, which has no inherent order.`\n        };\n      }\n      return COMPATIBLE;\n  }\n  throw new Error('channelCompatability not implemented for channel ' + channel);\n}\n\n/**\n * Check if the field def uses a time format or does not use any format but is temporal\n * (this does not cover field defs that are temporal but use a number format).\n */\nexport function isTimeFormatFieldDef(fieldDef: TypedFieldDef<string>): boolean {\n  const guide = getGuide(fieldDef);\n  const formatType = (guide && guide.formatType) || (isTextFieldDef(fieldDef) && fieldDef.formatType);\n  return formatType === 'time' || (!formatType && isTimeFieldDef(fieldDef));\n}\n\n/**\n * Check if field def has tye `temporal`. If you want to also cover field defs that use a time format, use `isTimeFormatFieldDef`.\n */\nexport function isTimeFieldDef(fieldDef: TypedFieldDef<any>) {\n  return fieldDef.type === 'temporal' || !!fieldDef.timeUnit;\n}\n\n/**\n * Getting a value associated with a fielddef.\n * Convert the value to Vega expression if applicable (for datetime object, or string if the field def is temporal or has timeUnit)\n */\nexport function valueExpr(\n  v: number | string | boolean | DateTime,\n  {\n    timeUnit,\n    type,\n    time,\n    undefinedIfExprNotRequired\n  }: {\n    timeUnit: TimeUnit;\n    type?: Type;\n    time?: boolean;\n    undefinedIfExprNotRequired?: boolean;\n  }\n): string {\n  let expr;\n  if (isDateTime(v)) {\n    expr = dateTimeExpr(v, true);\n  } else if (isString(v) || isNumber(v)) {\n    if (timeUnit || type === 'temporal') {\n      if (isLocalSingleTimeUnit(timeUnit)) {\n        expr = dateTimeExpr({[timeUnit]: v}, true);\n      } else if (isUtcSingleTimeUnit(timeUnit)) {\n        // FIXME is this really correct?\n        expr = valueExpr(v, {timeUnit: getLocalTimeUnit(timeUnit)});\n      } else {\n        // just pass the string to date function (which will call JS Date.parse())\n        expr = `datetime(${JSON.stringify(v)})`;\n      }\n    }\n  }\n  if (expr) {\n    return time ? `time(${expr})` : expr;\n  }\n  // number or boolean or normal string\n  return undefinedIfExprNotRequired ? undefined : JSON.stringify(v);\n}\n\n/**\n * Standardize value array -- convert each value to Vega expression if applicable\n */\nexport function valueArray(fieldDef: TypedFieldDef<string>, values: (number | string | boolean | DateTime)[]) {\n  const {timeUnit, type} = fieldDef;\n  return values.map(v => {\n    const expr = valueExpr(v, {timeUnit, type, undefinedIfExprNotRequired: true});\n    // return signal for the expression if we need an expression\n    if (expr !== undefined) {\n      return {signal: expr};\n    }\n    // otherwise just return the original value\n    return v;\n  });\n}\n\n/**\n * Checks whether a fieldDef for a particular channel requires a computed bin range.\n */\nexport function binRequiresRange(fieldDef: TypedFieldDef<string>, channel: Channel) {\n  if (!isBinning(fieldDef.bin)) {\n    console.warn('Only use this method with binned field defs');\n    return false;\n  }\n\n  // We need the range only when the user explicitly forces a binned field to be use discrete scale. In this case, bin range is used in axis and legend labels.\n  // We could check whether the axis or legend exists (not disabled) but that seems overkill.\n  return isScaleChannel(channel) && contains(['ordinal', 'nominal'], fieldDef.type);\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpecParser = void 0;\r\nconst spec_1 = require(\"vega-lite/build/src/spec\");\r\nconst data_1 = require(\"vega-lite/build/src/data\");\r\nconst concat_1 = require(\"vega-lite/build/src/spec/concat\");\r\nconst channeldef_1 = require(\"vega-lite/build/src/channeldef\");\r\nconst InlineDatasetNode_1 = require(\"../DataModel/Datasets/InlineDatasetNode\");\r\nconst NamedDataSourceNode_1 = require(\"../DataModel/Datasets/NamedDataSourceNode\");\r\nconst URLDatasetNode_1 = require(\"../DataModel/Datasets/URLDatasetNode\");\r\nconst TranformNode_1 = require(\"../DataModel/Transforms/TranformNode\");\r\nconst CompositionView_1 = require(\"./CompositionView\");\r\nconst ConcatView_1 = require(\"./ConcatView\");\r\nconst FacetView_1 = require(\"./FacetView\");\r\nconst LayerView_1 = require(\"./LayerView\");\r\nconst PlotView_1 = require(\"./PlotView\");\r\nconst RepeatView_1 = require(\"./RepeatView\");\r\nconst SpecUtils_1 = require(\"./SpecUtils\");\r\nconst DataModel_1 = require(\"../DataModel\");\r\nclass SpecParser {\r\n    getEncodingsMapFromPlotSchema(schema) {\r\n        const viewEncodings = new Map();\r\n        // a mark can also be configured using the \"global\" encoding of layered views, in this case the\r\n        // mark's encoding can be empty\r\n        if (schema.encoding === undefined) {\r\n            return viewEncodings;\r\n        }\r\n        const schemaEncodings = Object.keys(schema.encoding);\r\n        schemaEncodings.forEach((encoding) => {\r\n            viewEncodings.set(encoding, schema.encoding[encoding]);\r\n        });\r\n        return viewEncodings;\r\n    }\r\n    setSingleViewProperties(schema, view) {\r\n        view.description = schema.description;\r\n        view.bounds = schema.bounds;\r\n        view.width = schema.width;\r\n        view.height = schema.height;\r\n        view.config = schema.config;\r\n        view.datasets = schema.datasets;\r\n        view.projection = schema.projection;\r\n        if (view instanceof CompositionView_1.CompositionView) {\r\n            view.spacing = schema.spacing;\r\n            view.columns = schema.columns;\r\n        }\r\n    }\r\n    getNonRepeatSubtrees(view) {\r\n        const nonRepeatSubtrees = [];\r\n        view.visualElements.forEach(t => {\r\n            if (!(t instanceof RepeatView_1.RepeatView)) {\r\n                nonRepeatSubtrees.push(t);\r\n                nonRepeatSubtrees.push(...this.getNonRepeatSubtrees(t));\r\n            }\r\n        });\r\n        return nonRepeatSubtrees;\r\n    }\r\n    /**\r\n     * In a repeat spec, the bindings inside the child views can reference the repeated fields\r\n     * instead of fields from the data. In order to render such a view without its parent,\r\n     * modify this binding to the first entries in the repeated fields of the parent\r\n     */\r\n    removeRepeatFromChildViews(view) {\r\n        const nonRepeatSubViews = this.getNonRepeatSubtrees(view);\r\n        nonRepeatSubViews.forEach(childView => {\r\n            const repeatedFields = view.repeat.column.concat(view.repeat.row);\r\n            childView.encodings.forEach((value, key) => {\r\n                if (channeldef_1.isFieldDef(value)) {\r\n                    if (channeldef_1.isRepeatRef(value.field)) {\r\n                        const index = Math.floor(Math.random() * repeatedFields.length);\r\n                        const fieldRef = {\r\n                            field: repeatedFields[index],\r\n                            type: value.type\r\n                        };\r\n                        childView.overwrittenEncodings.set(key, fieldRef);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    getRepeatView(schema) {\r\n        const view = new RepeatView_1.RepeatView([]);\r\n        view.repeat = schema.repeat;\r\n        const childView = this.parse(schema.spec);\r\n        view.visualElements = [childView];\r\n        this.removeRepeatFromChildViews(view);\r\n        return view;\r\n    }\r\n    getFacetView(schema) {\r\n        const view = new FacetView_1.FacetView([]);\r\n        const visualElements = [];\r\n        if (schema.facet !== undefined) {\r\n            view.facet = JSON.parse(JSON.stringify(schema.facet));\r\n            delete schema.facet;\r\n            visualElements.push(this.parse(schema.spec));\r\n        }\r\n        else if (schema.encoding.facet !== undefined) {\r\n            view.isInlineFacetted = true;\r\n            view.facet = JSON.parse(JSON.stringify(schema.encoding.facet));\r\n            delete schema.encoding.facet;\r\n            visualElements.push(this.parse(schema));\r\n        }\r\n        view.visualElements = visualElements;\r\n        return view;\r\n    }\r\n    getLayerView(schema) {\r\n        const view = new LayerView_1.LayerView([]);\r\n        if (schema.encoding !== undefined) {\r\n            const groupEncodings = Object.keys(schema.encoding);\r\n            groupEncodings.forEach((encoding) => {\r\n                view.groupEncodings.set(encoding, schema.encoding[encoding]);\r\n            });\r\n        }\r\n        schema.layer.forEach((layer) => {\r\n            view.visualElements.push(this.parse(layer));\r\n        });\r\n        return view;\r\n    }\r\n    getConcatView(schema) {\r\n        const view = new ConcatView_1.ConcatView([]);\r\n        if (spec_1.isVConcatSpec(schema)) {\r\n            view.isVertical = true;\r\n            view.isWrappable = false;\r\n            schema.vconcat.forEach((layer) => {\r\n                view.visualElements.push(this.parse(layer));\r\n            });\r\n        }\r\n        else if (spec_1.isHConcatSpec(schema)) {\r\n            view.isVertical = false;\r\n            view.isWrappable = false;\r\n            schema.hconcat.forEach((layer) => {\r\n                view.visualElements.push(this.parse(layer));\r\n            });\r\n        }\r\n        else if (concat_1.isConcatSpec(schema)) {\r\n            view.isVertical = false;\r\n            view.isWrappable = true;\r\n            schema.concat.forEach((layer) => {\r\n                view.visualElements.push(this.parse(layer));\r\n            });\r\n        }\r\n        return view;\r\n    }\r\n    getCompositionView(schema) {\r\n        let view = null;\r\n        if (SpecUtils_1.isRepeatSchema(schema)) {\r\n            view = this.getRepeatView(schema);\r\n        }\r\n        else if (SpecUtils_1.isOverlaySchema(schema)) {\r\n            view = this.getLayerView(schema);\r\n        }\r\n        else if (SpecUtils_1.isFacetSchema(schema)) {\r\n            view = this.getFacetView(schema);\r\n        }\r\n        else if (SpecUtils_1.isConcatenateSchema(schema)) {\r\n            view = this.getConcatView(schema);\r\n        }\r\n        const encodings = this.getEncodingsMapFromPlotSchema(schema);\r\n        view.encodings = encodings;\r\n        view.resolve = schema.resolve;\r\n        view.visualElements.forEach(t => t.parent = view);\r\n        view.encodings.forEach((value, key) => {\r\n            view.visualElements.forEach(t => {\r\n                t.overwrittenEncodings.set(key, value);\r\n            });\r\n        });\r\n        return view;\r\n    }\r\n    getPlotView(schema) {\r\n        const plotView = new PlotView_1.PlotView(null);\r\n        plotView.mark = schema.mark;\r\n        const encodings = this.getEncodingsMapFromPlotSchema(schema);\r\n        const properties = SpecUtils_1.getMarkPropertiesAsMap(schema.mark);\r\n        plotView.encodings = encodings;\r\n        plotView.staticMarkProperties = properties;\r\n        return plotView;\r\n    }\r\n    getRootDatasetNode(schema) {\r\n        const data = schema.data;\r\n        if (data === undefined) {\r\n            return null;\r\n        }\r\n        let rootNode = null;\r\n        if (data_1.isUrlData(data)) {\r\n            rootNode = new URLDatasetNode_1.URLDatasetNode();\r\n        }\r\n        else if (data_1.isNamedData(data)) {\r\n            rootNode = new NamedDataSourceNode_1.NamedDataSourceNode();\r\n        }\r\n        else if (data_1.isInlineData(data)) {\r\n            rootNode = new InlineDatasetNode_1.InlineDatasetNode();\r\n        }\r\n        rootNode.setSchema(data);\r\n        return rootNode;\r\n    }\r\n    getLeafTransformNode(schema, rootNode) {\r\n        const transforms = schema.transform;\r\n        let workingNode = rootNode;\r\n        if (transforms === undefined) {\r\n            return rootNode;\r\n        }\r\n        // create linear transformation list from the spec by creating a new transformation node for\r\n        // each entry in the spec and linking it to the existin graph\r\n        if (transforms !== undefined) {\r\n            transforms.forEach(t => {\r\n                const transformNode = new TranformNode_1.TransformNode();\r\n                transformNode.transform = t;\r\n                DataModel_1.transformNames.forEach(transformName => {\r\n                    if (transformName in t) {\r\n                        transformNode.type = transformName;\r\n                    }\r\n                });\r\n                transformNode.parent = workingNode;\r\n                workingNode.children.push(transformNode);\r\n                workingNode = transformNode;\r\n            });\r\n        }\r\n        return workingNode;\r\n    }\r\n    parseDataTransformation(schema) {\r\n        const rootDataset = this.getRootDatasetNode(schema);\r\n        if (rootDataset === null) {\r\n            return rootDataset;\r\n        }\r\n        else {\r\n            return this.getLeafTransformNode(schema, rootDataset);\r\n        }\r\n    }\r\n    parse(schema) {\r\n        let view = null;\r\n        if (SpecUtils_1.isCompositionSchema(schema)) {\r\n            view = this.getCompositionView(schema);\r\n        }\r\n        else if (SpecUtils_1.isPlotSchema(schema)) {\r\n            view = this.getPlotView(schema);\r\n        }\r\n        this.setSingleViewProperties(schema, view);\r\n        const dataTransformation = this.parseDataTransformation(schema);\r\n        view.dataTransformationNode = dataTransformation;\r\n        const datasets = SpecUtils_1.getJoinedDatasetsOfChildNodes(view);\r\n        if (view instanceof PlotView_1.PlotView) {\r\n            view.selection = schema.selection;\r\n        }\r\n        return view;\r\n    }\r\n}\r\nexports.SpecParser = SpecParser;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.layouts = exports.PLOT_TYPES = exports.COMPOSITION_TYPES = void 0;\r\nexports.COMPOSITION_TYPES = ['repeat', 'overlay', 'facet', 'concatenate'];\r\nexports.PLOT_TYPES = ['node-link', 'bubble chart', 'timeline', 'radius',\r\n    'angular', 'polar coordinates', 'cartesian', 'histogram', 'parallel plot', 'star plot'];\r\nexports.layouts = exports.PLOT_TYPES.concat(exports.COMPOSITION_TYPES);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MARK_TYPES = void 0;\r\nexports.MARK_TYPES = ['area', 'bar', 'circle', 'geoshape', 'line', 'point', 'rect', 'rule', 'square', 'text', 'tick', 'trail'];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar View_1 = require(\"./View\");\r\nObject.defineProperty(exports, \"View\", { enumerable: true, get: function () { return View_1.View; } });\r\nvar PlotView_1 = require(\"./PlotView\");\r\nObject.defineProperty(exports, \"PlotView\", { enumerable: true, get: function () { return PlotView_1.PlotView; } });\r\nvar CompositionView_1 = require(\"./CompositionView\");\r\nObject.defineProperty(exports, \"CompositionView\", { enumerable: true, get: function () { return CompositionView_1.CompositionView; } });\r\nvar ConcatView_1 = require(\"./ConcatView\");\r\nObject.defineProperty(exports, \"ConcatView\", { enumerable: true, get: function () { return ConcatView_1.ConcatView; } });\r\nvar FacetView_1 = require(\"./FacetView\");\r\nObject.defineProperty(exports, \"FacetView\", { enumerable: true, get: function () { return FacetView_1.FacetView; } });\r\nvar LayerView_1 = require(\"./LayerView\");\r\nObject.defineProperty(exports, \"LayerView\", { enumerable: true, get: function () { return LayerView_1.LayerView; } });\r\nvar RepeatView_1 = require(\"./RepeatView\");\r\nObject.defineProperty(exports, \"RepeatView\", { enumerable: true, get: function () { return RepeatView_1.RepeatView; } });\r\nvar SpecCompiler_1 = require(\"./SpecCompiler\");\r\nObject.defineProperty(exports, \"SpecCompiler\", { enumerable: true, get: function () { return SpecCompiler_1.SpecCompiler; } });\r\nvar SpecParser_1 = require(\"./SpecParser\");\r\nObject.defineProperty(exports, \"SpecParser\", { enumerable: true, get: function () { return SpecParser_1.SpecParser; } });\r\nvar LayoutType_1 = require(\"./LayoutType\");\r\nObject.defineProperty(exports, \"COMPOSITION_TYPES\", { enumerable: true, get: function () { return LayoutType_1.COMPOSITION_TYPES; } });\r\nObject.defineProperty(exports, \"PLOT_TYPES\", { enumerable: true, get: function () { return LayoutType_1.PLOT_TYPES; } });\r\nObject.defineProperty(exports, \"layouts\", { enumerable: true, get: function () { return LayoutType_1.layouts; } });\r\nvar MarkEncoding_1 = require(\"./MarkEncoding\");\r\nObject.defineProperty(exports, \"positionEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.positionEncodings; } });\r\nObject.defineProperty(exports, \"geographicPositionEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.geographicPositionEncodings; } });\r\nObject.defineProperty(exports, \"facetChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.facetChannelEncodings; } });\r\nObject.defineProperty(exports, \"hyperLinkChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.hyperLinkChannelEncodings; } });\r\nObject.defineProperty(exports, \"keyChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.keyChannelEncodings; } });\r\nObject.defineProperty(exports, \"loDChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.loDChannelEncodings; } });\r\nObject.defineProperty(exports, \"markEncodingGroups\", { enumerable: true, get: function () { return MarkEncoding_1.markEncodingGroups; } });\r\nObject.defineProperty(exports, \"markEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.markEncodings; } });\r\nObject.defineProperty(exports, \"markPropertiesChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.markPropertiesChannelEncodings; } });\r\nObject.defineProperty(exports, \"orderChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.orderChannelEncodings; } });\r\nObject.defineProperty(exports, \"textTooltipChannelEncodings\", { enumerable: true, get: function () { return MarkEncoding_1.textTooltipChannelEncodings; } });\r\nvar MarkType_1 = require(\"./MarkType\");\r\nObject.defineProperty(exports, \"MARK_TYPES\", { enumerable: true, get: function () { return MarkType_1.MARK_TYPES; } });\r\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst parseuri = require(\"parseuri\");\nconst debug = require(\"debug\")(\"socket.io-client:url\");\n/**\n * URL parser.\n *\n * @param uri - url\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","module.exports = (() => {\n  if (typeof self !== \"undefined\") {\n    return self;\n  } else if (typeof window !== \"undefined\") {\n    return window;\n  } else {\n    return Function(\"return this\")();\n  }\n})();\n","// browser shim for xmlhttprequest module\n\nconst hasCORS = require(\"has-cors\");\nconst globalThis = require(\"./globalThis\");\n\nmodule.exports = function(opts) {\n  const xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  const xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  const enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) {}\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if (\"undefined\" !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) {}\n\n  if (!xdomain) {\n    try {\n      return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\n        \"Microsoft.XMLHTTP\"\n      );\n    } catch (e) {}\n  }\n};\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\n\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n  PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\n\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\nmodule.exports = {\n  PACKET_TYPES,\n  PACKET_TYPES_REVERSE,\n  ERROR_PACKET\n};\n","const { PACKET_TYPES } = require(\"./commons\");\n\nconst withNativeBlob =\n  typeof Blob === \"function\" ||\n  (typeof Blob !== \"undefined\" &&\n    Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n  return typeof ArrayBuffer.isView === \"function\"\n    ? ArrayBuffer.isView(obj)\n    : obj && obj.buffer instanceof ArrayBuffer;\n};\n\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n  if (withNativeBlob && data instanceof Blob) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(data, callback);\n    }\n  } else if (\n    withNativeArrayBuffer &&\n    (data instanceof ArrayBuffer || isView(data))\n  ) {\n    if (supportsBinary) {\n      return callback(data instanceof ArrayBuffer ? data : data.buffer);\n    } else {\n      return encodeBlobAsBase64(new Blob([data]), callback);\n    }\n  }\n  // plain string\n  return callback(PACKET_TYPES[type] + (data || \"\"));\n};\n\nconst encodeBlobAsBase64 = (data, callback) => {\n  const fileReader = new FileReader();\n  fileReader.onload = function() {\n    const content = fileReader.result.split(\",\")[1];\n    callback(\"b\" + content);\n  };\n  return fileReader.readAsDataURL(data);\n};\n\nmodule.exports = encodePacket;\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","const { PACKET_TYPES_REVERSE, ERROR_PACKET } = require(\"./commons\");\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\nlet base64decoder;\nif (withNativeArrayBuffer) {\n  base64decoder = require(\"base64-arraybuffer\");\n}\n\nconst decodePacket = (encodedPacket, binaryType) => {\n  if (typeof encodedPacket !== \"string\") {\n    return {\n      type: \"message\",\n      data: mapBinary(encodedPacket, binaryType)\n    };\n  }\n  const type = encodedPacket.charAt(0);\n  if (type === \"b\") {\n    return {\n      type: \"message\",\n      data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n    };\n  }\n  const packetType = PACKET_TYPES_REVERSE[type];\n  if (!packetType) {\n    return ERROR_PACKET;\n  }\n  return encodedPacket.length > 1\n    ? {\n        type: PACKET_TYPES_REVERSE[type],\n        data: encodedPacket.substring(1)\n      }\n    : {\n        type: PACKET_TYPES_REVERSE[type]\n      };\n};\n\nconst decodeBase64Packet = (data, binaryType) => {\n  if (base64decoder) {\n    const decoded = base64decoder.decode(data);\n    return mapBinary(decoded, binaryType);\n  } else {\n    return { base64: true, data }; // fallback for old browsers\n  }\n};\n\nconst mapBinary = (data, binaryType) => {\n  switch (binaryType) {\n    case \"blob\":\n      return data instanceof ArrayBuffer ? new Blob([data]) : data;\n    case \"arraybuffer\":\n    default:\n      return data; // assuming the data is already an ArrayBuffer\n  }\n};\n\nmodule.exports = decodePacket;\n","const encodePacket = require(\"./encodePacket\");\nconst decodePacket = require(\"./decodePacket\");\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n\nconst encodePayload = (packets, callback) => {\n  // some packets may be added to the array while encoding, so the initial length must be saved\n  const length = packets.length;\n  const encodedPackets = new Array(length);\n  let count = 0;\n\n  packets.forEach((packet, i) => {\n    // force base64 encoding for binary packets\n    encodePacket(packet, false, encodedPacket => {\n      encodedPackets[i] = encodedPacket;\n      if (++count === length) {\n        callback(encodedPackets.join(SEPARATOR));\n      }\n    });\n  });\n};\n\nconst decodePayload = (encodedPayload, binaryType) => {\n  const encodedPackets = encodedPayload.split(SEPARATOR);\n  const packets = [];\n  for (let i = 0; i < encodedPackets.length; i++) {\n    const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n    packets.push(decodedPacket);\n    if (decodedPacket.type === \"error\") {\n      break;\n    }\n  }\n  return packets;\n};\n\nmodule.exports = {\n  protocol: 4,\n  encodePacket,\n  encodePayload,\n  decodePacket,\n  decodePayload\n};\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","const parser = require(\"engine.io-parser\");\nconst Emitter = require(\"component-emitter\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      throw new Error(\"Transport not open\");\n    }\n  }\n\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n\n  /**\n   * Called with a decoded packet.\n   */\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n}\n\nmodule.exports = Transport;\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","const Transport = require(\"../transport\");\nconst parseqs = require(\"parseqs\");\nconst parser = require(\"engine.io-parser\");\nconst yeast = require(\"yeast\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling\");\n\nclass Polling extends Transport {\n  /**\n   * Transport name.\n   */\n  get name() {\n    return \"polling\";\n  }\n\n  /**\n   * Opens the socket (triggers polling). We write a PING message to determine\n   * when the transport is open.\n   *\n   * @api private\n   */\n  doOpen() {\n    this.poll();\n  }\n\n  /**\n   * Pauses polling.\n   *\n   * @param {Function} callback upon buffers are flushed and transport is paused\n   * @api private\n   */\n  pause(onPause) {\n    const self = this;\n\n    this.readyState = \"pausing\";\n\n    function pause() {\n      debug(\"paused\");\n      self.readyState = \"paused\";\n      onPause();\n    }\n\n    if (this.polling || !this.writable) {\n      let total = 0;\n\n      if (this.polling) {\n        debug(\"we are currently polling - waiting to pause\");\n        total++;\n        this.once(\"pollComplete\", function() {\n          debug(\"pre-pause polling complete\");\n          --total || pause();\n        });\n      }\n\n      if (!this.writable) {\n        debug(\"we are currently writing - waiting to pause\");\n        total++;\n        this.once(\"drain\", function() {\n          debug(\"pre-pause writing complete\");\n          --total || pause();\n        });\n      }\n    } else {\n      pause();\n    }\n  }\n\n  /**\n   * Starts polling cycle.\n   *\n   * @api public\n   */\n  poll() {\n    debug(\"polling\");\n    this.polling = true;\n    this.doPoll();\n    this.emit(\"poll\");\n  }\n\n  /**\n   * Overloads onData to detect payloads.\n   *\n   * @api private\n   */\n  onData(data) {\n    const self = this;\n    debug(\"polling got data %s\", data);\n    const callback = function(packet, index, total) {\n      // if its the first message we consider the transport open\n      if (\"opening\" === self.readyState && packet.type === \"open\") {\n        self.onOpen();\n      }\n\n      // if its a close packet, we close the ongoing requests\n      if (\"close\" === packet.type) {\n        self.onClose();\n        return false;\n      }\n\n      // otherwise bypass onData and handle the message\n      self.onPacket(packet);\n    };\n\n    // decode payload\n    parser.decodePayload(data, this.socket.binaryType).forEach(callback);\n\n    // if an event did not trigger closing\n    if (\"closed\" !== this.readyState) {\n      // if we got data we're not polling\n      this.polling = false;\n      this.emit(\"pollComplete\");\n\n      if (\"open\" === this.readyState) {\n        this.poll();\n      } else {\n        debug('ignoring poll - transport state \"%s\"', this.readyState);\n      }\n    }\n  }\n\n  /**\n   * For polling, send a close packet.\n   *\n   * @api private\n   */\n  doClose() {\n    const self = this;\n\n    function close() {\n      debug(\"writing close packet\");\n      self.write([{ type: \"close\" }]);\n    }\n\n    if (\"open\" === this.readyState) {\n      debug(\"transport open - closing\");\n      close();\n    } else {\n      // in case we're trying to close while\n      // handshaking is in progress (GH-164)\n      debug(\"transport not open - deferring close\");\n      this.once(\"open\", close);\n    }\n  }\n\n  /**\n   * Writes a packets payload.\n   *\n   * @param {Array} data packets\n   * @param {Function} drain callback\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    parser.encodePayload(packets, data => {\n      this.doWrite(data, () => {\n        this.writable = true;\n        this.emit(\"drain\");\n      });\n    });\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"https\" : \"http\";\n    let port = \"\";\n\n    // cache busting is forced\n    if (false !== this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    if (!this.supportsBinary && !query.sid) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n        (\"http\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n}\n\nmodule.exports = Polling;\n","module.exports.pick = (obj, ...attr) => {\n  return attr.reduce((acc, k) => {\n    if (obj.hasOwnProperty(k)) {\n      acc[k] = obj[k];\n    }\n    return acc;\n  }, {});\n};\n","/* global attachEvent */\n\nconst XMLHttpRequest = require(\"xmlhttprequest-ssl\");\nconst Polling = require(\"./polling\");\nconst Emitter = require(\"component-emitter\");\nconst { pick } = require(\"../util\");\nconst globalThis = require(\"../globalThis\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling-xhr\");\n\n/**\n * Empty function\n */\n\nfunction empty() {}\n\nconst hasXHR2 = (function() {\n  const xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\nclass XHR extends Polling {\n  /**\n   * XHR Polling constructor.\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    if (typeof location !== \"undefined\") {\n      const isSSL = \"https:\" === location.protocol;\n      let port = location.port;\n\n      // some user agents have empty `location.port`\n      if (!port) {\n        port = isSSL ? 443 : 80;\n      }\n\n      this.xd =\n        (typeof location !== \"undefined\" &&\n          opts.hostname !== location.hostname) ||\n        port !== opts.port;\n      this.xs = opts.secure !== isSSL;\n    }\n    /**\n     * XHR supports binary\n     */\n    const forceBase64 = opts && opts.forceBase64;\n    this.supportsBinary = hasXHR2 && !forceBase64;\n  }\n\n  /**\n   * Creates a request.\n   *\n   * @param {String} method\n   * @api private\n   */\n  request(opts = {}) {\n    Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n    return new Request(this.uri(), opts);\n  }\n\n  /**\n   * Sends data.\n   *\n   * @param {String} data to send.\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const req = this.request({\n      method: \"POST\",\n      data: data\n    });\n    const self = this;\n    req.on(\"success\", fn);\n    req.on(\"error\", function(err) {\n      self.onError(\"xhr post error\", err);\n    });\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    debug(\"xhr poll\");\n    const req = this.request();\n    const self = this;\n    req.on(\"data\", function(data) {\n      self.onData(data);\n    });\n    req.on(\"error\", function(err) {\n      self.onError(\"xhr poll error\", err);\n    });\n    this.pollXhr = req;\n  }\n}\n\nclass Request extends Emitter {\n  /**\n   * Request constructor\n   *\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts) {\n    super();\n    this.opts = opts;\n\n    this.method = opts.method || \"GET\";\n    this.uri = uri;\n    this.async = false !== opts.async;\n    this.data = undefined !== opts.data ? opts.data : null;\n\n    this.create();\n  }\n\n  /**\n   * Creates the XHR object and sends the request.\n   *\n   * @api private\n   */\n  create() {\n    const opts = pick(\n      this.opts,\n      \"agent\",\n      \"enablesXDR\",\n      \"pfx\",\n      \"key\",\n      \"passphrase\",\n      \"cert\",\n      \"ca\",\n      \"ciphers\",\n      \"rejectUnauthorized\"\n    );\n    opts.xdomain = !!this.opts.xd;\n    opts.xscheme = !!this.opts.xs;\n\n    const xhr = (this.xhr = new XMLHttpRequest(opts));\n    const self = this;\n\n    try {\n      debug(\"xhr open %s: %s\", this.method, this.uri);\n      xhr.open(this.method, this.uri, this.async);\n      try {\n        if (this.opts.extraHeaders) {\n          xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n          for (let i in this.opts.extraHeaders) {\n            if (this.opts.extraHeaders.hasOwnProperty(i)) {\n              xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n            }\n          }\n        }\n      } catch (e) {}\n\n      if (\"POST\" === this.method) {\n        try {\n          xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n        } catch (e) {}\n      }\n\n      try {\n        xhr.setRequestHeader(\"Accept\", \"*/*\");\n      } catch (e) {}\n\n      // ie6 check\n      if (\"withCredentials\" in xhr) {\n        xhr.withCredentials = this.opts.withCredentials;\n      }\n\n      if (this.opts.requestTimeout) {\n        xhr.timeout = this.opts.requestTimeout;\n      }\n\n      if (this.hasXDR()) {\n        xhr.onload = function() {\n          self.onLoad();\n        };\n        xhr.onerror = function() {\n          self.onError(xhr.responseText);\n        };\n      } else {\n        xhr.onreadystatechange = function() {\n          if (4 !== xhr.readyState) return;\n          if (200 === xhr.status || 1223 === xhr.status) {\n            self.onLoad();\n          } else {\n            // make sure the `error` event handler that's user-set\n            // does not throw in the same tick and gets caught here\n            setTimeout(function() {\n              self.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n            }, 0);\n          }\n        };\n      }\n\n      debug(\"xhr data %s\", this.data);\n      xhr.send(this.data);\n    } catch (e) {\n      // Need to defer since .create() is called directly from the constructor\n      // and thus the 'error' event can only be only bound *after* this exception\n      // occurs.  Therefore, also, we cannot throw here at all.\n      setTimeout(function() {\n        self.onError(e);\n      }, 0);\n      return;\n    }\n\n    if (typeof document !== \"undefined\") {\n      this.index = Request.requestsCount++;\n      Request.requests[this.index] = this;\n    }\n  }\n\n  /**\n   * Called upon successful response.\n   *\n   * @api private\n   */\n  onSuccess() {\n    this.emit(\"success\");\n    this.cleanup();\n  }\n\n  /**\n   * Called if we have data.\n   *\n   * @api private\n   */\n  onData(data) {\n    this.emit(\"data\", data);\n    this.onSuccess();\n  }\n\n  /**\n   * Called upon error.\n   *\n   * @api private\n   */\n  onError(err) {\n    this.emit(\"error\", err);\n    this.cleanup(true);\n  }\n\n  /**\n   * Cleans up house.\n   *\n   * @api private\n   */\n  cleanup(fromError) {\n    if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n      return;\n    }\n    // xmlhttprequest\n    if (this.hasXDR()) {\n      this.xhr.onload = this.xhr.onerror = empty;\n    } else {\n      this.xhr.onreadystatechange = empty;\n    }\n\n    if (fromError) {\n      try {\n        this.xhr.abort();\n      } catch (e) {}\n    }\n\n    if (typeof document !== \"undefined\") {\n      delete Request.requests[this.index];\n    }\n\n    this.xhr = null;\n  }\n\n  /**\n   * Called upon load.\n   *\n   * @api private\n   */\n  onLoad() {\n    const data = this.xhr.responseText;\n    if (data !== null) {\n      this.onData(data);\n    }\n  }\n\n  /**\n   * Check if it has XDomainRequest.\n   *\n   * @api private\n   */\n  hasXDR() {\n    return typeof XDomainRequest !== \"undefined\" && !this.xs && this.enablesXDR;\n  }\n\n  /**\n   * Aborts the request.\n   *\n   * @api public\n   */\n  abort() {\n    this.cleanup();\n  }\n}\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== \"undefined\") {\n  if (typeof attachEvent === \"function\") {\n    attachEvent(\"onunload\", unloadHandler);\n  } else if (typeof addEventListener === \"function\") {\n    const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (let i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n","const Polling = require(\"./polling\");\nconst globalThis = require(\"../globalThis\");\n\nconst rNewline = /\\n/g;\nconst rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nlet callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty() {}\n\nclass JSONPPolling extends Polling {\n  /**\n   * JSONP Polling constructor.\n   *\n   * @param {Object} opts.\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.query = this.query || {};\n\n    // define global callbacks array if not present\n    // we do this here (lazily) to avoid unneeded global pollution\n    if (!callbacks) {\n      // we need to consider multiple engines in the same page\n      callbacks = globalThis.___eio = globalThis.___eio || [];\n    }\n\n    // callback identifier\n    this.index = callbacks.length;\n\n    // add callback to jsonp global\n    const self = this;\n    callbacks.push(function(msg) {\n      self.onData(msg);\n    });\n\n    // append to query string\n    this.query.j = this.index;\n\n    // prevent spurious errors from being emitted when the window is unloaded\n    if (typeof addEventListener === \"function\") {\n      addEventListener(\n        \"beforeunload\",\n        function() {\n          if (self.script) self.script.onerror = empty;\n        },\n        false\n      );\n    }\n  }\n\n  /**\n   * JSONP only supports binary as base64 encoded strings\n   */\n  get supportsBinary() {\n    return false;\n  }\n\n  /**\n   * Closes the socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    if (this.form) {\n      this.form.parentNode.removeChild(this.form);\n      this.form = null;\n      this.iframe = null;\n    }\n\n    super.doClose();\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    const self = this;\n    const script = document.createElement(\"script\");\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.uri();\n    script.onerror = function(e) {\n      self.onError(\"jsonp poll error\", e);\n    };\n\n    const insertAt = document.getElementsByTagName(\"script\")[0];\n    if (insertAt) {\n      insertAt.parentNode.insertBefore(script, insertAt);\n    } else {\n      (document.head || document.body).appendChild(script);\n    }\n    this.script = script;\n\n    const isUAgecko =\n      \"undefined\" !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n    if (isUAgecko) {\n      setTimeout(function() {\n        const iframe = document.createElement(\"iframe\");\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  }\n\n  /**\n   * Writes with a hidden iframe.\n   *\n   * @param {String} data to send\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const self = this;\n    let iframe;\n\n    if (!this.form) {\n      const form = document.createElement(\"form\");\n      const area = document.createElement(\"textarea\");\n      const id = (this.iframeId = \"eio_iframe_\" + this.index);\n\n      form.className = \"socketio\";\n      form.style.position = \"absolute\";\n      form.style.top = \"-1000px\";\n      form.style.left = \"-1000px\";\n      form.target = id;\n      form.method = \"POST\";\n      form.setAttribute(\"accept-charset\", \"utf-8\");\n      area.name = \"d\";\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.uri();\n\n    function complete() {\n      initIframe();\n      fn();\n    }\n\n    function initIframe() {\n      if (self.iframe) {\n        try {\n          self.form.removeChild(self.iframe);\n        } catch (e) {\n          self.onError(\"jsonp polling iframe removal error\", e);\n        }\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        const html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n        iframe = document.createElement(html);\n      } catch (e) {\n        iframe = document.createElement(\"iframe\");\n        iframe.name = self.iframeId;\n        iframe.src = \"javascript:0\";\n      }\n\n      iframe.id = self.iframeId;\n\n      self.form.appendChild(iframe);\n      self.iframe = iframe;\n    }\n\n    initIframe();\n\n    // escape \\n to prevent it from being converted into \\r\\n by some UAs\n    // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n    data = data.replace(rEscapedNewline, \"\\\\\\n\");\n    this.area.value = data.replace(rNewline, \"\\\\n\");\n\n    try {\n      this.form.submit();\n    } catch (e) {}\n\n    if (this.iframe.attachEvent) {\n      this.iframe.onreadystatechange = function() {\n        if (self.iframe.readyState === \"complete\") {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n  }\n}\n\nmodule.exports = JSONPPolling;\n","const globalThis = require(\"../globalThis\");\n\nmodule.exports = {\n  WebSocket: globalThis.WebSocket || globalThis.MozWebSocket,\n  usingBrowserWebSocket: true,\n  defaultBinaryType: \"arraybuffer\"\n};\n","const Transport = require(\"../transport\");\nconst parser = require(\"engine.io-parser\");\nconst parseqs = require(\"parseqs\");\nconst yeast = require(\"yeast\");\nconst { pick } = require(\"../util\");\nconst {\n  WebSocket,\n  usingBrowserWebSocket,\n  defaultBinaryType\n} = require(\"./websocket-constructor\");\n\nconst debug = require(\"debug\")(\"engine.io-client:websocket\");\n\n// detect ReactNative environment\nconst isReactNative =\n  typeof navigator !== \"undefined\" &&\n  typeof navigator.product === \"string\" &&\n  navigator.product.toLowerCase() === \"reactnative\";\n\nclass WS extends Transport {\n  /**\n   * WebSocket transport constructor.\n   *\n   * @api {Object} connection options\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.supportsBinary = !opts.forceBase64;\n  }\n\n  /**\n   * Transport name.\n   *\n   * @api public\n   */\n  get name() {\n    return \"websocket\";\n  }\n\n  /**\n   * Opens socket.\n   *\n   * @api private\n   */\n  doOpen() {\n    if (!this.check()) {\n      // let probe timeout\n      return;\n    }\n\n    const uri = this.uri();\n    const protocols = this.opts.protocols;\n\n    // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n    const opts = isReactNative\n      ? {}\n      : pick(\n          this.opts,\n          \"agent\",\n          \"perMessageDeflate\",\n          \"pfx\",\n          \"key\",\n          \"passphrase\",\n          \"cert\",\n          \"ca\",\n          \"ciphers\",\n          \"rejectUnauthorized\",\n          \"localAddress\",\n          \"protocolVersion\",\n          \"origin\",\n          \"maxPayload\",\n          \"family\",\n          \"checkServerIdentity\"\n        );\n\n    if (this.opts.extraHeaders) {\n      opts.headers = this.opts.extraHeaders;\n    }\n\n    try {\n      this.ws =\n        usingBrowserWebSocket && !isReactNative\n          ? protocols\n            ? new WebSocket(uri, protocols)\n            : new WebSocket(uri)\n          : new WebSocket(uri, protocols, opts);\n    } catch (err) {\n      return this.emit(\"error\", err);\n    }\n\n    this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n\n    this.addEventListeners();\n  }\n\n  /**\n   * Adds event listeners to the socket\n   *\n   * @api private\n   */\n  addEventListeners() {\n    const self = this;\n\n    this.ws.onopen = function() {\n      self.onOpen();\n    };\n    this.ws.onclose = function() {\n      self.onClose();\n    };\n    this.ws.onmessage = function(ev) {\n      self.onData(ev.data);\n    };\n    this.ws.onerror = function(e) {\n      self.onError(\"websocket error\", e);\n    };\n  }\n\n  /**\n   * Writes data to socket.\n   *\n   * @param {Array} array of packets.\n   * @api private\n   */\n  write(packets) {\n    const self = this;\n    this.writable = false;\n\n    // encodePacket efficient as it uses WS framing\n    // no need for encodePayload\n    let total = packets.length;\n    let i = 0;\n    const l = total;\n    for (; i < l; i++) {\n      (function(packet) {\n        parser.encodePacket(packet, self.supportsBinary, function(data) {\n          // always create a new object (GH-437)\n          const opts = {};\n          if (!usingBrowserWebSocket) {\n            if (packet.options) {\n              opts.compress = packet.options.compress;\n            }\n\n            if (self.opts.perMessageDeflate) {\n              const len =\n                \"string\" === typeof data\n                  ? Buffer.byteLength(data)\n                  : data.length;\n              if (len < self.opts.perMessageDeflate.threshold) {\n                opts.compress = false;\n              }\n            }\n          }\n\n          // Sometimes the websocket has already been closed but the browser didn't\n          // have a chance of informing us about it yet, in that case send will\n          // throw an error\n          try {\n            if (usingBrowserWebSocket) {\n              // TypeError is thrown when passing the second argument on Safari\n              self.ws.send(data);\n            } else {\n              self.ws.send(data, opts);\n            }\n          } catch (e) {\n            debug(\"websocket closed before onclose event\");\n          }\n\n          --total || done();\n        });\n      })(packets[i]);\n    }\n\n    function done() {\n      self.emit(\"flush\");\n\n      // fake drain\n      // defer to next tick to allow Socket to clear writeBuffer\n      setTimeout(function() {\n        self.writable = true;\n        self.emit(\"drain\");\n      }, 0);\n    }\n  }\n\n  /**\n   * Called upon close\n   *\n   * @api private\n   */\n  onClose() {\n    Transport.prototype.onClose.call(this);\n  }\n\n  /**\n   * Closes socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (typeof this.ws !== \"undefined\") {\n      this.ws.close();\n    }\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"wss\" : \"ws\";\n    let port = \"\";\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n        (\"ws\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // append timestamp to URI\n    if (this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    // communicate binary support capabilities\n    if (!this.supportsBinary) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n\n  /**\n   * Feature detection for WebSocket.\n   *\n   * @return {Boolean} whether this transport is available.\n   * @api public\n   */\n  check() {\n    return (\n      !!WebSocket &&\n      !(\"__initialize\" in WebSocket && this.name === WS.prototype.name)\n    );\n  }\n}\n\nmodule.exports = WS;\n","const XMLHttpRequest = require(\"xmlhttprequest-ssl\");\nconst XHR = require(\"./polling-xhr\");\nconst JSONP = require(\"./polling-jsonp\");\nconst websocket = require(\"./websocket\");\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts) {\n  let xhr;\n  let xd = false;\n  let xs = false;\n  const jsonp = false !== opts.jsonp;\n\n  if (typeof location !== \"undefined\") {\n    const isSSL = \"https:\" === location.protocol;\n    let port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if (\"open\" in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error(\"JSONP disabled\");\n    return new JSONP(opts);\n  }\n}\n","const transports = require(\"./transports/index\");\nconst Emitter = require(\"component-emitter\");\nconst debug = require(\"debug\")(\"engine.io-client:socket\");\nconst parser = require(\"engine.io-parser\");\nconst parseuri = require(\"parseuri\");\nconst parseqs = require(\"parseqs\");\n\nclass Socket extends Emitter {\n  /**\n   * Socket constructor.\n   *\n   * @param {String|Object} uri or options\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts = {}) {\n    super();\n\n    if (uri && \"object\" === typeof uri) {\n      opts = uri;\n      uri = null;\n    }\n\n    if (uri) {\n      uri = parseuri(uri);\n      opts.hostname = uri.host;\n      opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n      opts.port = uri.port;\n      if (uri.query) opts.query = uri.query;\n    } else if (opts.host) {\n      opts.hostname = parseuri(opts.host).host;\n    }\n\n    this.secure =\n      null != opts.secure\n        ? opts.secure\n        : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n\n    if (opts.hostname && !opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? \"443\" : \"80\";\n    }\n\n    this.hostname =\n      opts.hostname ||\n      (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n    this.port =\n      opts.port ||\n      (typeof location !== \"undefined\" && location.port\n        ? location.port\n        : this.secure\n        ? 443\n        : 80);\n\n    this.transports = opts.transports || [\"polling\", \"websocket\"];\n    this.readyState = \"\";\n    this.writeBuffer = [];\n    this.prevBufferLen = 0;\n\n    this.opts = Object.assign(\n      {\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        jsonp: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {}\n      },\n      opts\n    );\n\n    this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n\n    if (typeof this.opts.query === \"string\") {\n      this.opts.query = parseqs.decode(this.opts.query);\n    }\n\n    // set on handshake\n    this.id = null;\n    this.upgrades = null;\n    this.pingInterval = null;\n    this.pingTimeout = null;\n\n    // set on heartbeat\n    this.pingTimeoutTimer = null;\n\n    this.open();\n  }\n\n  /**\n   * Creates transport of the given type.\n   *\n   * @param {String} transport name\n   * @return {Transport}\n   * @api private\n   */\n  createTransport(name) {\n    debug('creating transport \"%s\"', name);\n    const query = clone(this.opts.query);\n\n    // append engine.io protocol identifier\n    query.EIO = parser.protocol;\n\n    // transport name\n    query.transport = name;\n\n    // session id if we already have one\n    if (this.id) query.sid = this.id;\n\n    const opts = Object.assign(\n      {},\n      this.opts.transportOptions[name],\n      this.opts,\n      {\n        query,\n        socket: this,\n        hostname: this.hostname,\n        secure: this.secure,\n        port: this.port\n      }\n    );\n\n    debug(\"options: %j\", opts);\n\n    return new transports[name](opts);\n  }\n\n  /**\n   * Initializes transport to use and starts probe.\n   *\n   * @api private\n   */\n  open() {\n    let transport;\n    if (\n      this.opts.rememberUpgrade &&\n      Socket.priorWebsocketSuccess &&\n      this.transports.indexOf(\"websocket\") !== -1\n    ) {\n      transport = \"websocket\";\n    } else if (0 === this.transports.length) {\n      // Emit error on next tick so it can be listened to\n      const self = this;\n      setTimeout(function() {\n        self.emit(\"error\", \"No transports available\");\n      }, 0);\n      return;\n    } else {\n      transport = this.transports[0];\n    }\n    this.readyState = \"opening\";\n\n    // Retry with the next transport if the transport is disabled (jsonp: false)\n    try {\n      transport = this.createTransport(transport);\n    } catch (e) {\n      debug(\"error while creating transport: %s\", e);\n      this.transports.shift();\n      this.open();\n      return;\n    }\n\n    transport.open();\n    this.setTransport(transport);\n  }\n\n  /**\n   * Sets the current transport. Disables the existing one (if any).\n   *\n   * @api private\n   */\n  setTransport(transport) {\n    debug(\"setting transport %s\", transport.name);\n    const self = this;\n\n    if (this.transport) {\n      debug(\"clearing existing transport %s\", this.transport.name);\n      this.transport.removeAllListeners();\n    }\n\n    // set up transport\n    this.transport = transport;\n\n    // set up transport listeners\n    transport\n      .on(\"drain\", function() {\n        self.onDrain();\n      })\n      .on(\"packet\", function(packet) {\n        self.onPacket(packet);\n      })\n      .on(\"error\", function(e) {\n        self.onError(e);\n      })\n      .on(\"close\", function() {\n        self.onClose(\"transport close\");\n      });\n  }\n\n  /**\n   * Probes a transport.\n   *\n   * @param {String} transport name\n   * @api private\n   */\n  probe(name) {\n    debug('probing transport \"%s\"', name);\n    let transport = this.createTransport(name, { probe: 1 });\n    let failed = false;\n    const self = this;\n\n    Socket.priorWebsocketSuccess = false;\n\n    function onTransportOpen() {\n      if (self.onlyBinaryUpgrades) {\n        const upgradeLosesBinary =\n          !this.supportsBinary && self.transport.supportsBinary;\n        failed = failed || upgradeLosesBinary;\n      }\n      if (failed) return;\n\n      debug('probe transport \"%s\" opened', name);\n      transport.send([{ type: \"ping\", data: \"probe\" }]);\n      transport.once(\"packet\", function(msg) {\n        if (failed) return;\n        if (\"pong\" === msg.type && \"probe\" === msg.data) {\n          debug('probe transport \"%s\" pong', name);\n          self.upgrading = true;\n          self.emit(\"upgrading\", transport);\n          if (!transport) return;\n          Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n\n          debug('pausing current transport \"%s\"', self.transport.name);\n          self.transport.pause(function() {\n            if (failed) return;\n            if (\"closed\" === self.readyState) return;\n            debug(\"changing transport and sending upgrade packet\");\n\n            cleanup();\n\n            self.setTransport(transport);\n            transport.send([{ type: \"upgrade\" }]);\n            self.emit(\"upgrade\", transport);\n            transport = null;\n            self.upgrading = false;\n            self.flush();\n          });\n        } else {\n          debug('probe transport \"%s\" failed', name);\n          const err = new Error(\"probe error\");\n          err.transport = transport.name;\n          self.emit(\"upgradeError\", err);\n        }\n      });\n    }\n\n    function freezeTransport() {\n      if (failed) return;\n\n      // Any callback called by transport should be ignored since now\n      failed = true;\n\n      cleanup();\n\n      transport.close();\n      transport = null;\n    }\n\n    // Handle any error that happens while probing\n    function onerror(err) {\n      const error = new Error(\"probe error: \" + err);\n      error.transport = transport.name;\n\n      freezeTransport();\n\n      debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n      self.emit(\"upgradeError\", error);\n    }\n\n    function onTransportClose() {\n      onerror(\"transport closed\");\n    }\n\n    // When the socket is closed while we're probing\n    function onclose() {\n      onerror(\"socket closed\");\n    }\n\n    // When the socket is upgraded while we're probing\n    function onupgrade(to) {\n      if (transport && to.name !== transport.name) {\n        debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n        freezeTransport();\n      }\n    }\n\n    // Remove all listeners on the transport and on self\n    function cleanup() {\n      transport.removeListener(\"open\", onTransportOpen);\n      transport.removeListener(\"error\", onerror);\n      transport.removeListener(\"close\", onTransportClose);\n      self.removeListener(\"close\", onclose);\n      self.removeListener(\"upgrading\", onupgrade);\n    }\n\n    transport.once(\"open\", onTransportOpen);\n    transport.once(\"error\", onerror);\n    transport.once(\"close\", onTransportClose);\n\n    this.once(\"close\", onclose);\n    this.once(\"upgrading\", onupgrade);\n\n    transport.open();\n  }\n\n  /**\n   * Called when connection is deemed open.\n   *\n   * @api public\n   */\n  onOpen() {\n    debug(\"socket open\");\n    this.readyState = \"open\";\n    Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n    this.emit(\"open\");\n    this.flush();\n\n    // we check for `readyState` in case an `open`\n    // listener already closed the socket\n    if (\n      \"open\" === this.readyState &&\n      this.opts.upgrade &&\n      this.transport.pause\n    ) {\n      debug(\"starting upgrade probes\");\n      let i = 0;\n      const l = this.upgrades.length;\n      for (; i < l; i++) {\n        this.probe(this.upgrades[i]);\n      }\n    }\n  }\n\n  /**\n   * Handles a packet.\n   *\n   * @api private\n   */\n  onPacket(packet) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n      this.emit(\"packet\", packet);\n\n      // Socket is live - any packet counts\n      this.emit(\"heartbeat\");\n\n      switch (packet.type) {\n        case \"open\":\n          this.onHandshake(JSON.parse(packet.data));\n          break;\n\n        case \"ping\":\n          this.resetPingTimeout();\n          this.sendPacket(\"pong\");\n          this.emit(\"pong\");\n          break;\n\n        case \"error\":\n          const err = new Error(\"server error\");\n          err.code = packet.data;\n          this.onError(err);\n          break;\n\n        case \"message\":\n          this.emit(\"data\", packet.data);\n          this.emit(\"message\", packet.data);\n          break;\n      }\n    } else {\n      debug('packet received with socket readyState \"%s\"', this.readyState);\n    }\n  }\n\n  /**\n   * Called upon handshake completion.\n   *\n   * @param {Object} handshake obj\n   * @api private\n   */\n  onHandshake(data) {\n    this.emit(\"handshake\", data);\n    this.id = data.sid;\n    this.transport.query.sid = data.sid;\n    this.upgrades = this.filterUpgrades(data.upgrades);\n    this.pingInterval = data.pingInterval;\n    this.pingTimeout = data.pingTimeout;\n    this.onOpen();\n    // In case open handler closes socket\n    if (\"closed\" === this.readyState) return;\n    this.resetPingTimeout();\n  }\n\n  /**\n   * Sets and resets ping timeout timer based on server pings.\n   *\n   * @api private\n   */\n  resetPingTimeout() {\n    clearTimeout(this.pingTimeoutTimer);\n    this.pingTimeoutTimer = setTimeout(() => {\n      this.onClose(\"ping timeout\");\n    }, this.pingInterval + this.pingTimeout);\n  }\n\n  /**\n   * Called on `drain` event\n   *\n   * @api private\n   */\n  onDrain() {\n    this.writeBuffer.splice(0, this.prevBufferLen);\n\n    // setting prevBufferLen = 0 is very important\n    // for example, when upgrading, upgrade packet is sent over,\n    // and a nonzero prevBufferLen could cause problems on `drain`\n    this.prevBufferLen = 0;\n\n    if (0 === this.writeBuffer.length) {\n      this.emit(\"drain\");\n    } else {\n      this.flush();\n    }\n  }\n\n  /**\n   * Flush write buffers.\n   *\n   * @api private\n   */\n  flush() {\n    if (\n      \"closed\" !== this.readyState &&\n      this.transport.writable &&\n      !this.upgrading &&\n      this.writeBuffer.length\n    ) {\n      debug(\"flushing %d packets in socket\", this.writeBuffer.length);\n      this.transport.send(this.writeBuffer);\n      // keep track of current length of writeBuffer\n      // splice writeBuffer and callbackBuffer on `drain`\n      this.prevBufferLen = this.writeBuffer.length;\n      this.emit(\"flush\");\n    }\n  }\n\n  /**\n   * Sends a message.\n   *\n   * @param {String} message.\n   * @param {Function} callback function.\n   * @param {Object} options.\n   * @return {Socket} for chaining.\n   * @api public\n   */\n  write(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  send(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  /**\n   * Sends a packet.\n   *\n   * @param {String} packet type.\n   * @param {String} data.\n   * @param {Object} options.\n   * @param {Function} callback function.\n   * @api private\n   */\n  sendPacket(type, data, options, fn) {\n    if (\"function\" === typeof data) {\n      fn = data;\n      data = undefined;\n    }\n\n    if (\"function\" === typeof options) {\n      fn = options;\n      options = null;\n    }\n\n    if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n      return;\n    }\n\n    options = options || {};\n    options.compress = false !== options.compress;\n\n    const packet = {\n      type: type,\n      data: data,\n      options: options\n    };\n    this.emit(\"packetCreate\", packet);\n    this.writeBuffer.push(packet);\n    if (fn) this.once(\"flush\", fn);\n    this.flush();\n  }\n\n  /**\n   * Closes the connection.\n   *\n   * @api private\n   */\n  close() {\n    const self = this;\n\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.readyState = \"closing\";\n\n      if (this.writeBuffer.length) {\n        this.once(\"drain\", function() {\n          if (this.upgrading) {\n            waitForUpgrade();\n          } else {\n            close();\n          }\n        });\n      } else if (this.upgrading) {\n        waitForUpgrade();\n      } else {\n        close();\n      }\n    }\n\n    function close() {\n      self.onClose(\"forced close\");\n      debug(\"socket closing - telling transport to close\");\n      self.transport.close();\n    }\n\n    function cleanupAndClose() {\n      self.removeListener(\"upgrade\", cleanupAndClose);\n      self.removeListener(\"upgradeError\", cleanupAndClose);\n      close();\n    }\n\n    function waitForUpgrade() {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      self.once(\"upgrade\", cleanupAndClose);\n      self.once(\"upgradeError\", cleanupAndClose);\n    }\n\n    return this;\n  }\n\n  /**\n   * Called upon transport error\n   *\n   * @api private\n   */\n  onError(err) {\n    debug(\"socket error %j\", err);\n    Socket.priorWebsocketSuccess = false;\n    this.emit(\"error\", err);\n    this.onClose(\"transport error\", err);\n  }\n\n  /**\n   * Called upon transport close.\n   *\n   * @api private\n   */\n  onClose(reason, desc) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket close with reason: \"%s\"', reason);\n      const self = this;\n\n      // clear timers\n      clearTimeout(this.pingIntervalTimer);\n      clearTimeout(this.pingTimeoutTimer);\n\n      // stop event from firing again for transport\n      this.transport.removeAllListeners(\"close\");\n\n      // ensure transport won't stay open\n      this.transport.close();\n\n      // ignore further transport communication\n      this.transport.removeAllListeners();\n\n      // set ready state\n      this.readyState = \"closed\";\n\n      // clear session id\n      this.id = null;\n\n      // emit close event\n      this.emit(\"close\", reason, desc);\n\n      // clean buffers after, so users can still\n      // grab the buffers on `close` event\n      self.writeBuffer = [];\n      self.prevBufferLen = 0;\n    }\n  }\n\n  /**\n   * Filters upgrades, returning only those matching client transports.\n   *\n   * @param {Array} server upgrades\n   * @api private\n   *\n   */\n  filterUpgrades(upgrades) {\n    const filteredUpgrades = [];\n    let i = 0;\n    const j = upgrades.length;\n    for (; i < j; i++) {\n      if (~this.transports.indexOf(upgrades[i]))\n        filteredUpgrades.push(upgrades[i]);\n    }\n    return filteredUpgrades;\n  }\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\nfunction clone(obj) {\n  const o = {};\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\nmodule.exports = Socket;\n","const Socket = require(\"./socket\");\n\nmodule.exports = (uri, opts) => new Socket(uri, opts);\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nmodule.exports.Socket = Socket;\nmodule.exports.protocol = Socket.protocol; // this is an int\nmodule.exports.Transport = require(\"./transport\");\nmodule.exports.transports = require(\"./transports/index\");\nmodule.exports.parser = require(\"engine.io-parser\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_1 = require(\"./is-binary\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst Emitter = require(\"component-emitter\");\nconst binary_1 = require(\"./binary\");\nconst is_binary_1 = require(\"./is-binary\");\nconst debug = require(\"debug\")(\"socket.io-parser\");\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (is_binary_1.hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = binary_1.deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emit(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emit(\"decoded\", packet);\n            }\n        }\n        else if (is_binary_1.isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emit(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nexports.Decoder = Decoder;\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = binary_1.reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst Emitter = require(\"component-emitter\");\nconst on_1 = require(\"./on\");\nconst debug = require(\"debug\")(\"socket.io-client:socket\");\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        this.ids = 0;\n        this.acks = {};\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.connected = false;\n        this.disconnected = true;\n        this.flags = {};\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_1.on(io, \"open\", this.onopen.bind(this)),\n            on_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_1.on(io, \"error\", this.onerror.bind(this)),\n            on_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @param ev - event name\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            debug(\"emitting packet with ack id %d\", this.ids);\n            this.acks[this.ids] = args.pop();\n            packet.id = this.ids++;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            super.emit(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        super.emit(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    super.emit(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                super.emit(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        super.emit(\"connect\");\n        this.emitBuffered();\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\nexports.Socket = Socket;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst eio = require(\"engine.io-client\");\nconst socket_1 = require(\"./socket\");\nconst Emitter = require(\"component-emitter\");\nconst parser = require(\"socket.io-parser\");\nconst on_1 = require(\"./on\");\nconst Backoff = require(\"backo2\");\nconst debug = require(\"debug\")(\"socket.io-client:manager\");\nclass Manager extends Emitter {\n    constructor(uri, opts) {\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor(opts.randomizationFactor || 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = eio(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on_1.on(socket, \"error\", (err) => {\n            debug(\"error\");\n            self.cleanup();\n            self._readyState = \"closed\";\n            super.emit(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = setTimeout(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                socket.close();\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        super.emit(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_1.on(socket, \"ping\", this.onping.bind(this)), on_1.on(socket, \"data\", this.ondata.bind(this)), on_1.on(socket, \"error\", this.onerror.bind(this)), on_1.on(socket, \"close\", this.onclose.bind(this)), on_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        super.emit(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        super.emit(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        super.emit(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        if (packet.query && packet.type === 0)\n            packet.nsp += \"?\" + packet.query;\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        if (\"opening\" === this._readyState) {\n            // `onclose` will not fire because\n            // an open event never happened\n            this.cleanup();\n        }\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        debug(\"onclose\");\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        super.emit(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            super.emit(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = setTimeout(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                super.emit(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        super.emit(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        super.emit(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = exports.io = exports.Manager = exports.protocol = void 0;\nconst url_1 = require(\"./url\");\nconst manager_1 = require(\"./manager\");\nconst socket_1 = require(\"./socket\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_1.Socket; } });\nconst debug = require(\"debug\")(\"socket.io-client\");\n/**\n * Module exports.\n */\nmodule.exports = exports = lookup;\n/**\n * Managers cache.\n */\nconst cache = (exports.managers = {});\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_1.url(uri);\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.query;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n/**\n * `connect`.\n *\n * @param {String} uri\n * @public\n */\nexports.connect = lookup;\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nvar manager_2 = require(\"./manager\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_2.Manager; } });\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.broadcastNewVersion = exports.unsubscribeFromRemoteChanges = exports.subscribeToRemoteChanges = exports.previousInQueue = exports.nextInQueue = exports.connect = void 0;\r\nconst io = require(\"socket.io-client\");\r\nconst subscribers = [];\r\nlet socket = null;\r\nlet id = -1;\r\nfunction connect(url = \"http://localhost\", port = 5000, namespace = \"\") {\r\n    socket = io(`${url}:${port}/${namespace}`);\r\n    socket.on('broadcast_spec', function (msg) {\r\n        onExternallyUpdatedSpec(msg);\r\n        console.log(msg);\r\n    });\r\n    socket.on(\"send_spec\", function (msg) {\r\n        if (msg.target !== id) {\r\n            return;\r\n        }\r\n        onExternallyUpdatedSpec(msg);\r\n        console.log(msg);\r\n    });\r\n    id = Math.random();\r\n    socket.emit(\"register\", { \"id\": id });\r\n}\r\nexports.connect = connect;\r\nfunction onExternallyUpdatedSpec(message) {\r\n    subscribers.forEach((callback) => callback(message.spec, message.version));\r\n}\r\n;\r\nfunction nextInQueue(spec, version) {\r\n    socket.emit(\"get_next\", { spec, version, source: id });\r\n}\r\nexports.nextInQueue = nextInQueue;\r\n;\r\nfunction previousInQueue(spec, version) {\r\n    socket.emit(\"get_previous\", { spec, version, source: id });\r\n}\r\nexports.previousInQueue = previousInQueue;\r\nfunction subscribeToRemoteChanges(callback) {\r\n    subscribers.push(callback);\r\n}\r\nexports.subscribeToRemoteChanges = subscribeToRemoteChanges;\r\n;\r\nfunction unsubscribeFromRemoteChanges(callback) {\r\n    const indexInSubscribers = subscribers.indexOf(callback);\r\n    if (indexInSubscribers > -1) {\r\n        subscribers.splice(indexInSubscribers, 1);\r\n    }\r\n}\r\nexports.unsubscribeFromRemoteChanges = unsubscribeFromRemoteChanges;\r\nfunction broadcastNewVersion(spec, version) {\r\n    socket.emit(\"update_spec\", { spec, version });\r\n}\r\nexports.broadcastNewVersion = broadcastNewVersion;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./ViewModel/\"), exports);\r\n__exportStar(require(\"./DataModel/\"), exports);\r\n__exportStar(require(\"./WebsocketBridge/\"), exports);\r\n"],"names":["stringValue","Error","clone_","stableStringify","mark_1","spec_1","concat_1","MarkEncoding_1","d3_dsv_1","TranformNode_1","TransformTypes_1","DataModel_1","SpecUtils_1","data_1","TEXT","log.warn","log.message","channeldef_1","data","LayoutType_1","MarkType_1","require$$0","hasCORS","globalThis","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeArrayBuffer","require$$1","encodePacket","decodePacket","Emitter","parser","encode","decode","Transport","yeast","pick","debug","empty","XMLHttpRequest","Polling","require$$2","polling","XHR","JSONP","Socket","is_binary_1","binary_1","socket_io_parser_1","Backoff","eio","socket_1","manager_1","io","this"],"mappings":"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"}